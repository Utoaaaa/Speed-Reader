const staticAssets = {
  "/speedreader/AestheticFluidBg.min.js": {
    "content": "IWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9lKGV4cG9ydHMpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyJdLGUpOmUoKHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikuQ29sb3I0Qmc9e30pfSh0aGlzLChmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZSh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgaT0wLHI9QXJyYXkoZSk7aTxlO2krKylyW2ldPXRbaV07cmV0dXJuIHJ9ZnVuY3Rpb24gaSh0LGUsaSl7cmV0dXJuIGU9aChlKSxsKHQsdSgpP1JlZmxlY3QuY29uc3RydWN0KGUsaXx8W10saCh0KS5jb25zdHJ1Y3Rvcik6ZS5hcHBseSh0LGkpKX1mdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gbih0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcj1lW2ldO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZihyLmtleSkscil9fWZ1bmN0aW9uIHModCxlLGkpe3JldHVybiBlJiZuKHQucHJvdG90eXBlLGUpLGkmJm4odCxpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwicHJvdG90eXBlIix7d3JpdGFibGU6ITF9KSx0fWZ1bmN0aW9uIGEoKXtyZXR1cm4gYT0idW5kZWZpbmVkIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0LmJpbmQoKTpmdW5jdGlvbih0LGUsaSl7dmFyIHI9ZnVuY3Rpb24odCxlKXtmb3IoOyF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJm51bGwhPT0odD1oKHQpKTspO3JldHVybiB0fSh0LGUpO2lmKHIpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixlKTtyZXR1cm4gbi5nZXQ/bi5nZXQuY2FsbChhcmd1bWVudHMubGVuZ3RoPDM/dDppKTpuLnZhbHVlfX0sYS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gaD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0saCh0KX1mdW5jdGlvbiBvKHQsZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJwcm90b3R5cGUiLHt3cml0YWJsZTohMX0pLGUmJmModCxlKX1mdW5jdGlvbiB1KCl7dHJ5e3ZhciB0PSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKHQpe31yZXR1cm4odT1mdW5jdGlvbigpe3JldHVybiEhdH0pKCl9ZnVuY3Rpb24gbCh0LGUpe2lmKGUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gdH0odCl9ZnVuY3Rpb24gYyh0LGUpe3JldHVybiBjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sYyh0LGUpfWZ1bmN0aW9uIGQodCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUodCl9KHQpfHxmdW5jdGlvbih0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9dFtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT10WyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20odCl9KHQpfHx2KHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGYodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZigib2JqZWN0IiE9dHlwZW9mIHR8fCF0KXJldHVybiB0O3ZhciBpPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1pKXt2YXIgcj1pLmNhbGwodCxlKTtpZigib2JqZWN0IiE9dHlwZW9mIHIpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4gU3RyaW5nKHQpfSh0LCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTplKyIifWZ1bmN0aW9uIGcodCl7cmV0dXJuIGc9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIHR9LGcodCl9ZnVuY3Rpb24gdih0LGkpe2lmKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdClyZXR1cm4gZSh0LGkpO3ZhciByPXt9LnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1yJiZ0LmNvbnN0cnVjdG9yJiYocj10LmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09cnx8IlNldCI9PT1yP0FycmF5LmZyb20odCk6IkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKT9lKHQsaSk6dm9pZCAwfX1mdW5jdGlvbiBwKHQpe3ZhciBlPSJmdW5jdGlvbiI9PXR5cGVvZiBNYXA/bmV3IE1hcDp2b2lkIDA7cmV0dXJuIHA9ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fCFmdW5jdGlvbih0KXt0cnl7cmV0dXJuLTEhPT1GdW5jdGlvbi50b1N0cmluZy5jYWxsKHQpLmluZGV4T2YoIltuYXRpdmUgY29kZV0iKX1jYXRjaChlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdH19KHQpKXJldHVybiB0O2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7aWYodm9pZCAwIT09ZSl7aWYoZS5oYXModCkpcmV0dXJuIGUuZ2V0KHQpO2Uuc2V0KHQsaSl9ZnVuY3Rpb24gaSgpe3JldHVybiBmdW5jdGlvbih0LGUsaSl7aWYodSgpKXJldHVybiBSZWZsZWN0LmNvbnN0cnVjdC5hcHBseShudWxsLGFyZ3VtZW50cyk7dmFyIHI9W251bGxdO3IucHVzaC5hcHBseShyLGUpO3ZhciBuPW5ldyh0LmJpbmQuYXBwbHkodCxyKSk7cmV0dXJuIGkmJmMobixpLnByb3RvdHlwZSksbn0odCxhcmd1bWVudHMsaCh0aGlzKS5jb25zdHJ1Y3Rvcil9cmV0dXJuIGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTppLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGMoaSx0KX0scCh0KX1mdW5jdGlvbiBtKHQpe3ZhciBlPXRbMF0saT10WzFdLHI9dFsyXTtyZXR1cm4gTWF0aC5zcXJ0KGUqZStpKmkrcipyKX1mdW5jdGlvbiB5KHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHR9ZnVuY3Rpb24gXyh0LGUsaSl7cmV0dXJuIHRbMF09ZVswXStpWzBdLHRbMV09ZVsxXStpWzFdLHRbMl09ZVsyXStpWzJdLHR9ZnVuY3Rpb24gYih0LGUsaSl7cmV0dXJuIHRbMF09ZVswXS1pWzBdLHRbMV09ZVsxXS1pWzFdLHRbMl09ZVsyXS1pWzJdLHR9ZnVuY3Rpb24geCh0LGUsaSl7cmV0dXJuIHRbMF09ZVswXSppLHRbMV09ZVsxXSppLHRbMl09ZVsyXSppLHR9ZnVuY3Rpb24gRSh0KXt2YXIgZT10WzBdLGk9dFsxXSxyPXRbMl07cmV0dXJuIGUqZStpKmkrcipyfWZ1bmN0aW9uIHcodCxlKXt2YXIgaT1lWzBdLHI9ZVsxXSxuPWVbMl0scz1pKmkrcipyK24qbjtyZXR1cm4gcz4wJiYocz0xL01hdGguc3FydChzKSksdFswXT1lWzBdKnMsdFsxXT1lWzFdKnMsdFsyXT1lWzJdKnMsdH1mdW5jdGlvbiBNKHQsZSl7cmV0dXJuIHRbMF0qZVswXSt0WzFdKmVbMV0rdFsyXSplWzJdfWZ1bmN0aW9uIEEodCxlLGkpe3ZhciByPWVbMF0sbj1lWzFdLHM9ZVsyXSxhPWlbMF0saD1pWzFdLG89aVsyXTtyZXR1cm4gdFswXT1uKm8tcypoLHRbMV09cyphLXIqbyx0WzJdPXIqaC1uKmEsdH12YXIgayxULFI9KGs9WzAsMCwwXSxUPVswLDAsMF0sZnVuY3Rpb24odCxlKXt5KGssdCkseShULGUpLHcoayxrKSx3KFQsVCk7dmFyIGk9TShrLFQpO3JldHVybiBpPjE/MDppPC0xP01hdGguUEk6TWF0aC5hY29zKGkpfSk7dmFyIEY9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bixhPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpuO3JldHVybiByKHRoaXMsZSksbCh0PWkodGhpcyxlLFtuLHMsYV0pLHQpfXJldHVybiBvKGUsdCkscyhlLFt7a2V5OiJ4IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1swXX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXNbMF09dH19LHtrZXk6InkiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzFdfSxzZXQ6ZnVuY3Rpb24odCl7dGhpc1sxXT10fX0se2tleToieiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMl19LHNldDpmdW5jdGlvbih0KXt0aGlzWzJdPXR9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0LGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnQ7cmV0dXJuIHQubGVuZ3RoP3RoaXMuY29weSh0KTooZnVuY3Rpb24odCxlLGkscil7dFswXT1lLHRbMV09aSx0WzJdPXJ9KHRoaXMsdCxlLGkpLHRoaXMpfX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHkodGhpcyx0KSx0aGlzfX0se2tleToiYWRkIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBlP18odGhpcyx0LGUpOl8odGhpcyx0aGlzLHQpLHRoaXN9fSx7a2V5OiJzdWIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/Yih0aGlzLHQsZSk6Yih0aGlzLHRoaXMsdCksdGhpc319LHtrZXk6Im11bHRpcGx5Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpLHI7cmV0dXJuIHQubGVuZ3RoPyhpPXRoaXMscj10LChlPXRoaXMpWzBdPWlbMF0qclswXSxlWzFdPWlbMV0qclsxXSxlWzJdPWlbMl0qclsyXSk6eCh0aGlzLHRoaXMsdCksdGhpc319LHtrZXk6ImRpdmlkZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsaSxyO3JldHVybiB0Lmxlbmd0aD8oaT10aGlzLHI9dCwoZT10aGlzKVswXT1pWzBdL3JbMF0sZVsxXT1pWzFdL3JbMV0sZVsyXT1pWzJdL3JbMl0pOngodGhpcyx0aGlzLDEvdCksdGhpc319LHtrZXk6ImludmVyc2UiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcywodD10aGlzKVswXT0xL2VbMF0sdFsxXT0xL2VbMV0sdFsyXT0xL2VbMl0sdGhpc319LHtrZXk6ImxlbiIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbSh0aGlzKX19LHtrZXk6ImRpc3RhbmNlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD8oZT10aGlzLHI9KGk9dClbMF0tZVswXSxuPWlbMV0tZVsxXSxzPWlbMl0tZVsyXSxNYXRoLnNxcnQocipyK24qbitzKnMpKTptKHRoaXMpO3ZhciBlLGkscixuLHN9fSx7a2V5OiJzcXVhcmVkTGVuIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBFKHRoaXMpfX0se2tleToic3F1YXJlZERpc3RhbmNlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD8oZT10aGlzLHI9KGk9dClbMF0tZVswXSxuPWlbMV0tZVsxXSxzPWlbMl0tZVsyXSxyKnIrbipuK3Mqcyk6RSh0aGlzKTt2YXIgZSxpLHIsbixzfX0se2tleToibmVnYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMsKHQ9dGhpcylbMF09LWVbMF0sdFsxXT0tZVsxXSx0WzJdPS1lWzJdLHRoaXN9fSx7a2V5OiJjcm9zcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT9BKHRoaXMsdCxlKTpBKHRoaXMsdGhpcyx0KSx0aGlzfX0se2tleToic2NhbGUiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB4KHRoaXMsdGhpcyx0KSx0aGlzfX0se2tleToibm9ybWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB3KHRoaXMsdGhpcyksdGhpc319LHtrZXk6ImRvdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE0odGhpcyx0KX19LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGk9dCwoZT10aGlzKVswXT09PWlbMF0mJmVbMV09PT1pWzFdJiZlWzJdPT09aVsyXTt2YXIgZSxpfX0se2tleToiYXBwbHlNYXRyaXgzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpLHIsbixzLGE7cmV0dXJuIGU9dGhpcyxyPXQsbj0oaT10aGlzKVswXSxzPWlbMV0sYT1pWzJdLGVbMF09bipyWzBdK3MqclszXSthKnJbNl0sZVsxXT1uKnJbMV0rcypyWzRdK2Eqcls3XSxlWzJdPW4qclsyXStzKnJbNV0rYSpyWzhdLHRoaXN9fSx7a2V5OiJhcHBseU1hdHJpeDQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixuLHMsYSxoO3JldHVybiBlPXRoaXMscj10LG49KGk9dGhpcylbMF0scz1pWzFdLGE9aVsyXSxoPShoPXJbM10qbityWzddKnMrclsxMV0qYStyWzE1XSl8fDEsZVswXT0oclswXSpuK3JbNF0qcytyWzhdKmErclsxMl0pL2gsZVsxXT0oclsxXSpuK3JbNV0qcytyWzldKmErclsxM10pL2gsZVsyXT0oclsyXSpuK3JbNl0qcytyWzEwXSphK3JbMTRdKS9oLHRoaXN9fSx7a2V5OiJzY2FsZVJvdGF0ZU1hdHJpeDQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixuLHMsYSxoO3JldHVybiBlPXRoaXMscj10LG49KGk9dGhpcylbMF0scz1pWzFdLGE9aVsyXSxoPShoPXJbM10qbityWzddKnMrclsxMV0qYStyWzE1XSl8fDEsZVswXT0oclswXSpuK3JbNF0qcytyWzhdKmEpL2gsZVsxXT0oclsxXSpuK3JbNV0qcytyWzldKmEpL2gsZVsyXT0oclsyXSpuK3JbNl0qcytyWzEwXSphKS9oLHRoaXN9fSx7a2V5OiJhcHBseVF1YXRlcm5pb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUsaSl7dmFyIHI9ZVswXSxuPWVbMV0scz1lWzJdLGE9aVswXSxoPWlbMV0sbz1pWzJdLHU9aCpzLW8qbixsPW8qci1hKnMsYz1hKm4taCpyLGQ9aCpjLW8qbCxmPW8qdS1hKmMsZz1hKmwtaCp1LHY9MippWzNdO3UqPXYsbCo9dixjKj12LGQqPTIsZio9MixnKj0yLHRbMF09cit1K2QsdFsxXT1uK2wrZix0WzJdPXMrYytnfSh0aGlzLHRoaXMsdCksdGhpc319LHtrZXk6ImFuZ2xlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gUih0aGlzLHQpfX0se2tleToibGVycCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlLGkscil7dmFyIG49ZVswXSxzPWVbMV0sYT1lWzJdO3RbMF09bityKihpWzBdLW4pLHRbMV09cytyKihpWzFdLXMpLHRbMl09YStyKihpWzJdLWEpfSh0aGlzLHRoaXMsdCxlKSx0aGlzfX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXNbMF0sdGhpc1sxXSx0aGlzWzJdKX19LHtrZXk6ImZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjA7cmV0dXJuIHRoaXNbMF09dFtlXSx0aGlzWzFdPXRbZSsxXSx0aGlzWzJdPXRbZSsyXSx0aGlzfX0se2tleToidG9BcnJheSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10sZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtyZXR1cm4gdFtlXT10aGlzWzBdLHRbZSsxXT10aGlzWzFdLHRbZSsyXT10aGlzWzJdLHR9fSx7a2V5OiJ0cmFuc2Zvcm1EaXJlY3Rpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXNbMF0saT10aGlzWzFdLHI9dGhpc1syXTtyZXR1cm4gdGhpc1swXT10WzBdKmUrdFs0XSppK3RbOF0qcix0aGlzWzFdPXRbMV0qZSt0WzVdKmkrdFs5XSpyLHRoaXNbMl09dFsyXSplK3RbNl0qaSt0WzEwXSpyLHRoaXMubm9ybWFsaXplKCl9fV0pfShwKEFycmF5KSksUz1uZXcgRixDPTEsUD0xLEI9ITEsRD1mdW5jdGlvbigpe3JldHVybiBzKChmdW5jdGlvbiB0KGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtmb3IodmFyIG4gaW4gcih0aGlzLHQpLGUuY2FudmFzLHRoaXMuZ2w9ZSx0aGlzLmF0dHJpYnV0ZXM9aSx0aGlzLmlkPUMrKyx0aGlzLlZBT3M9e30sdGhpcy5kcmF3UmFuZ2U9e3N0YXJ0OjAsY291bnQ6MH0sdGhpcy5pbnN0YW5jZWRDb3VudD0wLHRoaXMuZ2wucmVuZGVyZXIuYmluZFZlcnRleEFycmF5KG51bGwpLHRoaXMuZ2wucmVuZGVyZXIuY3VycmVudEdlb21ldHJ5PW51bGwsdGhpcy5nbFN0YXRlPXRoaXMuZ2wucmVuZGVyZXIuc3RhdGUsaSl0aGlzLmFkZEF0dHJpYnV0ZShuLGlbbl0pfSksW3trZXk6ImFkZEF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmF0dHJpYnV0ZXNbdF09ZTt2YXIgaT10aGlzO2lmKGUuaWQ9UCsrLGUuc2l6ZT1lLnNpemV8fDEsZS50eXBlPWUudHlwZXx8KGUuZGF0YS5jb25zdHJ1Y3Rvcj09PUZsb2F0MzJBcnJheT90aGlzLmdsLkZMT0FUOmUuZGF0YS5jb25zdHJ1Y3Rvcj09PVVpbnQxNkFycmF5P3RoaXMuZ2wuVU5TSUdORURfU0hPUlQ6dGhpcy5nbC5VTlNJR05FRF9JTlQpLGUudGFyZ2V0PSJpbmRleCI9PT10P3RoaXMuZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVI6dGhpcy5nbC5BUlJBWV9CVUZGRVIsZS5ub3JtYWxpemVkPWUubm9ybWFsaXplZHx8ITEsZS5zdHJpZGU9ZS5zdHJpZGV8fDAsZS5vZmZzZXQ9ZS5vZmZzZXR8fDAsZS5jb3VudD1lLmNvdW50fHwoZS5zdHJpZGU/ZS5kYXRhLmJ5dGVMZW5ndGgvZS5zdHJpZGU6ZS5kYXRhLmxlbmd0aC9lLnNpemUpLGUuZGl2aXNvcj1lLmluc3RhbmNlZHx8MCxlLm5lZWRzVXBkYXRlPSExLGUudXNhZ2U9ZS51c2FnZXx8dGhpcy5nbC5TVEFUSUNfRFJBVyxlLmdldFg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YVt0KnRoaXMuc2l6ZV19LGUuZ2V0WT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhW3QqdGhpcy5zaXplKzFdfSxlLmdldFo9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YVt0KnRoaXMuc2l6ZSsyXX0sZS5zZXRYWVo9ZnVuY3Rpb24odCxyLG4scyl7dCo9dGhpcy5zaXplLHRoaXMuZGF0YVt0KzBdPXIsdGhpcy5kYXRhW3QrMV09bix0aGlzLmRhdGFbdCsyXT1zLGkudXBkYXRlQXR0cmlidXRlKGUpfSxlLmJ1ZmZlcnx8dGhpcy51cGRhdGVBdHRyaWJ1dGUoZSksZS5kaXZpc29yKXtpZih0aGlzLmlzSW5zdGFuY2VkPSEwLHRoaXMuaW5zdGFuY2VkQ291bnQmJnRoaXMuaW5zdGFuY2VkQ291bnQhPT1lLmNvdW50KmUuZGl2aXNvcilyZXR1cm4gdGhpcy5pbnN0YW5jZWRDb3VudD1NYXRoLm1pbih0aGlzLmluc3RhbmNlZENvdW50LGUuY291bnQqZS5kaXZpc29yKTt0aGlzLmluc3RhbmNlZENvdW50PWUuY291bnQqZS5kaXZpc29yfWVsc2UiaW5kZXgiPT09dD90aGlzLmRyYXdSYW5nZS5jb3VudD1lLmNvdW50OnRoaXMuYXR0cmlidXRlcy5pbmRleHx8KHRoaXMuZHJhd1JhbmdlLmNvdW50PU1hdGgubWF4KHRoaXMuZHJhd1JhbmdlLmNvdW50LGUuY291bnQpKX19LHtrZXk6InVwZGF0ZUF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9IXQuYnVmZmVyO2UmJih0LmJ1ZmZlcj10aGlzLmdsLmNyZWF0ZUJ1ZmZlcigpKSx0aGlzLmdsU3RhdGUuYm91bmRCdWZmZXIhPT10LmJ1ZmZlciYmKHRoaXMuZ2wuYmluZEJ1ZmZlcih0LnRhcmdldCx0LmJ1ZmZlciksdGhpcy5nbFN0YXRlLmJvdW5kQnVmZmVyPXQuYnVmZmVyKSxlP3RoaXMuZ2wuYnVmZmVyRGF0YSh0LnRhcmdldCx0LmRhdGEsdC51c2FnZSk6dGhpcy5nbC5idWZmZXJTdWJEYXRhKHQudGFyZ2V0LDAsdC5kYXRhKSx0Lm5lZWRzVXBkYXRlPSExfX0se2tleToic2V0SW5kZXgiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYWRkQXR0cmlidXRlKCJpbmRleCIsdCl9fSx7a2V5OiJzZXREcmF3UmFuZ2UiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5kcmF3UmFuZ2Uuc3RhcnQ9dCx0aGlzLmRyYXdSYW5nZS5jb3VudD1lfX0se2tleToic2V0SW5zdGFuY2VkQ291bnQiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuaW5zdGFuY2VkQ291bnQ9dH19LHtrZXk6ImNyZWF0ZVZBTyIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5WQU9zW3QuYXR0cmlidXRlT3JkZXJdPXRoaXMuZ2wucmVuZGVyZXIuY3JlYXRlVmVydGV4QXJyYXkoKSx0aGlzLmdsLnJlbmRlcmVyLmJpbmRWZXJ0ZXhBcnJheSh0aGlzLlZBT3NbdC5hdHRyaWJ1dGVPcmRlcl0pLHRoaXMuYmluZEF0dHJpYnV0ZXModCl9fSx7a2V5OiJiaW5kQXR0cmlidXRlcyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0LmF0dHJpYnV0ZUxvY2F0aW9ucy5mb3JFYWNoKChmdW5jdGlvbih0LGkpe3ZhciByPWkubmFtZSxuPWkudHlwZTtpZihlLmF0dHJpYnV0ZXNbcl0pe3ZhciBzPWUuYXR0cmlidXRlc1tyXTtlLmdsLmJpbmRCdWZmZXIocy50YXJnZXQscy5idWZmZXIpLGUuZ2xTdGF0ZS5ib3VuZEJ1ZmZlcj1zLmJ1ZmZlcjt2YXIgYT0xOzM1Njc0PT09biYmKGE9MiksMzU2NzU9PT1uJiYoYT0zKSwzNTY3Nj09PW4mJihhPTQpO2Zvcih2YXIgaD1zLnNpemUvYSxvPTE9PT1hPzA6YSphKjQsdT0xPT09YT8wOjQqYSxsPTA7bDxhO2wrKyllLmdsLnZlcnRleEF0dHJpYlBvaW50ZXIodCtsLGgscy50eXBlLHMubm9ybWFsaXplZCxzLnN0cmlkZStvLHMub2Zmc2V0K2wqdSksZS5nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0K2wpLGUuZ2wucmVuZGVyZXIudmVydGV4QXR0cmliRGl2aXNvcih0K2wscy5kaXZpc29yKX19KSksdGhpcy5hdHRyaWJ1dGVzLmluZGV4JiZ0aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmF0dHJpYnV0ZXMuaW5kZXguYnVmZmVyKX19LHtrZXk6ImRyYXciLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcyxyPXQucHJvZ3JhbSxuPXQubW9kZSxzPXZvaWQgMD09PW4/dGhpcy5nbC5UUklBTkdMRVM6bjt0aGlzLmdsLnJlbmRlcmVyLmN1cnJlbnRHZW9tZXRyeSE9PSIiLmNvbmNhdCh0aGlzLmlkLCJfIikuY29uY2F0KHIuYXR0cmlidXRlT3JkZXIpJiYodGhpcy5WQU9zW3IuYXR0cmlidXRlT3JkZXJdfHx0aGlzLmNyZWF0ZVZBTyhyKSx0aGlzLmdsLnJlbmRlcmVyLmJpbmRWZXJ0ZXhBcnJheSh0aGlzLlZBT3Nbci5hdHRyaWJ1dGVPcmRlcl0pLHRoaXMuZ2wucmVuZGVyZXIuY3VycmVudEdlb21ldHJ5PSIiLmNvbmNhdCh0aGlzLmlkLCJfIikuY29uY2F0KHIuYXR0cmlidXRlT3JkZXIpKSxyLmF0dHJpYnV0ZUxvY2F0aW9ucy5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3ZhciByPWUubmFtZSxuPWkuYXR0cmlidXRlc1tyXTtuLm5lZWRzVXBkYXRlJiZpLnVwZGF0ZUF0dHJpYnV0ZShuKX0pKTt2YXIgYT0yOyhudWxsPT09KGU9dGhpcy5hdHRyaWJ1dGVzLmluZGV4KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS50eXBlKT09PXRoaXMuZ2wuVU5TSUdORURfSU5UJiYoYT00KSx0aGlzLmlzSW5zdGFuY2VkP3RoaXMuYXR0cmlidXRlcy5pbmRleD90aGlzLmdsLnJlbmRlcmVyLmRyYXdFbGVtZW50c0luc3RhbmNlZChzLHRoaXMuZHJhd1JhbmdlLmNvdW50LHRoaXMuYXR0cmlidXRlcy5pbmRleC50eXBlLHRoaXMuYXR0cmlidXRlcy5pbmRleC5vZmZzZXQrdGhpcy5kcmF3UmFuZ2Uuc3RhcnQqYSx0aGlzLmluc3RhbmNlZENvdW50KTp0aGlzLmdsLnJlbmRlcmVyLmRyYXdBcnJheXNJbnN0YW5jZWQocyx0aGlzLmRyYXdSYW5nZS5zdGFydCx0aGlzLmRyYXdSYW5nZS5jb3VudCx0aGlzLmluc3RhbmNlZENvdW50KTp0aGlzLmF0dHJpYnV0ZXMuaW5kZXg/dGhpcy5nbC5kcmF3RWxlbWVudHMocyx0aGlzLmRyYXdSYW5nZS5jb3VudCx0aGlzLmF0dHJpYnV0ZXMuaW5kZXgudHlwZSx0aGlzLmF0dHJpYnV0ZXMuaW5kZXgub2Zmc2V0K3RoaXMuZHJhd1JhbmdlLnN0YXJ0KmEpOnRoaXMuZ2wuZHJhd0FycmF5cyhzLHRoaXMuZHJhd1JhbmdlLnN0YXJ0LHRoaXMuZHJhd1JhbmdlLmNvdW50KX19LHtrZXk6ImdldFBvc2l0aW9uIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbjtyZXR1cm4gdC5kYXRhP3Q6Qj92b2lkIDA6Qj0hMH19LHtrZXk6ImNvbXB1dGVCb3VuZGluZ0JveCIsdmFsdWU6ZnVuY3Rpb24odCl7dHx8KHQ9dGhpcy5nZXRQb3NpdGlvbigpKTt2YXIgZT10LmRhdGEsaT10LnNpemU7dGhpcy5ib3VuZHN8fCh0aGlzLmJvdW5kcz17bWluOm5ldyBGLG1heDpuZXcgRixjZW50ZXI6bmV3IEYsc2NhbGU6bmV3IEYscmFkaXVzOjEvMH0pO3ZhciByPXRoaXMuYm91bmRzLm1pbixuPXRoaXMuYm91bmRzLm1heCxzPXRoaXMuYm91bmRzLmNlbnRlcixhPXRoaXMuYm91bmRzLnNjYWxlO3Iuc2V0KDEvMCksbi5zZXQoLTEvMCk7Zm9yKHZhciBoPTAsbz1lLmxlbmd0aDtoPG87aCs9aSl7dmFyIHU9ZVtoXSxsPWVbaCsxXSxjPWVbaCsyXTtyLng9TWF0aC5taW4odSxyLngpLHIueT1NYXRoLm1pbihsLHIueSksci56PU1hdGgubWluKGMsci56KSxuLng9TWF0aC5tYXgodSxuLngpLG4ueT1NYXRoLm1heChsLG4ueSksbi56PU1hdGgubWF4KGMsbi56KX1hLnN1YihuLHIpLHMuYWRkKHIsbikuZGl2aWRlKDIpfX0se2tleToiY29tcHV0ZUJvdW5kaW5nU3BoZXJlIix2YWx1ZTpmdW5jdGlvbih0KXt0fHwodD10aGlzLmdldFBvc2l0aW9uKCkpO3ZhciBlPXQuZGF0YSxpPXQuc2l6ZTt0aGlzLmJvdW5kc3x8dGhpcy5jb21wdXRlQm91bmRpbmdCb3godCk7Zm9yKHZhciByPTAsbj0wLHM9ZS5sZW5ndGg7bjxzO24rPWkpUy5mcm9tQXJyYXkoZSxuKSxyPU1hdGgubWF4KHIsdGhpcy5ib3VuZHMuY2VudGVyLnNxdWFyZWREaXN0YW5jZShTKSk7dGhpcy5ib3VuZHMucmFkaXVzPU1hdGguc3FydChyKX19LHtrZXk6InJlbW92ZSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5WQU9zKXRoaXMuZ2wucmVuZGVyZXIuZGVsZXRlVmVydGV4QXJyYXkodGhpcy5WQU9zW3RdKSxkZWxldGUgdGhpcy5WQU9zW3RdO2Zvcih2YXIgZSBpbiB0aGlzLmF0dHJpYnV0ZXMpdGhpcy5nbC5kZWxldGVCdWZmZXIodGhpcy5hdHRyaWJ1dGVzW2VdLmJ1ZmZlciksZGVsZXRlIHRoaXMuYXR0cmlidXRlc1tlXX19XSl9KCksTz0xLE49e30sVT1mdW5jdGlvbigpe3JldHVybiBzKChmdW5jdGlvbiB0KGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWkudmVydGV4LHM9aS5mcmFnbWVudCxhPWkudW5pZm9ybXMsaD12b2lkIDA9PT1hP3t9OmEsbz1pLnRyYW5zcGFyZW50LHU9dm9pZCAwIT09byYmbyxsPWkuY3VsbEZhY2UsYz12b2lkIDA9PT1sP2UuQkFDSzpsLGQ9aS5mcm9udEZhY2UsZj12b2lkIDA9PT1kP2UuQ0NXOmQsZz1pLmRlcHRoVGVzdCx2PXZvaWQgMD09PWd8fGcscD1pLmRlcHRoV3JpdGUsbT12b2lkIDA9PT1wfHxwLHk9aS5kZXB0aEZ1bmMsXz12b2lkIDA9PT15P2UuTEVRVUFMOnk7cih0aGlzLHQpLGUuY2FudmFzLHRoaXMuZ2w9ZSx0aGlzLnVuaWZvcm1zPWgsdGhpcy5pZD1PKyssdGhpcy50cmFuc3BhcmVudD11LHRoaXMuY3VsbEZhY2U9Yyx0aGlzLmZyb250RmFjZT1mLHRoaXMuZGVwdGhUZXN0PXYsdGhpcy5kZXB0aFdyaXRlPW0sdGhpcy5kZXB0aEZ1bmM9Xyx0aGlzLmJsZW5kRnVuYz17fSx0aGlzLmJsZW5kRXF1YXRpb249e30sdGhpcy50cmFuc3BhcmVudCYmIXRoaXMuYmxlbmRGdW5jLnNyYyYmKHRoaXMuZ2wucmVuZGVyZXIucHJlbXVsdGlwbGllZEFscGhhP3RoaXMuc2V0QmxlbmRGdW5jKHRoaXMuZ2wuT05FLHRoaXMuZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk6dGhpcy5zZXRCbGVuZEZ1bmModGhpcy5nbC5TUkNfQUxQSEEsdGhpcy5nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSksdGhpcy52ZXJ0ZXhTaGFkZXI9ZS5jcmVhdGVTaGFkZXIoZS5WRVJURVhfU0hBREVSKSx0aGlzLmZyYWdtZW50U2hhZGVyPWUuY3JlYXRlU2hhZGVyKGUuRlJBR01FTlRfU0hBREVSKSx0aGlzLnByb2dyYW09ZS5jcmVhdGVQcm9ncmFtKCksZS5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLHRoaXMudmVydGV4U2hhZGVyKSxlLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sdGhpcy5mcmFnbWVudFNoYWRlciksdGhpcy5zZXRTaGFkZXJzKHt2ZXJ0ZXg6bixmcmFnbWVudDpzfSl9KSxbe2tleToic2V0U2hhZGVycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC52ZXJ0ZXgsaT10LmZyYWdtZW50O2lmKGUmJih0aGlzLmdsLnNoYWRlclNvdXJjZSh0aGlzLnZlcnRleFNoYWRlcixlKSx0aGlzLmdsLmNvbXBpbGVTaGFkZXIodGhpcy52ZXJ0ZXhTaGFkZXIpLHRoaXMuZ2wuZ2V0U2hhZGVySW5mb0xvZyh0aGlzLnZlcnRleFNoYWRlcikpLGkmJih0aGlzLmdsLnNoYWRlclNvdXJjZSh0aGlzLmZyYWdtZW50U2hhZGVyLGkpLHRoaXMuZ2wuY29tcGlsZVNoYWRlcih0aGlzLmZyYWdtZW50U2hhZGVyKSx0aGlzLmdsLmdldFNoYWRlckluZm9Mb2codGhpcy5mcmFnbWVudFNoYWRlcikpLHRoaXMuZ2wubGlua1Byb2dyYW0odGhpcy5wcm9ncmFtKSx0aGlzLmdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5wcm9ncmFtLHRoaXMuZ2wuTElOS19TVEFUVVMpKXt0aGlzLnVuaWZvcm1Mb2NhdGlvbnM9bmV3IE1hcDtmb3IodmFyIHI9dGhpcy5nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMucHJvZ3JhbSx0aGlzLmdsLkFDVElWRV9VTklGT1JNUyksbj0wO248cjtuKyspe3ZhciBzPXRoaXMuZ2wuZ2V0QWN0aXZlVW5pZm9ybSh0aGlzLnByb2dyYW0sbik7dGhpcy51bmlmb3JtTG9jYXRpb25zLnNldChzLHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSxzLm5hbWUpKTt2YXIgYT1zLm5hbWUubWF0Y2goLyhcdyspL2cpO3MudW5pZm9ybU5hbWU9YVswXSxzLm5hbWVDb21wb25lbnRzPWEuc2xpY2UoMSl9dGhpcy5hdHRyaWJ1dGVMb2NhdGlvbnM9bmV3IE1hcDtmb3IodmFyIGg9W10sbz10aGlzLmdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5wcm9ncmFtLHRoaXMuZ2wuQUNUSVZFX0FUVFJJQlVURVMpLHU9MDt1PG87dSsrKXt2YXIgbD10aGlzLmdsLmdldEFjdGl2ZUF0dHJpYih0aGlzLnByb2dyYW0sdSksYz10aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSxsLm5hbWUpOy0xIT09YyYmKGhbY109bC5uYW1lLHRoaXMuYXR0cmlidXRlTG9jYXRpb25zLnNldChsLGMpKX10aGlzLmF0dHJpYnV0ZU9yZGVyPWguam9pbigiIil9fX0se2tleToic2V0QmxlbmRGdW5jIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxyKXt0aGlzLmJsZW5kRnVuYy5zcmM9dCx0aGlzLmJsZW5kRnVuYy5kc3Q9ZSx0aGlzLmJsZW5kRnVuYy5zcmNBbHBoYT1pLHRoaXMuYmxlbmRGdW5jLmRzdEFscGhhPXIsdCYmKHRoaXMudHJhbnNwYXJlbnQ9ITApfX0se2tleToic2V0QmxlbmRFcXVhdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmJsZW5kRXF1YXRpb24ubW9kZVJHQj10LHRoaXMuYmxlbmRFcXVhdGlvbi5tb2RlQWxwaGE9ZX19LHtrZXk6ImFwcGx5U3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kZXB0aFRlc3Q/dGhpcy5nbC5yZW5kZXJlci5lbmFibGUodGhpcy5nbC5ERVBUSF9URVNUKTp0aGlzLmdsLnJlbmRlcmVyLmRpc2FibGUodGhpcy5nbC5ERVBUSF9URVNUKSx0aGlzLmN1bGxGYWNlP3RoaXMuZ2wucmVuZGVyZXIuZW5hYmxlKHRoaXMuZ2wuQ1VMTF9GQUNFKTp0aGlzLmdsLnJlbmRlcmVyLmRpc2FibGUodGhpcy5nbC5DVUxMX0ZBQ0UpLHRoaXMuYmxlbmRGdW5jLnNyYz90aGlzLmdsLnJlbmRlcmVyLmVuYWJsZSh0aGlzLmdsLkJMRU5EKTp0aGlzLmdsLnJlbmRlcmVyLmRpc2FibGUodGhpcy5nbC5CTEVORCksdGhpcy5jdWxsRmFjZSYmdGhpcy5nbC5yZW5kZXJlci5zZXRDdWxsRmFjZSh0aGlzLmN1bGxGYWNlKSx0aGlzLmdsLnJlbmRlcmVyLnNldEZyb250RmFjZSh0aGlzLmZyb250RmFjZSksdGhpcy5nbC5yZW5kZXJlci5zZXREZXB0aE1hc2sodGhpcy5kZXB0aFdyaXRlKSx0aGlzLmdsLnJlbmRlcmVyLnNldERlcHRoRnVuYyh0aGlzLmRlcHRoRnVuYyksdGhpcy5ibGVuZEZ1bmMuc3JjJiZ0aGlzLmdsLnJlbmRlcmVyLnNldEJsZW5kRnVuYyh0aGlzLmJsZW5kRnVuYy5zcmMsdGhpcy5ibGVuZEZ1bmMuZHN0LHRoaXMuYmxlbmRGdW5jLnNyY0FscGhhLHRoaXMuYmxlbmRGdW5jLmRzdEFscGhhKSx0aGlzLmdsLnJlbmRlcmVyLnNldEJsZW5kRXF1YXRpb24odGhpcy5ibGVuZEVxdWF0aW9uLm1vZGVSR0IsdGhpcy5ibGVuZEVxdWF0aW9uLm1vZGVBbHBoYSl9fSx7a2V5OiJ1c2UiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30pLmZsaXBGYWNlcyxpPXZvaWQgMCE9PWUmJmUscj0tMTt0aGlzLmdsLnJlbmRlcmVyLnN0YXRlLmN1cnJlbnRQcm9ncmFtPT09dGhpcy5pZHx8KHRoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pLHRoaXMuZ2wucmVuZGVyZXIuc3RhdGUuY3VycmVudFByb2dyYW09dGhpcy5pZCksdGhpcy51bmlmb3JtTG9jYXRpb25zLmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7dmFyIG4scz10LnVuaWZvcm1zW2kudW5pZm9ybU5hbWVdLGE9ZnVuY3Rpb24odCxlKXt2YXIgaT0idW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0WyJAQGl0ZXJhdG9yIl07aWYoIWkpe2lmKEFycmF5LmlzQXJyYXkodCl8fChpPXYodCkpfHxlKXtpJiYodD1pKTt2YXIgcj0wLG49ZnVuY3Rpb24oKXt9O3JldHVybntzOm4sbjpmdW5jdGlvbigpe3JldHVybiByPj10Lmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6dFtyKytdfX0sZTpmdW5jdGlvbih0KXt0aHJvdyB0fSxmOm59fXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX12YXIgcyxhPSEwLGg9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtpPWkuY2FsbCh0KX0sbjpmdW5jdGlvbigpe3ZhciB0PWkubmV4dCgpO3JldHVybiBhPXQuZG9uZSx0fSxlOmZ1bmN0aW9uKHQpe2g9ITAscz10fSxmOmZ1bmN0aW9uKCl7dHJ5e2F8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpfWZpbmFsbHl7aWYoaCl0aHJvdyBzfX19fShpLm5hbWVDb21wb25lbnRzKTt0cnl7Zm9yKGEucygpOyEobj1hLm4oKSkuZG9uZTspe3ZhciBoPW4udmFsdWU7aWYoIXMpYnJlYWs7aWYoIShoIGluIHMpKXtpZihBcnJheS5pc0FycmF5KHMudmFsdWUpKWJyZWFrO3M9dm9pZCAwO2JyZWFrfXM9c1toXX19Y2F0Y2godCl7YS5lKHQpfWZpbmFsbHl7YS5mKCl9aWYoIXMpcmV0dXJuIHooIkFjdGl2ZSB1bmlmb3JtICIuY29uY2F0KGkubmFtZSwiIGhhcyBub3QgYmVlbiBzdXBwbGllZCIpKTtpZihzJiZ2b2lkIDA9PT1zLnZhbHVlKXJldHVybiB6KCIiLmNvbmNhdChpLm5hbWUsIiB1bmlmb3JtIGlzIG1pc3NpbmcgYSB2YWx1ZSBwYXJhbWV0ZXIiKSk7aWYocy52YWx1ZS50ZXh0dXJlKXJldHVybiByKz0xLHMudmFsdWUudXBkYXRlKHIpLEkodC5nbCxpLnR5cGUsZSxyKTtpZihzLnZhbHVlLmxlbmd0aCYmcy52YWx1ZVswXS50ZXh0dXJlKXt2YXIgbz1bXTtyZXR1cm4gcy52YWx1ZS5mb3JFYWNoKChmdW5jdGlvbih0KXtyKz0xLHQudXBkYXRlKHIpLG8ucHVzaChyKX0pKSxJKHQuZ2wsaS50eXBlLGUsbyl9SSh0LmdsLGkudHlwZSxlLHMudmFsdWUpfSkpLHRoaXMuYXBwbHlTdGF0ZSgpLGkmJnRoaXMuZ2wucmVuZGVyZXIuc2V0RnJvbnRGYWNlKHRoaXMuZnJvbnRGYWNlPT09dGhpcy5nbC5DQ1c/dGhpcy5nbC5DVzp0aGlzLmdsLkNDVyl9fSx7a2V5OiJyZW1vdmUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5nbC5kZWxldGVQcm9ncmFtKHRoaXMucHJvZ3JhbSl9fV0pfSgpO2Z1bmN0aW9uIEkodCxlLGkscil7cj1yLmxlbmd0aD9mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxpPXRbMF0ubGVuZ3RoO2lmKHZvaWQgMD09PWkpcmV0dXJuIHQ7dmFyIHI9ZSppLG49TltyXTtufHwoTltyXT1uPW5ldyBGbG9hdDMyQXJyYXkocikpO2Zvcih2YXIgcz0wO3M8ZTtzKyspbi5zZXQodFtzXSxzKmkpO3JldHVybiBufShyKTpyO3ZhciBuPXQucmVuZGVyZXIuc3RhdGUudW5pZm9ybUxvY2F0aW9ucy5nZXQoaSk7aWYoci5sZW5ndGgpaWYodm9pZCAwPT09bnx8bi5sZW5ndGghPT1yLmxlbmd0aCl0LnJlbmRlcmVyLnN0YXRlLnVuaWZvcm1Mb2NhdGlvbnMuc2V0KGksci5zbGljZSgwKSk7ZWxzZXtpZihmdW5jdGlvbih0LGUpe2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBpPTAscj10Lmxlbmd0aDtpPHI7aSsrKWlmKHRbaV0hPT1lW2ldKXJldHVybiExO3JldHVybiEwfShuLHIpKXJldHVybjtuLnNldD9uLnNldChyKTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wLHI9dC5sZW5ndGg7aTxyO2krKyl0W2ldPWVbaV19KG4sciksdC5yZW5kZXJlci5zdGF0ZS51bmlmb3JtTG9jYXRpb25zLnNldChpLG4pfWVsc2V7aWYobj09PXIpcmV0dXJuO3QucmVuZGVyZXIuc3RhdGUudW5pZm9ybUxvY2F0aW9ucy5zZXQoaSxyKX1zd2l0Y2goZSl7Y2FzZSA1MTI2OnJldHVybiByLmxlbmd0aD90LnVuaWZvcm0xZnYoaSxyKTp0LnVuaWZvcm0xZihpLHIpO2Nhc2UgMzU2NjQ6cmV0dXJuIHQudW5pZm9ybTJmdihpLHIpO2Nhc2UgMzU2NjU6cmV0dXJuIHQudW5pZm9ybTNmdihpLHIpO2Nhc2UgMzU2NjY6cmV0dXJuIHQudW5pZm9ybTRmdihpLHIpO2Nhc2UgMzU2NzA6Y2FzZSA1MTI0OmNhc2UgMzU2Nzg6Y2FzZSAzNTY4MDpyZXR1cm4gci5sZW5ndGg/dC51bmlmb3JtMWl2KGkscik6dC51bmlmb3JtMWkoaSxyKTtjYXNlIDM1NjcxOmNhc2UgMzU2Njc6cmV0dXJuIHQudW5pZm9ybTJpdihpLHIpO2Nhc2UgMzU2NzI6Y2FzZSAzNTY2ODpyZXR1cm4gdC51bmlmb3JtM2l2KGkscik7Y2FzZSAzNTY3MzpjYXNlIDM1NjY5OnJldHVybiB0LnVuaWZvcm00aXYoaSxyKTtjYXNlIDM1Njc0OnJldHVybiB0LnVuaWZvcm1NYXRyaXgyZnYoaSwhMSxyKTtjYXNlIDM1Njc1OnJldHVybiB0LnVuaWZvcm1NYXRyaXgzZnYoaSwhMSxyKTtjYXNlIDM1Njc2OnJldHVybiB0LnVuaWZvcm1NYXRyaXg0ZnYoaSwhMSxyKX19dmFyIEw9MDtmdW5jdGlvbiB6KHQpe0w+MTAwfHxMKyt9dmFyIFg9bmV3IEYsaj0xLEc9ZnVuY3Rpb24oKXtyZXR1cm4gcygoZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxpPWUuY2FudmFzLG49dm9pZCAwPT09aT9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTppLHM9ZS53aWR0aCxhPXZvaWQgMD09PXM/MzAwOnMsaD1lLmhlaWdodCxvPXZvaWQgMD09PWg/MTUwOmgsdT1lLmRwcixsPXZvaWQgMD09PXU/MTp1LGM9ZS5hbHBoYSxkPXZvaWQgMCE9PWMmJmMsZj1lLmRlcHRoLGc9dm9pZCAwPT09Znx8Zix2PWUuc3RlbmNpbCxwPXZvaWQgMCE9PXYmJnYsbT1lLmFudGlhbGlhcyx5PXZvaWQgMD09PW18fG0sXz1lLnByZW11bHRpcGxpZWRBbHBoYSxiPXZvaWQgMCE9PV8mJl8seD1lLnByZXNlcnZlRHJhd2luZ0J1ZmZlcixFPXZvaWQgMD09PXh8fHgsdz1lLnBvd2VyUHJlZmVyZW5jZSxNPXZvaWQgMD09PXc/ImRlZmF1bHQiOncsQT1lLmF1dG9DbGVhcixrPXZvaWQgMD09PUF8fEEsVD1lLndlYmdsLFI9dm9pZCAwPT09VD8yOlQ7cih0aGlzLHQpO3ZhciBGPXthbHBoYTpkLGRlcHRoOmcsc3RlbmNpbDpwLGFudGlhbGlhczp5LHByZW11bHRpcGxpZWRBbHBoYTpiLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjpFLHBvd2VyUHJlZmVyZW5jZTpNfTt0aGlzLmRwcj1sLHRoaXMuYWxwaGE9ZCx0aGlzLmNvbG9yPSEwLHRoaXMuZGVwdGg9Zyx0aGlzLnN0ZW5jaWw9cCx0aGlzLnByZW11bHRpcGxpZWRBbHBoYT1iLHRoaXMuYXV0b0NsZWFyPWssdGhpcy5pZD1qKyssMj09PVImJih0aGlzLmdsPW4uZ2V0Q29udGV4dCgid2ViZ2wyIixGKSksdGhpcy5pc1dlYmdsMj0hIXRoaXMuZ2wsdGhpcy5nbHx8KHRoaXMuZ2w9bi5nZXRDb250ZXh0KCJ3ZWJnbCIsRikpLHRoaXMuZ2wsdGhpcy5nbC5yZW5kZXJlcj10aGlzLHRoaXMuc2V0U2l6ZShhLG8pLHRoaXMuc3RhdGU9e30sdGhpcy5zdGF0ZS5ibGVuZEZ1bmM9e3NyYzp0aGlzLmdsLk9ORSxkc3Q6dGhpcy5nbC5aRVJPfSx0aGlzLnN0YXRlLmJsZW5kRXF1YXRpb249e21vZGVSR0I6dGhpcy5nbC5GVU5DX0FERH0sdGhpcy5zdGF0ZS5jdWxsRmFjZT0hMSx0aGlzLnN0YXRlLmZyb250RmFjZT10aGlzLmdsLkNDVyx0aGlzLnN0YXRlLmRlcHRoTWFzaz0hMCx0aGlzLnN0YXRlLmRlcHRoRnVuYz10aGlzLmdsLkxFUVVBTCx0aGlzLnN0YXRlLnByZW11bHRpcGx5QWxwaGE9ITEsdGhpcy5zdGF0ZS5mbGlwWT0hMSx0aGlzLnN0YXRlLnVucGFja0FsaWdubWVudD00LHRoaXMuc3RhdGUuZnJhbWVidWZmZXI9bnVsbCx0aGlzLnN0YXRlLnZpZXdwb3J0PXt4OjAseTowLHdpZHRoOm51bGwsaGVpZ2h0Om51bGx9LHRoaXMuc3RhdGUudGV4dHVyZVVuaXRzPVtdLHRoaXMuc3RhdGUuYWN0aXZlVGV4dHVyZVVuaXQ9MCx0aGlzLnN0YXRlLmJvdW5kQnVmZmVyPW51bGwsdGhpcy5zdGF0ZS51bmlmb3JtTG9jYXRpb25zPW5ldyBNYXAsdGhpcy5zdGF0ZS5jdXJyZW50UHJvZ3JhbT1udWxsLHRoaXMuZXh0ZW5zaW9ucz17fSx0aGlzLmlzV2ViZ2wyPyh0aGlzLmdldEV4dGVuc2lvbigiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCIpLHRoaXMuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIiKSk6KHRoaXMuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9mbG9hdCIpLHRoaXMuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIiKSx0aGlzLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfaGFsZl9mbG9hdCIpLHRoaXMuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhciIpLHRoaXMuZ2V0RXh0ZW5zaW9uKCJPRVNfZWxlbWVudF9pbmRleF91aW50IiksdGhpcy5nZXRFeHRlbnNpb24oIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyIpLHRoaXMuZ2V0RXh0ZW5zaW9uKCJFWFRfc1JHQiIpLHRoaXMuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZXB0aF90ZXh0dXJlIiksdGhpcy5nZXRFeHRlbnNpb24oIldFQkdMX2RyYXdfYnVmZmVycyIpKSx0aGlzLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2FzdGMiKSx0aGlzLmdldEV4dGVuc2lvbigiRVhUX3RleHR1cmVfY29tcHJlc3Npb25fYnB0YyIpLHRoaXMuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpLHRoaXMuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSIpLHRoaXMuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMiKSx0aGlzLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpLHRoaXMudmVydGV4QXR0cmliRGl2aXNvcj10aGlzLmdldEV4dGVuc2lvbigiQU5HTEVfaW5zdGFuY2VkX2FycmF5cyIsInZlcnRleEF0dHJpYkRpdmlzb3IiLCJ2ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUiKSx0aGlzLmRyYXdBcnJheXNJbnN0YW5jZWQ9dGhpcy5nZXRFeHRlbnNpb24oIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiLCJkcmF3QXJyYXlzSW5zdGFuY2VkIiwiZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFIiksdGhpcy5kcmF3RWxlbWVudHNJbnN0YW5jZWQ9dGhpcy5nZXRFeHRlbnNpb24oIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiLCJkcmF3RWxlbWVudHNJbnN0YW5jZWQiLCJkcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRSIpLHRoaXMuY3JlYXRlVmVydGV4QXJyYXk9dGhpcy5nZXRFeHRlbnNpb24oIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0IiwiY3JlYXRlVmVydGV4QXJyYXkiLCJjcmVhdGVWZXJ0ZXhBcnJheU9FUyIpLHRoaXMuYmluZFZlcnRleEFycmF5PXRoaXMuZ2V0RXh0ZW5zaW9uKCJPRVNfdmVydGV4X2FycmF5X29iamVjdCIsImJpbmRWZXJ0ZXhBcnJheSIsImJpbmRWZXJ0ZXhBcnJheU9FUyIpLHRoaXMuZGVsZXRlVmVydGV4QXJyYXk9dGhpcy5nZXRFeHRlbnNpb24oIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0IiwiZGVsZXRlVmVydGV4QXJyYXkiLCJkZWxldGVWZXJ0ZXhBcnJheU9FUyIpLHRoaXMuZHJhd0J1ZmZlcnM9dGhpcy5nZXRFeHRlbnNpb24oIldFQkdMX2RyYXdfYnVmZmVycyIsImRyYXdCdWZmZXJzIiwiZHJhd0J1ZmZlcnNXRUJHTCIpLHRoaXMucGFyYW1ldGVycz17fSx0aGlzLnBhcmFtZXRlcnMubWF4VGV4dHVyZVVuaXRzPXRoaXMuZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuZ2wuTUFYX0NPTUJJTkVEX1RFWFRVUkVfSU1BR0VfVU5JVFMpLHRoaXMucGFyYW1ldGVycy5tYXhBbmlzb3Ryb3B5PXRoaXMuZ2V0RXh0ZW5zaW9uKCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKT90aGlzLmdsLmdldFBhcmFtZXRlcih0aGlzLmdldEV4dGVuc2lvbigiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIikuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKTowfSksW3trZXk6InNldFNpemUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWUsdGhpcy5nbC5jYW52YXMud2lkdGg9dCp0aGlzLmRwcix0aGlzLmdsLmNhbnZhcy5oZWlnaHQ9ZSp0aGlzLmRwcix0aGlzLmdsLmNhbnZhcy5zdHlsZSYmT2JqZWN0LmFzc2lnbih0aGlzLmdsLmNhbnZhcy5zdHlsZSx7d2lkdGg6dCsicHgiLGhlaWdodDplKyJweCJ9KX19LHtrZXk6InNldFZpZXdwb3J0Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLHI9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjA7dGhpcy5zdGF0ZS52aWV3cG9ydC53aWR0aD09PXQmJnRoaXMuc3RhdGUudmlld3BvcnQuaGVpZ2h0PT09ZXx8KHRoaXMuc3RhdGUudmlld3BvcnQud2lkdGg9dCx0aGlzLnN0YXRlLnZpZXdwb3J0LmhlaWdodD1lLHRoaXMuc3RhdGUudmlld3BvcnQueD1pLHRoaXMuc3RhdGUudmlld3BvcnQueT1yLHRoaXMuZ2wudmlld3BvcnQoaSxyLHQsZSkpfX0se2tleToic2V0U2Npc3NvciIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxyPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTowO3RoaXMuZ2wuc2Npc3NvcihpLHIsdCxlKX19LHtrZXk6ImVuYWJsZSIsdmFsdWU6ZnVuY3Rpb24odCl7ITAhPT10aGlzLnN0YXRlW3RdJiYodGhpcy5nbC5lbmFibGUodCksdGhpcy5zdGF0ZVt0XT0hMCl9fSx7a2V5OiJkaXNhYmxlIix2YWx1ZTpmdW5jdGlvbih0KXshMSE9PXRoaXMuc3RhdGVbdF0mJih0aGlzLmdsLmRpc2FibGUodCksdGhpcy5zdGF0ZVt0XT0hMSl9fSx7a2V5OiJzZXRCbGVuZEZ1bmMiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLHIpe3RoaXMuc3RhdGUuYmxlbmRGdW5jLnNyYz09PXQmJnRoaXMuc3RhdGUuYmxlbmRGdW5jLmRzdD09PWUmJnRoaXMuc3RhdGUuYmxlbmRGdW5jLnNyY0FscGhhPT09aSYmdGhpcy5zdGF0ZS5ibGVuZEZ1bmMuZHN0QWxwaGE9PT1yfHwodGhpcy5zdGF0ZS5ibGVuZEZ1bmMuc3JjPXQsdGhpcy5zdGF0ZS5ibGVuZEZ1bmMuZHN0PWUsdGhpcy5zdGF0ZS5ibGVuZEZ1bmMuc3JjQWxwaGE9aSx0aGlzLnN0YXRlLmJsZW5kRnVuYy5kc3RBbHBoYT1yLHZvaWQgMCE9PWk/dGhpcy5nbC5ibGVuZEZ1bmNTZXBhcmF0ZSh0LGUsaSxyKTp0aGlzLmdsLmJsZW5kRnVuYyh0LGUpKX19LHtrZXk6InNldEJsZW5kRXF1YXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dD10fHx0aGlzLmdsLkZVTkNfQURELHRoaXMuc3RhdGUuYmxlbmRFcXVhdGlvbi5tb2RlUkdCPT09dCYmdGhpcy5zdGF0ZS5ibGVuZEVxdWF0aW9uLm1vZGVBbHBoYT09PWV8fCh0aGlzLnN0YXRlLmJsZW5kRXF1YXRpb24ubW9kZVJHQj10LHRoaXMuc3RhdGUuYmxlbmRFcXVhdGlvbi5tb2RlQWxwaGE9ZSx2b2lkIDAhPT1lP3RoaXMuZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKHQsZSk6dGhpcy5nbC5ibGVuZEVxdWF0aW9uKHQpKX19LHtrZXk6InNldEN1bGxGYWNlIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnN0YXRlLmN1bGxGYWNlIT09dCYmKHRoaXMuc3RhdGUuY3VsbEZhY2U9dCx0aGlzLmdsLmN1bGxGYWNlKHQpKX19LHtrZXk6InNldEZyb250RmFjZSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zdGF0ZS5mcm9udEZhY2UhPT10JiYodGhpcy5zdGF0ZS5mcm9udEZhY2U9dCx0aGlzLmdsLmZyb250RmFjZSh0KSl9fSx7a2V5OiJzZXREZXB0aE1hc2siLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuc3RhdGUuZGVwdGhNYXNrIT09dCYmKHRoaXMuc3RhdGUuZGVwdGhNYXNrPXQsdGhpcy5nbC5kZXB0aE1hc2sodCkpfX0se2tleToic2V0RGVwdGhGdW5jIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnN0YXRlLmRlcHRoRnVuYyE9PXQmJih0aGlzLnN0YXRlLmRlcHRoRnVuYz10LHRoaXMuZ2wuZGVwdGhGdW5jKHQpKX19LHtrZXk6ImFjdGl2ZVRleHR1cmUiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuc3RhdGUuYWN0aXZlVGV4dHVyZVVuaXQhPT10JiYodGhpcy5zdGF0ZS5hY3RpdmVUZXh0dXJlVW5pdD10LHRoaXMuZ2wuYWN0aXZlVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkUwK3QpKX19LHtrZXk6ImJpbmRGcmFtZWJ1ZmZlciIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LnRhcmdldCxpPXZvaWQgMD09PWU/dGhpcy5nbC5GUkFNRUJVRkZFUjplLHI9dC5idWZmZXIsbj12b2lkIDA9PT1yP251bGw6cjt0aGlzLnN0YXRlLmZyYW1lYnVmZmVyIT09biYmKHRoaXMuc3RhdGUuZnJhbWVidWZmZXI9bix0aGlzLmdsLmJpbmRGcmFtZWJ1ZmZlcihpLG4pKX19LHtrZXk6ImdldEV4dGVuc2lvbiIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBlJiZ0aGlzLmdsW2VdP3RoaXMuZ2xbZV0uYmluZCh0aGlzLmdsKToodGhpcy5leHRlbnNpb25zW3RdfHwodGhpcy5leHRlbnNpb25zW3RdPXRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKHQpKSxlP3RoaXMuZXh0ZW5zaW9uc1t0XT90aGlzLmV4dGVuc2lvbnNbdF1baV0uYmluZCh0aGlzLmV4dGVuc2lvbnNbdF0pOm51bGw6dGhpcy5leHRlbnNpb25zW3RdKX19LHtrZXk6InNvcnRPcGFxdWUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucmVuZGVyT3JkZXIhPT1lLnJlbmRlck9yZGVyP3QucmVuZGVyT3JkZXItZS5yZW5kZXJPcmRlcjp0LnByb2dyYW0uaWQhPT1lLnByb2dyYW0uaWQ/dC5wcm9ncmFtLmlkLWUucHJvZ3JhbS5pZDp0LnpEZXB0aCE9PWUuekRlcHRoP3QuekRlcHRoLWUuekRlcHRoOmUuaWQtdC5pZH19LHtrZXk6InNvcnRUcmFuc3BhcmVudCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZW5kZXJPcmRlciE9PWUucmVuZGVyT3JkZXI/dC5yZW5kZXJPcmRlci1lLnJlbmRlck9yZGVyOnQuekRlcHRoIT09ZS56RGVwdGg/ZS56RGVwdGgtdC56RGVwdGg6ZS5pZC10LmlkfX0se2tleToic29ydFVJIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LnJlbmRlck9yZGVyIT09ZS5yZW5kZXJPcmRlcj90LnJlbmRlck9yZGVyLWUucmVuZGVyT3JkZXI6dC5wcm9ncmFtLmlkIT09ZS5wcm9ncmFtLmlkP3QucHJvZ3JhbS5pZC1lLnByb2dyYW0uaWQ6ZS5pZC10LmlkfX0se2tleToiZ2V0UmVuZGVyTGlzdCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zY2VuZSxpPXQuY2FtZXJhLHI9dC5mcnVzdHVtQ3VsbCxuPXQuc29ydCxzPVtdO2lmKGkmJnImJmkudXBkYXRlRnJ1c3R1bSgpLGUudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe2lmKCF0LnZpc2libGUpcmV0dXJuITA7dC5kcmF3JiYociYmdC5mcnVzdHVtQ3VsbGVkJiZpJiYhaS5mcnVzdHVtSW50ZXJzZWN0c01lc2godCl8fHMucHVzaCh0KSl9KSksbil7dmFyIGE9W10saD1bXSxvPVtdO3MuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5wcm9ncmFtLnRyYW5zcGFyZW50P3QucHJvZ3JhbS5kZXB0aFRlc3Q/aC5wdXNoKHQpOm8ucHVzaCh0KTphLnB1c2godCksdC56RGVwdGg9MCwwPT09dC5yZW5kZXJPcmRlciYmdC5wcm9ncmFtLmRlcHRoVGVzdCYmaSYmKHQud29ybGRNYXRyaXguZ2V0VHJhbnNsYXRpb24oWCksWC5hcHBseU1hdHJpeDQoaS5wcm9qZWN0aW9uVmlld01hdHJpeCksdC56RGVwdGg9WC56KX0pKSxhLnNvcnQodGhpcy5zb3J0T3BhcXVlKSxoLnNvcnQodGhpcy5zb3J0VHJhbnNwYXJlbnQpLG8uc29ydCh0aGlzLnNvcnRVSSkscz1hLmNvbmNhdChoLG8pfXJldHVybiBzfX0se2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNjZW5lLGk9dC5jYW1lcmEscj10LnRhcmdldCxuPXZvaWQgMD09PXI/bnVsbDpyLHM9dC51cGRhdGUsYT12b2lkIDA9PT1zfHxzLGg9dC5zb3J0LG89dm9pZCAwPT09aHx8aCx1PXQuZnJ1c3R1bUN1bGwsbD12b2lkIDA9PT11fHx1LGM9dC5jbGVhcjtudWxsPT09bj8odGhpcy5iaW5kRnJhbWVidWZmZXIoKSx0aGlzLnNldFZpZXdwb3J0KHRoaXMud2lkdGgqdGhpcy5kcHIsdGhpcy5oZWlnaHQqdGhpcy5kcHIpKToodGhpcy5iaW5kRnJhbWVidWZmZXIobiksdGhpcy5zZXRWaWV3cG9ydChuLndpZHRoLG4uaGVpZ2h0KSksKGN8fHRoaXMuYXV0b0NsZWFyJiYhMSE9PWMpJiYoIXRoaXMuZGVwdGh8fG4mJiFuLmRlcHRofHwodGhpcy5lbmFibGUodGhpcy5nbC5ERVBUSF9URVNUKSx0aGlzLnNldERlcHRoTWFzayghMCkpLHRoaXMuZ2wuY2xlYXIoKHRoaXMuY29sb3I/dGhpcy5nbC5DT0xPUl9CVUZGRVJfQklUOjApfCh0aGlzLmRlcHRoP3RoaXMuZ2wuREVQVEhfQlVGRkVSX0JJVDowKXwodGhpcy5zdGVuY2lsP3RoaXMuZ2wuU1RFTkNJTF9CVUZGRVJfQklUOjApKSksYSYmZS51cGRhdGVNYXRyaXhXb3JsZCgpLGkmJmkudXBkYXRlTWF0cml4V29ybGQoKSx0aGlzLmdldFJlbmRlckxpc3Qoe3NjZW5lOmUsY2FtZXJhOmksZnJ1c3R1bUN1bGw6bCxzb3J0Om99KS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmRyYXcoe2NhbWVyYTppfSl9KSl9fV0pfSgpO2Z1bmN0aW9uIHEodCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHR9ZnVuY3Rpb24gVyh0LGUsaSxyLG4pe3JldHVybiB0WzBdPWUsdFsxXT1pLHRbMl09cix0WzNdPW4sdH1mdW5jdGlvbiBWKHQsZSl7dmFyIGk9ZVswXSxyPWVbMV0sbj1lWzJdLHM9ZVszXSxhPWkqaStyKnIrbipuK3MqcztyZXR1cm4gYT4wJiYoYT0xL01hdGguc3FydChhKSksdFswXT1pKmEsdFsxXT1yKmEsdFsyXT1uKmEsdFszXT1zKmEsdH1mdW5jdGlvbiBZKHQsZSl7cmV0dXJuIHRbMF0qZVswXSt0WzFdKmVbMV0rdFsyXSplWzJdK3RbM10qZVszXX1mdW5jdGlvbiBIKHQsZSxpKXt2YXIgcj1lWzBdLG49ZVsxXSxzPWVbMl0sYT1lWzNdLGg9aVswXSxvPWlbMV0sdT1pWzJdLGw9aVszXTtyZXR1cm4gdFswXT1yKmwrYSpoK24qdS1zKm8sdFsxXT1uKmwrYSpvK3MqaC1yKnUsdFsyXT1zKmwrYSp1K3Iqby1uKmgsdFszXT1hKmwtcipoLW4qby1zKnUsdH12YXIgWj1xLFE9VyxLPVksJD1WLEo9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxhPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLGg9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjE7cih0aGlzLGUpLCh0PWkodGhpcyxlLFtuLHMsYSxoXSkpLm9uQ2hhbmdlPWZ1bmN0aW9uKCl7fSx0Ll90YXJnZXQ9dDt2YXIgbz1bIjAiLCIxIiwiMiIsIjMiXTtyZXR1cm4gbCh0LG5ldyBQcm94eSh0LHtzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT1SZWZsZWN0LnNldC5hcHBseShSZWZsZWN0LGFyZ3VtZW50cyk7cmV0dXJuIGkmJm8uaW5jbHVkZXMoZSkmJnQub25DaGFuZ2UoKSxpfX0pKX1yZXR1cm4gbyhlLHQpLHMoZSxbe2tleToieCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMF19LHNldDpmdW5jdGlvbih0KXt0aGlzLl90YXJnZXRbMF09dCx0aGlzLm9uQ2hhbmdlKCl9fSx7a2V5OiJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1sxXX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RhcmdldFsxXT10LHRoaXMub25DaGFuZ2UoKX19LHtrZXk6InoiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzJdfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGFyZ2V0WzJdPXQsdGhpcy5vbkNoYW5nZSgpfX0se2tleToidyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbM119LHNldDpmdW5jdGlvbih0KXt0aGlzLl90YXJnZXRbM109dCx0aGlzLm9uQ2hhbmdlKCl9fSx7a2V5OiJpZGVudGl0eSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4odD10aGlzLl90YXJnZXQpWzBdPTAsdFsxXT0wLHRbMl09MCx0WzNdPTEsdGhpcy5vbkNoYW5nZSgpLHRoaXN9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLHIpe3JldHVybiB0Lmxlbmd0aD90aGlzLmNvcHkodCk6KFEodGhpcy5fdGFyZ2V0LHQsZSxpLHIpLHRoaXMub25DaGFuZ2UoKSx0aGlzKX19LHtrZXk6InJvdGF0ZVgiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUsaSl7aSo9LjU7dmFyIHI9ZVswXSxuPWVbMV0scz1lWzJdLGE9ZVszXSxoPU1hdGguc2luKGkpLG89TWF0aC5jb3MoaSk7dFswXT1yKm8rYSpoLHRbMV09bipvK3MqaCx0WzJdPXMqby1uKmgsdFszXT1hKm8tcipofSh0aGlzLl90YXJnZXQsdGhpcy5fdGFyZ2V0LHQpLHRoaXMub25DaGFuZ2UoKSx0aGlzfX0se2tleToicm90YXRlWSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxpKXtpKj0uNTt2YXIgcj1lWzBdLG49ZVsxXSxzPWVbMl0sYT1lWzNdLGg9TWF0aC5zaW4oaSksbz1NYXRoLmNvcyhpKTt0WzBdPXIqby1zKmgsdFsxXT1uKm8rYSpoLHRbMl09cypvK3IqaCx0WzNdPWEqby1uKmh9KHRoaXMuX3RhcmdldCx0aGlzLl90YXJnZXQsdCksdGhpcy5vbkNoYW5nZSgpLHRoaXN9fSx7a2V5OiJyb3RhdGVaIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlLGkpe2kqPS41O3ZhciByPWVbMF0sbj1lWzFdLHM9ZVsyXSxhPWVbM10saD1NYXRoLnNpbihpKSxvPU1hdGguY29zKGkpO3RbMF09cipvK24qaCx0WzFdPW4qby1yKmgsdFsyXT1zKm8rYSpoLHRbM109YSpvLXMqaH0odGhpcy5fdGFyZ2V0LHRoaXMuX3RhcmdldCx0KSx0aGlzLm9uQ2hhbmdlKCksdGhpc319LHtrZXk6ImludmVyc2UiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMuX3RhcmdldDtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgaT1lWzBdLHI9ZVsxXSxuPWVbMl0scz1lWzNdLGE9aSppK3IqcituKm4rcypzLGg9YT8xL2E6MDt0WzBdPS1pKmgsdFsxXT0tcipoLHRbMl09LW4qaCx0WzNdPXMqaH0odGhpcy5fdGFyZ2V0LHQpLHRoaXMub25DaGFuZ2UoKSx0aGlzfX0se2tleToiY29uanVnYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsaT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5fdGFyZ2V0O3JldHVybiB0PXRoaXMuX3RhcmdldCxlPWksdFswXT0tZVswXSx0WzFdPS1lWzFdLHRbMl09LWVbMl0sdFszXT1lWzNdLHRoaXMub25DaGFuZ2UoKSx0aGlzfX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIFoodGhpcy5fdGFyZ2V0LHQpLHRoaXMub25DaGFuZ2UoKSx0aGlzfX0se2tleToibm9ybWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLl90YXJnZXQ7cmV0dXJuICQodGhpcy5fdGFyZ2V0LHQpLHRoaXMub25DaGFuZ2UoKSx0aGlzfX0se2tleToibXVsdGlwbHkiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/SCh0aGlzLl90YXJnZXQsdCxlKTpIKHRoaXMuX3RhcmdldCx0aGlzLl90YXJnZXQsdCksdGhpcy5vbkNoYW5nZSgpLHRoaXN9fSx7a2V5OiJkb3QiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBLKHRoaXMuX3RhcmdldCx0KX19LHtrZXk6ImZyb21NYXRyaXgzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgaSxyPWVbMF0rZVs0XStlWzhdO2lmKHI+MClpPU1hdGguc3FydChyKzEpLHRbM109LjUqaSxpPS41L2ksdFswXT0oZVs1XS1lWzddKSppLHRbMV09KGVbNl0tZVsyXSkqaSx0WzJdPShlWzFdLWVbM10pKmk7ZWxzZXt2YXIgbj0wO2VbNF0+ZVswXSYmKG49MSksZVs4XT5lWzMqbituXSYmKG49Mik7dmFyIHM9KG4rMSklMyxhPShuKzIpJTM7aT1NYXRoLnNxcnQoZVszKm4rbl0tZVszKnMrc10tZVszKmErYV0rMSksdFtuXT0uNSppLGk9LjUvaSx0WzNdPShlWzMqcythXS1lWzMqYStzXSkqaSx0W3NdPShlWzMqcytuXStlWzMqbitzXSkqaSx0W2FdPShlWzMqYStuXStlWzMqbithXSkqaX19KHRoaXMuX3RhcmdldCx0KSx0aGlzLm9uQ2hhbmdlKCksdGhpc319LHtrZXk6ImZyb21FdWxlciIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06IllYWiIscj1NYXRoLnNpbiguNSplWzBdKSxuPU1hdGguY29zKC41KmVbMF0pLHM9TWF0aC5zaW4oLjUqZVsxXSksYT1NYXRoLmNvcyguNSplWzFdKSxoPU1hdGguc2luKC41KmVbMl0pLG89TWF0aC5jb3MoLjUqZVsyXSk7IlhZWiI9PT1pPyh0WzBdPXIqYSpvK24qcypoLHRbMV09bipzKm8tciphKmgsdFsyXT1uKmEqaCtyKnMqbyx0WzNdPW4qYSpvLXIqcypoKToiWVhaIj09PWk/KHRbMF09ciphKm8rbipzKmgsdFsxXT1uKnMqby1yKmEqaCx0WzJdPW4qYSpoLXIqcypvLHRbM109biphKm8rcipzKmgpOiJaWFkiPT09aT8odFswXT1yKmEqby1uKnMqaCx0WzFdPW4qcypvK3IqYSpoLHRbMl09biphKmgrcipzKm8sdFszXT1uKmEqby1yKnMqaCk6IlpZWCI9PT1pPyh0WzBdPXIqYSpvLW4qcypoLHRbMV09bipzKm8rciphKmgsdFsyXT1uKmEqaC1yKnMqbyx0WzNdPW4qYSpvK3IqcypoKToiWVpYIj09PWk/KHRbMF09ciphKm8rbipzKmgsdFsxXT1uKnMqbytyKmEqaCx0WzJdPW4qYSpoLXIqcypvLHRbM109biphKm8tcipzKmgpOiJYWlkiPT09aSYmKHRbMF09ciphKm8tbipzKmgsdFsxXT1uKnMqby1yKmEqaCx0WzJdPW4qYSpoK3IqcypvLHRbM109biphKm8rcipzKmgpfSh0aGlzLl90YXJnZXQsdCx0Lm9yZGVyKSxlfHx0aGlzLm9uQ2hhbmdlKCksdGhpc319LHtrZXk6ImZyb21BeGlzQW5nbGUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxpKXtpKj0uNTt2YXIgcj1NYXRoLnNpbihpKTt0WzBdPXIqZVswXSx0WzFdPXIqZVsxXSx0WzJdPXIqZVsyXSx0WzNdPU1hdGguY29zKGkpfSh0aGlzLl90YXJnZXQsdCxlKSx0aGlzLm9uQ2hhbmdlKCksdGhpc319LHtrZXk6InNsZXJwIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbih0LGUsaSxyKXt2YXIgbixzLGEsaCxvLHU9ZVswXSxsPWVbMV0sYz1lWzJdLGQ9ZVszXSxmPWlbMF0sZz1pWzFdLHY9aVsyXSxwPWlbM107KHM9dSpmK2wqZytjKnYrZCpwKTwwJiYocz0tcyxmPS1mLGc9LWcsdj0tdixwPS1wKSwxLXM+MWUtNj8obj1NYXRoLmFjb3MocyksYT1NYXRoLnNpbihuKSxoPU1hdGguc2luKCgxLXIpKm4pL2Esbz1NYXRoLnNpbihyKm4pL2EpOihoPTEtcixvPXIpLHRbMF09aCp1K28qZix0WzFdPWgqbCtvKmcsdFsyXT1oKmMrbyp2LHRbM109aCpkK28qcH0odGhpcy5fdGFyZ2V0LHRoaXMuX3RhcmdldCx0LGUpLHRoaXMub25DaGFuZ2UoKSx0aGlzfX0se2tleToiZnJvbUFycmF5Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtyZXR1cm4gdGhpcy5fdGFyZ2V0WzBdPXRbZV0sdGhpcy5fdGFyZ2V0WzFdPXRbZSsxXSx0aGlzLl90YXJnZXRbMl09dFtlKzJdLHRoaXMuX3RhcmdldFszXT10W2UrM10sdGhpcy5vbkNoYW5nZSgpLHRoaXN9fSx7a2V5OiJ0b0FycmF5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXSxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO3JldHVybiB0W2VdPXRoaXNbMF0sdFtlKzFdPXRoaXNbMV0sdFtlKzJdPXRoaXNbMl0sdFtlKzNdPXRoaXNbM10sdH19XSl9KHAoQXJyYXkpKTtmdW5jdGlvbiB0dCh0KXt2YXIgZT10WzBdLGk9dFsxXSxyPXRbMl0sbj10WzNdLHM9dFs0XSxhPXRbNV0saD10WzZdLG89dFs3XSx1PXRbOF0sbD10WzldLGM9dFsxMF0sZD10WzExXSxmPXRbMTJdLGc9dFsxM10sdj10WzE0XSxwPXRbMTVdO3JldHVybihlKmEtaSpzKSooYypwLWQqdiktKGUqaC1yKnMpKihsKnAtZCpnKSsoZSpvLW4qcykqKGwqdi1jKmcpKyhpKmgtciphKSoodSpwLWQqZiktKGkqby1uKmEpKih1KnYtYypmKSsocipvLW4qaCkqKHUqZy1sKmYpfWZ1bmN0aW9uIGV0KHQsZSxpKXt2YXIgcj1lWzBdLG49ZVsxXSxzPWVbMl0sYT1lWzNdLGg9ZVs0XSxvPWVbNV0sdT1lWzZdLGw9ZVs3XSxjPWVbOF0sZD1lWzldLGY9ZVsxMF0sZz1lWzExXSx2PWVbMTJdLHA9ZVsxM10sbT1lWzE0XSx5PWVbMTVdLF89aVswXSxiPWlbMV0seD1pWzJdLEU9aVszXTtyZXR1cm4gdFswXT1fKnIrYipoK3gqYytFKnYsdFsxXT1fKm4rYipvK3gqZCtFKnAsdFsyXT1fKnMrYip1K3gqZitFKm0sdFszXT1fKmErYipsK3gqZytFKnksXz1pWzRdLGI9aVs1XSx4PWlbNl0sRT1pWzddLHRbNF09XypyK2IqaCt4KmMrRSp2LHRbNV09XypuK2Iqbyt4KmQrRSpwLHRbNl09XypzK2IqdSt4KmYrRSptLHRbN109XyphK2IqbCt4KmcrRSp5LF89aVs4XSxiPWlbOV0seD1pWzEwXSxFPWlbMTFdLHRbOF09XypyK2IqaCt4KmMrRSp2LHRbOV09XypuK2Iqbyt4KmQrRSpwLHRbMTBdPV8qcytiKnUreCpmK0UqbSx0WzExXT1fKmErYipsK3gqZytFKnksXz1pWzEyXSxiPWlbMTNdLHg9aVsxNF0sRT1pWzE1XSx0WzEyXT1fKnIrYipoK3gqYytFKnYsdFsxM109XypuK2Iqbyt4KmQrRSpwLHRbMTRdPV8qcytiKnUreCpmK0UqbSx0WzE1XT1fKmErYipsK3gqZytFKnksdH1mdW5jdGlvbiBpdCh0LGUpe3ZhciBpPWVbMF0scj1lWzFdLG49ZVsyXSxzPWVbNF0sYT1lWzVdLGg9ZVs2XSxvPWVbOF0sdT1lWzldLGw9ZVsxMF07cmV0dXJuIHRbMF09TWF0aC5oeXBvdChpLHIsbiksdFsxXT1NYXRoLmh5cG90KHMsYSxoKSx0WzJdPU1hdGguaHlwb3Qobyx1LGwpLHR9dmFyIHJ0LG50PShydD1bMSwxLDFdLGZ1bmN0aW9uKHQsZSl7dmFyIGk9cnQ7aXQoaSxlKTt2YXIgcj0xL2lbMF0sbj0xL2lbMV0scz0xL2lbMl0sYT1lWzBdKnIsaD1lWzFdKm4sbz1lWzJdKnMsdT1lWzRdKnIsbD1lWzVdKm4sYz1lWzZdKnMsZD1lWzhdKnIsZj1lWzldKm4sZz1lWzEwXSpzLHY9YStsK2cscD0wO3JldHVybiB2PjA/KHA9MipNYXRoLnNxcnQodisxKSx0WzNdPS4yNSpwLHRbMF09KGMtZikvcCx0WzFdPShkLW8pL3AsdFsyXT0oaC11KS9wKTphPmwmJmE+Zz8ocD0yKk1hdGguc3FydCgxK2EtbC1nKSx0WzNdPShjLWYpL3AsdFswXT0uMjUqcCx0WzFdPShoK3UpL3AsdFsyXT0oZCtvKS9wKTpsPmc/KHA9MipNYXRoLnNxcnQoMStsLWEtZyksdFszXT0oZC1vKS9wLHRbMF09KGgrdSkvcCx0WzFdPS4yNSpwLHRbMl09KGMrZikvcCk6KHA9MipNYXRoLnNxcnQoMStnLWEtbCksdFszXT0oaC11KS9wLHRbMF09KGQrbykvcCx0WzFdPShjK2YpL3AsdFsyXT0uMjUqcCksdH0pO2Z1bmN0aW9uIHN0KHQsZSxpKXtyZXR1cm4gdFswXT1lWzBdK2lbMF0sdFsxXT1lWzFdK2lbMV0sdFsyXT1lWzJdK2lbMl0sdFszXT1lWzNdK2lbM10sdFs0XT1lWzRdK2lbNF0sdFs1XT1lWzVdK2lbNV0sdFs2XT1lWzZdK2lbNl0sdFs3XT1lWzddK2lbN10sdFs4XT1lWzhdK2lbOF0sdFs5XT1lWzldK2lbOV0sdFsxMF09ZVsxMF0raVsxMF0sdFsxMV09ZVsxMV0raVsxMV0sdFsxMl09ZVsxMl0raVsxMl0sdFsxM109ZVsxM10raVsxM10sdFsxNF09ZVsxNF0raVsxNF0sdFsxNV09ZVsxNV0raVsxNV0sdH1mdW5jdGlvbiBhdCh0LGUsaSl7cmV0dXJuIHRbMF09ZVswXS1pWzBdLHRbMV09ZVsxXS1pWzFdLHRbMl09ZVsyXS1pWzJdLHRbM109ZVszXS1pWzNdLHRbNF09ZVs0XS1pWzRdLHRbNV09ZVs1XS1pWzVdLHRbNl09ZVs2XS1pWzZdLHRbN109ZVs3XS1pWzddLHRbOF09ZVs4XS1pWzhdLHRbOV09ZVs5XS1pWzldLHRbMTBdPWVbMTBdLWlbMTBdLHRbMTFdPWVbMTFdLWlbMTFdLHRbMTJdPWVbMTJdLWlbMTJdLHRbMTNdPWVbMTNdLWlbMTNdLHRbMTRdPWVbMTRdLWlbMTRdLHRbMTVdPWVbMTVdLWlbMTVdLHR9dmFyIGh0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdCxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToxLHM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsYT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxoPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTowLG89YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOjAsdT1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06MSxjPWFyZ3VtZW50cy5sZW5ndGg+NiYmdm9pZCAwIT09YXJndW1lbnRzWzZdP2FyZ3VtZW50c1s2XTowLGQ9YXJndW1lbnRzLmxlbmd0aD43JiZ2b2lkIDAhPT1hcmd1bWVudHNbN10/YXJndW1lbnRzWzddOjAsZj1hcmd1bWVudHMubGVuZ3RoPjgmJnZvaWQgMCE9PWFyZ3VtZW50c1s4XT9hcmd1bWVudHNbOF06MCxnPWFyZ3VtZW50cy5sZW5ndGg+OSYmdm9pZCAwIT09YXJndW1lbnRzWzldP2FyZ3VtZW50c1s5XTowLHY9YXJndW1lbnRzLmxlbmd0aD4xMCYmdm9pZCAwIT09YXJndW1lbnRzWzEwXT9hcmd1bWVudHNbMTBdOjEscD1hcmd1bWVudHMubGVuZ3RoPjExJiZ2b2lkIDAhPT1hcmd1bWVudHNbMTFdP2FyZ3VtZW50c1sxMV06MCxtPWFyZ3VtZW50cy5sZW5ndGg+MTImJnZvaWQgMCE9PWFyZ3VtZW50c1sxMl0/YXJndW1lbnRzWzEyXTowLHk9YXJndW1lbnRzLmxlbmd0aD4xMyYmdm9pZCAwIT09YXJndW1lbnRzWzEzXT9hcmd1bWVudHNbMTNdOjAsXz1hcmd1bWVudHMubGVuZ3RoPjE0JiZ2b2lkIDAhPT1hcmd1bWVudHNbMTRdP2FyZ3VtZW50c1sxNF06MCxiPWFyZ3VtZW50cy5sZW5ndGg+MTUmJnZvaWQgMCE9PWFyZ3VtZW50c1sxNV0/YXJndW1lbnRzWzE1XToxO3JldHVybiByKHRoaXMsZSksbCh0PWkodGhpcyxlLFtuLHMsYSxoLG8sdSxjLGQsZixnLHYscCxtLHksXyxiXSksdCl9cmV0dXJuIG8oZSx0KSxzKGUsW3trZXk6IngiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzEyXX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXNbMTJdPXR9fSx7a2V5OiJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1sxM119LHNldDpmdW5jdGlvbih0KXt0aGlzWzEzXT10fX0se2tleToieiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMTRdfSxzZXQ6ZnVuY3Rpb24odCl7dGhpc1sxNF09dH19LHtrZXk6InciLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzE1XX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXNbMTVdPXR9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLHIsbixzLGEsaCxvLHUsbCxjLGQsZixnLHYpe3JldHVybiB0Lmxlbmd0aD90aGlzLmNvcHkodCk6KGZ1bmN0aW9uKHQsZSxpLHIsbixzLGEsaCxvLHUsbCxjLGQsZixnLHYscCl7dFswXT1lLHRbMV09aSx0WzJdPXIsdFszXT1uLHRbNF09cyx0WzVdPWEsdFs2XT1oLHRbN109byx0WzhdPXUsdFs5XT1sLHRbMTBdPWMsdFsxMV09ZCx0WzEyXT1mLHRbMTNdPWcsdFsxNF09dix0WzE1XT1wfSh0aGlzLHQsZSxpLHIsbixzLGEsaCxvLHUsbCxjLGQsZixnLHYpLHRoaXMpfX0se2tleToidHJhbnNsYXRlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlLGkpe3ZhciByLG4scyxhLGgsbyx1LGwsYyxkLGYsZyx2PWlbMF0scD1pWzFdLG09aVsyXTtlPT09dD8odFsxMl09ZVswXSp2K2VbNF0qcCtlWzhdKm0rZVsxMl0sdFsxM109ZVsxXSp2K2VbNV0qcCtlWzldKm0rZVsxM10sdFsxNF09ZVsyXSp2K2VbNl0qcCtlWzEwXSptK2VbMTRdLHRbMTVdPWVbM10qditlWzddKnArZVsxMV0qbStlWzE1XSk6KHI9ZVswXSxuPWVbMV0scz1lWzJdLGE9ZVszXSxoPWVbNF0sbz1lWzVdLHU9ZVs2XSxsPWVbN10sYz1lWzhdLGQ9ZVs5XSxmPWVbMTBdLGc9ZVsxMV0sdFswXT1yLHRbMV09bix0WzJdPXMsdFszXT1hLHRbNF09aCx0WzVdPW8sdFs2XT11LHRbN109bCx0WzhdPWMsdFs5XT1kLHRbMTBdPWYsdFsxMV09Zyx0WzEyXT1yKnYraCpwK2MqbStlWzEyXSx0WzEzXT1uKnYrbypwK2QqbStlWzEzXSx0WzE0XT1zKnYrdSpwK2YqbStlWzE0XSx0WzE1XT1hKnYrbCpwK2cqbStlWzE1XSl9KHRoaXMsYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMsdCksdGhpc319LHtrZXk6InJvdGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlLGkscil7dmFyIG4scyxhLGgsbyx1LGwsYyxkLGYsZyx2LHAsbSx5LF8sYix4LEUsdyxNLEEsayxULFI9clswXSxGPXJbMV0sUz1yWzJdLEM9TWF0aC5oeXBvdChSLEYsUyk7TWF0aC5hYnMoQyk8MWUtNnx8KFIqPUM9MS9DLEYqPUMsUyo9QyxuPU1hdGguc2luKGkpLGE9MS0ocz1NYXRoLmNvcyhpKSksaD1lWzBdLG89ZVsxXSx1PWVbMl0sbD1lWzNdLGM9ZVs0XSxkPWVbNV0sZj1lWzZdLGc9ZVs3XSx2PWVbOF0scD1lWzldLG09ZVsxMF0seT1lWzExXSxfPVIqUiphK3MsYj1GKlIqYStTKm4seD1TKlIqYS1GKm4sRT1SKkYqYS1TKm4sdz1GKkYqYStzLE09UypGKmErUipuLEE9UipTKmErRipuLGs9RipTKmEtUipuLFQ9UypTKmErcyx0WzBdPWgqXytjKmIrdip4LHRbMV09bypfK2QqYitwKngsdFsyXT11Kl8rZipiK20qeCx0WzNdPWwqXytnKmIreSp4LHRbNF09aCpFK2Mqdyt2Kk0sdFs1XT1vKkUrZCp3K3AqTSx0WzZdPXUqRStmKncrbSpNLHRbN109bCpFK2cqdyt5Kk0sdFs4XT1oKkErYyprK3YqVCx0WzldPW8qQStkKmsrcCpULHRbMTBdPXUqQStmKmsrbSpULHRbMTFdPWwqQStnKmsreSpULGUhPT10JiYodFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0pKX0odGhpcyxhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dGhpcyx0LGUpLHRoaXN9fSx7a2V5OiJzY2FsZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1pWzBdLG49aVsxXSxzPWlbMl07dFswXT1lWzBdKnIsdFsxXT1lWzFdKnIsdFsyXT1lWzJdKnIsdFszXT1lWzNdKnIsdFs0XT1lWzRdKm4sdFs1XT1lWzVdKm4sdFs2XT1lWzZdKm4sdFs3XT1lWzddKm4sdFs4XT1lWzhdKnMsdFs5XT1lWzldKnMsdFsxMF09ZVsxMF0qcyx0WzExXT1lWzExXSpzLHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdfSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLCJudW1iZXIiPT10eXBlb2YgdD9bdCx0LHRdOnQpLHRoaXN9fSx7a2V5OiJhZGQiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/c3QodGhpcyx0LGUpOnN0KHRoaXMsdGhpcyx0KSx0aGlzfX0se2tleToic3ViIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBlP2F0KHRoaXMsdCxlKTphdCh0aGlzLHRoaXMsdCksdGhpc319LHtrZXk6Im11bHRpcGx5Iix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpLHIsbjtyZXR1cm4gdC5sZW5ndGg/ZT9ldCh0aGlzLHQsZSk6ZXQodGhpcyx0aGlzLHQpOihyPXRoaXMsbj10LChpPXRoaXMpWzBdPXJbMF0qbixpWzFdPXJbMV0qbixpWzJdPXJbMl0qbixpWzNdPXJbM10qbixpWzRdPXJbNF0qbixpWzVdPXJbNV0qbixpWzZdPXJbNl0qbixpWzddPXJbN10qbixpWzhdPXJbOF0qbixpWzldPXJbOV0qbixpWzEwXT1yWzEwXSpuLGlbMTFdPXJbMTFdKm4saVsxMl09clsxMl0qbixpWzEzXT1yWzEzXSpuLGlbMTRdPXJbMTRdKm4saVsxNV09clsxNV0qbiksdGhpc319LHtrZXk6ImlkZW50aXR5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3JldHVybih0PXRoaXMpWzBdPTEsdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09MSx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMF09MSx0WzExXT0wLHRbMTJdPTAsdFsxM109MCx0WzE0XT0wLHRbMTVdPTEsdGhpc319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGk7cmV0dXJuIGk9dCwoZT10aGlzKVswXT1pWzBdLGVbMV09aVsxXSxlWzJdPWlbMl0sZVszXT1pWzNdLGVbNF09aVs0XSxlWzVdPWlbNV0sZVs2XT1pWzZdLGVbN109aVs3XSxlWzhdPWlbOF0sZVs5XT1pWzldLGVbMTBdPWlbMTBdLGVbMTFdPWlbMTFdLGVbMTJdPWlbMTJdLGVbMTNdPWlbMTNdLGVbMTRdPWlbMTRdLGVbMTVdPWlbMTVdLHRoaXN9fSx7a2V5OiJmcm9tUGVyc3BlY3RpdmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiBmdW5jdGlvbih0LGUsaSxyLG4pe3ZhciBzPTEvTWF0aC50YW4oZS8yKSxhPTEvKHItbik7dFswXT1zL2ksdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09cyx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMF09KG4rcikqYSx0WzExXT0tMSx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MipuKnIqYSx0WzE1XT0wfSh0aGlzLHQuZm92LHQuYXNwZWN0LHQubmVhcix0LmZhciksdGhpc319LHtrZXk6ImZyb21PcnRob2dvbmFsIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlLGkscixuLHMsYSl7dmFyIGg9MS8oZS1pKSxvPTEvKHItbiksdT0xLyhzLWEpO3RbMF09LTIqaCx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0tMipvLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT0yKnUsdFsxMV09MCx0WzEyXT0oZStpKSpoLHRbMTNdPShuK3IpKm8sdFsxNF09KGErcykqdSx0WzE1XT0xfSh0aGlzLHQubGVmdCx0LnJpZ2h0LHQuYm90dG9tLHQudG9wLHQubmVhcix0LmZhciksdGhpc319LHtrZXk6ImZyb21RdWF0ZXJuaW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgaT1lWzBdLHI9ZVsxXSxuPWVbMl0scz1lWzNdLGE9aStpLGg9cityLG89bituLHU9aSphLGw9ciphLGM9cipoLGQ9biphLGY9bipoLGc9bipvLHY9cyphLHA9cypoLG09cypvO3RbMF09MS1jLWcsdFsxXT1sK20sdFsyXT1kLXAsdFszXT0wLHRbNF09bC1tLHRbNV09MS11LWcsdFs2XT1mK3YsdFs3XT0wLHRbOF09ZCtwLHRbOV09Zi12LHRbMTBdPTEtdS1jLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MX0odGhpcyx0KSx0aGlzfX0se2tleToic2V0UG9zaXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLng9dFswXSx0aGlzLnk9dFsxXSx0aGlzLno9dFsyXSx0aGlzfX0se2tleToiaW52ZXJzZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscixuLHMsYSxoLG8sdSxsLGMsZCxmLGcsdixwLG0seSxfLGIseCxFLHcsTSxBLGssVCxSLEYsUztyZXR1cm4gdD10aGlzLGk9KGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMpWzBdLHI9ZVsxXSxuPWVbMl0scz1lWzNdLGE9ZVs0XSxoPWVbNV0sbz1lWzZdLHU9ZVs3XSxsPWVbOF0sYz1lWzldLGQ9ZVsxMF0sZj1lWzExXSxnPWVbMTJdLHY9ZVsxM10scD1lWzE0XSxtPWVbMTVdLChTPSh5PWkqaC1yKmEpKihGPWQqbS1mKnApLShfPWkqby1uKmEpKihSPWMqbS1mKnYpKyhiPWkqdS1zKmEpKihUPWMqcC1kKnYpKyh4PXIqby1uKmgpKihrPWwqbS1mKmcpLShFPXIqdS1zKmgpKihBPWwqcC1kKmcpKyh3PW4qdS1zKm8pKihNPWwqdi1jKmcpKSYmKFM9MS9TLHRbMF09KGgqRi1vKlIrdSpUKSpTLHRbMV09KG4qUi1yKkYtcypUKSpTLHRbMl09KHYqdy1wKkUrbSp4KSpTLHRbM109KGQqRS1jKnctZip4KSpTLHRbNF09KG8qay1hKkYtdSpBKSpTLHRbNV09KGkqRi1uKmsrcypBKSpTLHRbNl09KHAqYi1nKnctbSpfKSpTLHRbN109KGwqdy1kKmIrZipfKSpTLHRbOF09KGEqUi1oKmsrdSpNKSpTLHRbOV09KHIqay1pKlItcypNKSpTLHRbMTBdPShnKkUtdipiK20qeSkqUyx0WzExXT0oYypiLWwqRS1mKnkpKlMsdFsxMl09KGgqQS1hKlQtbypNKSpTLHRbMTNdPShpKlQtcipBK24qTSkqUyx0WzE0XT0odipfLWcqeC1wKnkpKlMsdFsxNV09KGwqeC1jKl8rZCp5KSpTKSx0aGlzfX0se2tleToiY29tcG9zZSIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciByLG4scyxhLGgsbyx1LGwsYyxkLGYsZyx2LHAsbSx5LF8sYix4LEUsdyxNLEE7cmV0dXJuIG49ZSxzPWksYT10aGlzLGg9KHI9dClbMF0sbz1yWzFdLHU9clsyXSxsPXJbM10sZz1oKihjPWgraCksdj1oKihkPW8rbykscD1oKihmPXUrdSksbT1vKmQseT1vKmYsXz11KmYsYj1sKmMseD1sKmQsRT1sKmYsdz1zWzBdLE09c1sxXSxBPXNbMl0sYVswXT0oMS0obStfKSkqdyxhWzFdPSh2K0UpKncsYVsyXT0ocC14KSp3LGFbM109MCxhWzRdPSh2LUUpKk0sYVs1XT0oMS0oZytfKSkqTSxhWzZdPSh5K2IpKk0sYVs3XT0wLGFbOF09KHAreCkqQSxhWzldPSh5LWIpKkEsYVsxMF09KDEtKGcrbSkpKkEsYVsxMV09MCxhWzEyXT1uWzBdLGFbMTNdPW5bMV0sYVsxNF09blsyXSxhWzE1XT0xLHRoaXN9fSx7a2V5OiJkZWNvbXBvc2UiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gZnVuY3Rpb24odCxlLGkscil7dmFyIG49bShbdFswXSx0WzFdLHRbMl1dKSxzPW0oW3RbNF0sdFs1XSx0WzZdXSksYT1tKFt0WzhdLHRbOV0sdFsxMF1dKTt0dCh0KTwwJiYobj0tbiksaVswXT10WzEyXSxpWzFdPXRbMTNdLGlbMl09dFsxNF07dmFyIGg9dC5zbGljZSgpLG89MS9uLHU9MS9zLGw9MS9hO2hbMF0qPW8saFsxXSo9byxoWzJdKj1vLGhbNF0qPXUsaFs1XSo9dSxoWzZdKj11LGhbOF0qPWwsaFs5XSo9bCxoWzEwXSo9bCxudChlLGgpLHJbMF09bixyWzFdPXMsclsyXT1hfSh0aGlzLHQsZSxpKSx0aGlzfX0se2tleToiZ2V0Um90YXRpb24iLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBudCh0LHRoaXMpLHRoaXN9fSx7a2V5OiJnZXRUcmFuc2xhdGlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsaTtyZXR1cm4gaT10aGlzLChlPXQpWzBdPWlbMTJdLGVbMV09aVsxM10sZVsyXT1pWzE0XSx0aGlzfX0se2tleToiZ2V0U2NhbGluZyIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGl0KHQsdGhpcyksdGhpc319LHtrZXk6ImdldE1heFNjYWxlT25BeGlzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBlPSh0PXRoaXMpWzBdLGk9dFsxXSxyPXRbMl0sbj10WzRdLHM9dFs1XSxhPXRbNl0saD10WzhdLG89dFs5XSx1PXRbMTBdLGw9ZSplK2kqaStyKnIsYz1uKm4rcypzK2EqYSxkPWgqaCtvKm8rdSp1LE1hdGguc3FydChNYXRoLm1heChsLGMsZCkpO3ZhciB0LGUsaSxyLG4scyxhLGgsbyx1LGwsYyxkfX0se2tleToibG9va0F0Iix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBuPWVbMF0scz1lWzFdLGE9ZVsyXSxoPXJbMF0sbz1yWzFdLHU9clsyXSxsPW4taVswXSxjPXMtaVsxXSxkPWEtaVsyXSxmPWwqbCtjKmMrZCpkOzA9PT1mP2Q9MToobCo9Zj0xL01hdGguc3FydChmKSxjKj1mLGQqPWYpO3ZhciBnPW8qZC11KmMsdj11KmwtaCpkLHA9aCpjLW8qbDswPT0oZj1nKmcrdip2K3AqcCkmJih1P2grPTFlLTY6bz91Kz0xZS02Om8rPTFlLTYsZj0oZz1vKmQtdSpjKSpnKyh2PXUqbC1oKmQpKnYrKHA9aCpjLW8qbCkqcCksZyo9Zj0xL01hdGguc3FydChmKSx2Kj1mLHAqPWYsdFswXT1nLHRbMV09dix0WzJdPXAsdFszXT0wLHRbNF09YypwLWQqdix0WzVdPWQqZy1sKnAsdFs2XT1sKnYtYypnLHRbN109MCx0WzhdPWwsdFs5XT1jLHRbMTBdPWQsdFsxMV09MCx0WzEyXT1uLHRbMTNdPXMsdFsxNF09YSx0WzE1XT0xfSh0aGlzLHQsZSxpKSx0aGlzfX0se2tleToiZGV0ZXJtaW5hbnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHR0KHRoaXMpfX0se2tleToiZnJvbUFycmF5Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtyZXR1cm4gdGhpc1swXT10W2VdLHRoaXNbMV09dFtlKzFdLHRoaXNbMl09dFtlKzJdLHRoaXNbM109dFtlKzNdLHRoaXNbNF09dFtlKzRdLHRoaXNbNV09dFtlKzVdLHRoaXNbNl09dFtlKzZdLHRoaXNbN109dFtlKzddLHRoaXNbOF09dFtlKzhdLHRoaXNbOV09dFtlKzldLHRoaXNbMTBdPXRbZSsxMF0sdGhpc1sxMV09dFtlKzExXSx0aGlzWzEyXT10W2UrMTJdLHRoaXNbMTNdPXRbZSsxM10sdGhpc1sxNF09dFtlKzE0XSx0aGlzWzE1XT10W2UrMTVdLHRoaXN9fSx7a2V5OiJ0b0FycmF5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXSxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO3JldHVybiB0W2VdPXRoaXNbMF0sdFtlKzFdPXRoaXNbMV0sdFtlKzJdPXRoaXNbMl0sdFtlKzNdPXRoaXNbM10sdFtlKzRdPXRoaXNbNF0sdFtlKzVdPXRoaXNbNV0sdFtlKzZdPXRoaXNbNl0sdFtlKzddPXRoaXNbN10sdFtlKzhdPXRoaXNbOF0sdFtlKzldPXRoaXNbOV0sdFtlKzEwXT10aGlzWzEwXSx0W2UrMTFdPXRoaXNbMTFdLHRbZSsxMl09dGhpc1sxMl0sdFtlKzEzXT10aGlzWzEzXSx0W2UrMTRdPXRoaXNbMTRdLHRbZSsxNV09dGhpc1sxNV0sdH19XSl9KHAoQXJyYXkpKTt2YXIgb3Q9bmV3IGh0LHV0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdCxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLHM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm4sYT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bixoPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToiWVhaIjtyKHRoaXMsZSksKHQ9aSh0aGlzLGUsW24scyxhXSkpLm9yZGVyPWgsdC5vbkNoYW5nZT1mdW5jdGlvbigpe30sdC5fdGFyZ2V0PXQ7dmFyIG89WyIwIiwiMSIsIjIiXTtyZXR1cm4gbCh0LG5ldyBQcm94eSh0LHtzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT1SZWZsZWN0LnNldC5hcHBseShSZWZsZWN0LGFyZ3VtZW50cyk7cmV0dXJuIGkmJm8uaW5jbHVkZXMoZSkmJnQub25DaGFuZ2UoKSxpfX0pKX1yZXR1cm4gbyhlLHQpLHMoZSxbe2tleToieCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMF19LHNldDpmdW5jdGlvbih0KXt0aGlzLl90YXJnZXRbMF09dCx0aGlzLm9uQ2hhbmdlKCl9fSx7a2V5OiJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1sxXX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RhcmdldFsxXT10LHRoaXMub25DaGFuZ2UoKX19LHtrZXk6InoiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzJdfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGFyZ2V0WzJdPXQsdGhpcy5vbkNoYW5nZSgpfX0se2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp0O3JldHVybiB0Lmxlbmd0aD90aGlzLmNvcHkodCk6KHRoaXMuX3RhcmdldFswXT10LHRoaXMuX3RhcmdldFsxXT1lLHRoaXMuX3RhcmdldFsyXT1pLHRoaXMub25DaGFuZ2UoKSx0aGlzKX19LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90YXJnZXRbMF09dFswXSx0aGlzLl90YXJnZXRbMV09dFsxXSx0aGlzLl90YXJnZXRbMl09dFsyXSx0aGlzLm9uQ2hhbmdlKCksdGhpc319LHtrZXk6InJlb3JkZXIiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90YXJnZXQub3JkZXI9dCx0aGlzLm9uQ2hhbmdlKCksdGhpc319LHtrZXk6ImZyb21Sb3RhdGlvbk1hdHJpeCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMub3JkZXI7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOiJZWFoiOyJYWVoiPT09aT8odFsxXT1NYXRoLmFzaW4oTWF0aC5taW4oTWF0aC5tYXgoZVs4XSwtMSksMSkpLE1hdGguYWJzKGVbOF0pPC45OTk5OT8odFswXT1NYXRoLmF0YW4yKC1lWzldLGVbMTBdKSx0WzJdPU1hdGguYXRhbjIoLWVbNF0sZVswXSkpOih0WzBdPU1hdGguYXRhbjIoZVs2XSxlWzVdKSx0WzJdPTApKToiWVhaIj09PWk/KHRbMF09TWF0aC5hc2luKC1NYXRoLm1pbihNYXRoLm1heChlWzldLC0xKSwxKSksTWF0aC5hYnMoZVs5XSk8Ljk5OTk5Pyh0WzFdPU1hdGguYXRhbjIoZVs4XSxlWzEwXSksdFsyXT1NYXRoLmF0YW4yKGVbMV0sZVs1XSkpOih0WzFdPU1hdGguYXRhbjIoLWVbMl0sZVswXSksdFsyXT0wKSk6IlpYWSI9PT1pPyh0WzBdPU1hdGguYXNpbihNYXRoLm1pbihNYXRoLm1heChlWzZdLC0xKSwxKSksTWF0aC5hYnMoZVs2XSk8Ljk5OTk5Pyh0WzFdPU1hdGguYXRhbjIoLWVbMl0sZVsxMF0pLHRbMl09TWF0aC5hdGFuMigtZVs0XSxlWzVdKSk6KHRbMV09MCx0WzJdPU1hdGguYXRhbjIoZVsxXSxlWzBdKSkpOiJaWVgiPT09aT8odFsxXT1NYXRoLmFzaW4oLU1hdGgubWluKE1hdGgubWF4KGVbMl0sLTEpLDEpKSxNYXRoLmFicyhlWzJdKTwuOTk5OTk/KHRbMF09TWF0aC5hdGFuMihlWzZdLGVbMTBdKSx0WzJdPU1hdGguYXRhbjIoZVsxXSxlWzBdKSk6KHRbMF09MCx0WzJdPU1hdGguYXRhbjIoLWVbNF0sZVs1XSkpKToiWVpYIj09PWk/KHRbMl09TWF0aC5hc2luKE1hdGgubWluKE1hdGgubWF4KGVbMV0sLTEpLDEpKSxNYXRoLmFicyhlWzFdKTwuOTk5OTk/KHRbMF09TWF0aC5hdGFuMigtZVs5XSxlWzVdKSx0WzFdPU1hdGguYXRhbjIoLWVbMl0sZVswXSkpOih0WzBdPTAsdFsxXT1NYXRoLmF0YW4yKGVbOF0sZVsxMF0pKSk6IlhaWSI9PT1pJiYodFsyXT1NYXRoLmFzaW4oLU1hdGgubWluKE1hdGgubWF4KGVbNF0sLTEpLDEpKSxNYXRoLmFicyhlWzRdKTwuOTk5OTk/KHRbMF09TWF0aC5hdGFuMihlWzZdLGVbNV0pLHRbMV09TWF0aC5hdGFuMihlWzhdLGVbMF0pKToodFswXT1NYXRoLmF0YW4yKC1lWzldLGVbMTBdKSx0WzFdPTApKX0odGhpcy5fdGFyZ2V0LHQsZSksdGhpcy5vbkNoYW5nZSgpLHRoaXN9fSx7a2V5OiJmcm9tUXVhdGVybmlvbiIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMub3JkZXIsaT1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtyZXR1cm4gb3QuZnJvbVF1YXRlcm5pb24odCksdGhpcy5fdGFyZ2V0LmZyb21Sb3RhdGlvbk1hdHJpeChvdCxlKSxpfHx0aGlzLm9uQ2hhbmdlKCksdGhpc319LHtrZXk6ImZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjA7cmV0dXJuIHRoaXMuX3RhcmdldFswXT10W2VdLHRoaXMuX3RhcmdldFsxXT10W2UrMV0sdGhpcy5fdGFyZ2V0WzJdPXRbZSsyXSx0aGlzfX0se2tleToidG9BcnJheSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10sZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MDtyZXR1cm4gdFtlXT10aGlzWzBdLHRbZSsxXT10aGlzWzFdLHRbZSsyXT10aGlzWzJdLHR9fV0pfShwKEFycmF5KSksbHQ9ZnVuY3Rpb24oKXtyZXR1cm4gcygoZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXM7cih0aGlzLHQpLHRoaXMucGFyZW50PW51bGwsdGhpcy5jaGlsZHJlbj1bXSx0aGlzLnZpc2libGU9ITAsdGhpcy5tYXRyaXg9bmV3IGh0LHRoaXMud29ybGRNYXRyaXg9bmV3IGh0LHRoaXMubWF0cml4QXV0b1VwZGF0ZT0hMCx0aGlzLndvcmxkTWF0cml4TmVlZHNVcGRhdGU9ITEsdGhpcy5wb3NpdGlvbj1uZXcgRix0aGlzLnF1YXRlcm5pb249bmV3IEosdGhpcy5zY2FsZT1uZXcgRigxKSx0aGlzLnJvdGF0aW9uPW5ldyB1dCx0aGlzLnVwPW5ldyBGKDAsMSwwKSx0aGlzLnJvdGF0aW9uLl90YXJnZXQub25DaGFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gZS5xdWF0ZXJuaW9uLmZyb21FdWxlcihlLnJvdGF0aW9uLCEwKX0sdGhpcy5xdWF0ZXJuaW9uLl90YXJnZXQub25DaGFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gZS5yb3RhdGlvbi5mcm9tUXVhdGVybmlvbihlLnF1YXRlcm5pb24sdm9pZCAwLCEwKX19KSxbe2tleToic2V0UGFyZW50Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO3RoaXMucGFyZW50JiZ0IT09dGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMsITEpLHRoaXMucGFyZW50PXQsZSYmdCYmdC5hZGRDaGlsZCh0aGlzLCExKX19LHtrZXk6ImFkZENoaWxkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO350aGlzLmNoaWxkcmVuLmluZGV4T2YodCl8fHRoaXMuY2hpbGRyZW4ucHVzaCh0KSxlJiZ0LnNldFBhcmVudCh0aGlzLCExKX19LHtrZXk6InJlbW92ZUNoaWxkIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO350aGlzLmNoaWxkcmVuLmluZGV4T2YodCkmJnRoaXMuY2hpbGRyZW4uc3BsaWNlKHRoaXMuY2hpbGRyZW4uaW5kZXhPZih0KSwxKSxlJiZ0LnNldFBhcmVudChudWxsLCExKX19LHtrZXk6InVwZGF0ZU1hdHJpeFdvcmxkIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm1hdHJpeEF1dG9VcGRhdGUmJnRoaXMudXBkYXRlTWF0cml4KCksKHRoaXMud29ybGRNYXRyaXhOZWVkc1VwZGF0ZXx8dCkmJihudWxsPT09dGhpcy5wYXJlbnQ/dGhpcy53b3JsZE1hdHJpeC5jb3B5KHRoaXMubWF0cml4KTp0aGlzLndvcmxkTWF0cml4Lm11bHRpcGx5KHRoaXMucGFyZW50LndvcmxkTWF0cml4LHRoaXMubWF0cml4KSx0aGlzLndvcmxkTWF0cml4TmVlZHNVcGRhdGU9ITEsdD0hMCk7Zm9yKHZhciBlPTAsaT10aGlzLmNoaWxkcmVuLmxlbmd0aDtlPGk7ZSsrKXRoaXMuY2hpbGRyZW5bZV0udXBkYXRlTWF0cml4V29ybGQodCl9fSx7a2V5OiJ1cGRhdGVNYXRyaXgiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tYXRyaXguY29tcG9zZSh0aGlzLnF1YXRlcm5pb24sdGhpcy5wb3NpdGlvbix0aGlzLnNjYWxlKSx0aGlzLndvcmxkTWF0cml4TmVlZHNVcGRhdGU9ITB9fSx7a2V5OiJ0cmF2ZXJzZSIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXQodGhpcykpZm9yKHZhciBlPTAsaT10aGlzLmNoaWxkcmVuLmxlbmd0aDtlPGk7ZSsrKXRoaXMuY2hpbGRyZW5bZV0udHJhdmVyc2UodCl9fSx7a2V5OiJkZWNvbXBvc2UiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tYXRyaXguZGVjb21wb3NlKHRoaXMucXVhdGVybmlvbi5fdGFyZ2V0LHRoaXMucG9zaXRpb24sdGhpcy5zY2FsZSksdGhpcy5yb3RhdGlvbi5mcm9tUXVhdGVybmlvbih0aGlzLnF1YXRlcm5pb24pfX0se2tleToibG9va0F0Iix2YWx1ZTpmdW5jdGlvbih0KXthcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdP3RoaXMubWF0cml4Lmxvb2tBdCh0aGlzLnBvc2l0aW9uLHQsdGhpcy51cCk6dGhpcy5tYXRyaXgubG9va0F0KHQsdGhpcy5wb3NpdGlvbix0aGlzLnVwKSx0aGlzLm1hdHJpeC5nZXRSb3RhdGlvbih0aGlzLnF1YXRlcm5pb24uX3RhcmdldCksdGhpcy5yb3RhdGlvbi5mcm9tUXVhdGVybmlvbih0aGlzLnF1YXRlcm5pb24pfX1dKX0oKSxjdD1uZXcgaHQsZHQ9bmV3IEYsZnQ9bmV3IEYsZ3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgbixzPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxhPXMubmVhcixoPXZvaWQgMD09PWE/LjE6YSxvPXMuZmFyLHU9dm9pZCAwPT09bz8xMDA6byxsPXMuZm92LGM9dm9pZCAwPT09bD80NTpsLGQ9cy5hc3BlY3QsZj12b2lkIDA9PT1kPzE6ZCxnPXMubGVmdCx2PXMucmlnaHQscD1zLmJvdHRvbSxtPXMudG9wLHk9cy56b29tLF89dm9pZCAwPT09eT8xOnk7cmV0dXJuIHIodGhpcyxlKSxuPWkodGhpcyxlKSxPYmplY3QuYXNzaWduKG4se25lYXI6aCxmYXI6dSxmb3Y6Yyxhc3BlY3Q6ZixsZWZ0OmcscmlnaHQ6dixib3R0b206cCx0b3A6bSx6b29tOl99KSxuLnByb2plY3Rpb25NYXRyaXg9bmV3IGh0LG4udmlld01hdHJpeD1uZXcgaHQsbi5wcm9qZWN0aW9uVmlld01hdHJpeD1uZXcgaHQsbi53b3JsZFBvc2l0aW9uPW5ldyBGLG4udHlwZT1nfHx2PyJvcnRob2dyYXBoaWMiOiJwZXJzcGVjdGl2ZSIsIm9ydGhvZ3JhcGhpYyI9PT1uLnR5cGU/bi5vcnRob2dyYXBoaWMoKTpuLnBlcnNwZWN0aXZlKCksbn1yZXR1cm4gbyhlLHQpLHMoZSxbe2tleToicGVyc3BlY3RpdmUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC5uZWFyLGk9dm9pZCAwPT09ZT90aGlzLm5lYXI6ZSxyPXQuZmFyLG49dm9pZCAwPT09cj90aGlzLmZhcjpyLHM9dC5mb3YsYT12b2lkIDA9PT1zP3RoaXMuZm92OnMsaD10LmFzcGVjdCxvPXZvaWQgMD09PWg/dGhpcy5hc3BlY3Q6aDtyZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLHtuZWFyOmksZmFyOm4sZm92OmEsYXNwZWN0Om99KSx0aGlzLnByb2plY3Rpb25NYXRyaXguZnJvbVBlcnNwZWN0aXZlKHtmb3Y6YSooTWF0aC5QSS8xODApLGFzcGVjdDpvLG5lYXI6aSxmYXI6bn0pLHRoaXMudHlwZT0icGVyc3BlY3RpdmUiLHRoaXN9fSx7a2V5OiJvcnRob2dyYXBoaWMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGU9dC5uZWFyLGk9dm9pZCAwPT09ZT90aGlzLm5lYXI6ZSxyPXQuZmFyLG49dm9pZCAwPT09cj90aGlzLmZhcjpyLHM9dC5sZWZ0LGE9dm9pZCAwPT09cz90aGlzLmxlZnR8fC0xOnMsaD10LnJpZ2h0LG89dm9pZCAwPT09aD90aGlzLnJpZ2h0fHwxOmgsdT10LmJvdHRvbSxsPXZvaWQgMD09PXU/dGhpcy5ib3R0b218fC0xOnUsYz10LnRvcCxkPXZvaWQgMD09PWM/dGhpcy50b3B8fDE6YyxmPXQuem9vbSxnPXZvaWQgMD09PWY/dGhpcy56b29tOmY7cmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcyx7bmVhcjppLGZhcjpuLGxlZnQ6YSxyaWdodDpvLGJvdHRvbTpsLHRvcDpkLHpvb206Z30pLGEvPWcsby89ZyxsLz1nLGQvPWcsdGhpcy5wcm9qZWN0aW9uTWF0cml4LmZyb21PcnRob2dvbmFsKHtsZWZ0OmEscmlnaHQ6byxib3R0b206bCx0b3A6ZCxuZWFyOmksZmFyOm59KSx0aGlzLnR5cGU9Im9ydGhvZ3JhcGhpYyIsdGhpc319LHtrZXk6InVwZGF0ZU1hdHJpeFdvcmxkIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBhKGgoZS5wcm90b3R5cGUpLCJ1cGRhdGVNYXRyaXhXb3JsZCIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLnZpZXdNYXRyaXguaW52ZXJzZSh0aGlzLndvcmxkTWF0cml4KSx0aGlzLndvcmxkTWF0cml4LmdldFRyYW5zbGF0aW9uKHRoaXMud29ybGRQb3NpdGlvbiksdGhpcy5wcm9qZWN0aW9uVmlld01hdHJpeC5tdWx0aXBseSh0aGlzLnByb2plY3Rpb25NYXRyaXgsdGhpcy52aWV3TWF0cml4KSx0aGlzfX0se2tleToibG9va0F0Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gYShoKGUucHJvdG90eXBlKSwibG9va0F0Iix0aGlzKS5jYWxsKHRoaXMsdCwhMCksdGhpc319LHtrZXk6InByb2plY3QiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFwcGx5TWF0cml4NCh0aGlzLnZpZXdNYXRyaXgpLHQuYXBwbHlNYXRyaXg0KHRoaXMucHJvamVjdGlvbk1hdHJpeCksdGhpc319LHtrZXk6InVucHJvamVjdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuYXBwbHlNYXRyaXg0KGN0LmludmVyc2UodGhpcy5wcm9qZWN0aW9uTWF0cml4KSksdC5hcHBseU1hdHJpeDQodGhpcy53b3JsZE1hdHJpeCksdGhpc319LHtrZXk6InVwZGF0ZUZydXN0dW0iLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5mcnVzdHVtfHwodGhpcy5mcnVzdHVtPVtuZXcgRixuZXcgRixuZXcgRixuZXcgRixuZXcgRixuZXcgRl0pO3ZhciB0PXRoaXMucHJvamVjdGlvblZpZXdNYXRyaXg7dGhpcy5mcnVzdHVtWzBdLnNldCh0WzNdLXRbMF0sdFs3XS10WzRdLHRbMTFdLXRbOF0pLmNvbnN0YW50PXRbMTVdLXRbMTJdLHRoaXMuZnJ1c3R1bVsxXS5zZXQodFszXSt0WzBdLHRbN10rdFs0XSx0WzExXSt0WzhdKS5jb25zdGFudD10WzE1XSt0WzEyXSx0aGlzLmZydXN0dW1bMl0uc2V0KHRbM10rdFsxXSx0WzddK3RbNV0sdFsxMV0rdFs5XSkuY29uc3RhbnQ9dFsxNV0rdFsxM10sdGhpcy5mcnVzdHVtWzNdLnNldCh0WzNdLXRbMV0sdFs3XS10WzVdLHRbMTFdLXRbOV0pLmNvbnN0YW50PXRbMTVdLXRbMTNdLHRoaXMuZnJ1c3R1bVs0XS5zZXQodFszXS10WzJdLHRbN10tdFs2XSx0WzExXS10WzEwXSkuY29uc3RhbnQ9dFsxNV0tdFsxNF0sdGhpcy5mcnVzdHVtWzVdLnNldCh0WzNdK3RbMl0sdFs3XSt0WzZdLHRbMTFdK3RbMTBdKS5jb25zdGFudD10WzE1XSt0WzE0XTtmb3IodmFyIGU9MDtlPDY7ZSsrKXt2YXIgaT0xL3RoaXMuZnJ1c3R1bVtlXS5kaXN0YW5jZSgpO3RoaXMuZnJ1c3R1bVtlXS5tdWx0aXBseShpKSx0aGlzLmZydXN0dW1bZV0uY29uc3RhbnQqPWl9fX0se2tleToiZnJ1c3R1bUludGVyc2VjdHNNZXNoIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dC53b3JsZE1hdHJpeDtpZighdC5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uKXJldHVybiEwO2lmKHQuZ2VvbWV0cnkuYm91bmRzJiZ0Lmdlb21ldHJ5LmJvdW5kcy5yYWRpdXMhPT0xLzB8fHQuZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksIXQuZ2VvbWV0cnkuYm91bmRzKXJldHVybiEwO3ZhciBpPWR0O2kuY29weSh0Lmdlb21ldHJ5LmJvdW5kcy5jZW50ZXIpLGkuYXBwbHlNYXRyaXg0KGUpO3ZhciByPXQuZ2VvbWV0cnkuYm91bmRzLnJhZGl1cyplLmdldE1heFNjYWxlT25BeGlzKCk7cmV0dXJuIHRoaXMuZnJ1c3R1bUludGVyc2VjdHNTcGhlcmUoaSxyKX19LHtrZXk6ImZydXN0dW1JbnRlcnNlY3RzU3BoZXJlIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1mdCxyPTA7cjw2O3IrKyl7dmFyIG49dGhpcy5mcnVzdHVtW3JdO2lmKGkuY29weShuKS5kb3QodCkrbi5jb25zdGFudDwtZSlyZXR1cm4hMX1yZXR1cm4hMH19XSl9KGx0KTtmdW5jdGlvbiB2dCh0LGUsaSl7dmFyIHI9ZVswXSxuPWVbMV0scz1lWzJdLGE9ZVszXSxoPWVbNF0sbz1lWzVdLHU9ZVs2XSxsPWVbN10sYz1lWzhdLGQ9aVswXSxmPWlbMV0sZz1pWzJdLHY9aVszXSxwPWlbNF0sbT1pWzVdLHk9aVs2XSxfPWlbN10sYj1pWzhdO3JldHVybiB0WzBdPWQqcitmKmErZyp1LHRbMV09ZCpuK2YqaCtnKmwsdFsyXT1kKnMrZipvK2cqYyx0WzNdPXYqcitwKmErbSp1LHRbNF09dipuK3AqaCttKmwsdFs1XT12KnMrcCpvK20qYyx0WzZdPXkqcitfKmErYip1LHRbN109eSpuK18qaCtiKmwsdFs4XT15KnMrXypvK2IqYyx0fXZhciBwdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MSxzPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLGE9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAsaD1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MCxvPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XToxLHU9YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOjAsYz1hcmd1bWVudHMubGVuZ3RoPjYmJnZvaWQgMCE9PWFyZ3VtZW50c1s2XT9hcmd1bWVudHNbNl06MCxkPWFyZ3VtZW50cy5sZW5ndGg+NyYmdm9pZCAwIT09YXJndW1lbnRzWzddP2FyZ3VtZW50c1s3XTowLGY9YXJndW1lbnRzLmxlbmd0aD44JiZ2b2lkIDAhPT1hcmd1bWVudHNbOF0/YXJndW1lbnRzWzhdOjE7cmV0dXJuIHIodGhpcyxlKSxsKHQ9aSh0aGlzLGUsW24scyxhLGgsbyx1LGMsZCxmXSksdCl9cmV0dXJuIG8oZSx0KSxzKGUsW3trZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkscixuLHMsYSxoLG8pe3JldHVybiB0Lmxlbmd0aD90aGlzLmNvcHkodCk6KGZ1bmN0aW9uKHQsZSxpLHIsbixzLGEsaCxvLHUpe3RbMF09ZSx0WzFdPWksdFsyXT1yLHRbM109bix0WzRdPXMsdFs1XT1hLHRbNl09aCx0WzddPW8sdFs4XT11fSh0aGlzLHQsZSxpLHIsbixzLGEsaCxvKSx0aGlzKX19LHtrZXk6InRyYW5zbGF0ZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1lWzBdLG49ZVsxXSxzPWVbMl0sYT1lWzNdLGg9ZVs0XSxvPWVbNV0sdT1lWzZdLGw9ZVs3XSxjPWVbOF0sZD1pWzBdLGY9aVsxXTt0WzBdPXIsdFsxXT1uLHRbMl09cyx0WzNdPWEsdFs0XT1oLHRbNV09byx0WzZdPWQqcitmKmErdSx0WzddPWQqbitmKmgrbCx0WzhdPWQqcytmKm8rY30odGhpcyxhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcyx0KSx0aGlzfX0se2tleToicm90YXRlIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpLHIsbixzLGEsaCxvLHUsbCxjLGQsZixnO3JldHVybiBlPXRoaXMscj10LG49KGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMpWzBdLHM9aVsxXSxhPWlbMl0saD1pWzNdLG89aVs0XSx1PWlbNV0sbD1pWzZdLGM9aVs3XSxkPWlbOF0sZj1NYXRoLnNpbihyKSxnPU1hdGguY29zKHIpLGVbMF09ZypuK2YqaCxlWzFdPWcqcytmKm8sZVsyXT1nKmErZip1LGVbM109ZypoLWYqbixlWzRdPWcqby1mKnMsZVs1XT1nKnUtZiphLGVbNl09bCxlWzddPWMsZVs4XT1kLHRoaXN9fSx7a2V5OiJzY2FsZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1pWzBdLG49aVsxXTt0WzBdPXIqZVswXSx0WzFdPXIqZVsxXSx0WzJdPXIqZVsyXSx0WzNdPW4qZVszXSx0WzRdPW4qZVs0XSx0WzVdPW4qZVs1XSx0WzZdPWVbNl0sdFs3XT1lWzddLHRbOF09ZVs4XX0odGhpcyxhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcyx0KSx0aGlzfX0se2tleToibXVsdGlwbHkiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/dnQodGhpcyx0LGUpOnZ0KHRoaXMsdGhpcyx0KSx0aGlzfX0se2tleToiaWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKHQ9dGhpcylbMF09MSx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTEsdFs1XT0wLHRbNl09MCx0WzddPTAsdFs4XT0xLHRoaXN9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpO3JldHVybiBpPXQsKGU9dGhpcylbMF09aVswXSxlWzFdPWlbMV0sZVsyXT1pWzJdLGVbM109aVszXSxlWzRdPWlbNF0sZVs1XT1pWzVdLGVbNl09aVs2XSxlWzddPWlbN10sZVs4XT1pWzhdLHRoaXN9fSx7a2V5OiJmcm9tTWF0cml4NCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsaTtyZXR1cm4gaT10LChlPXRoaXMpWzBdPWlbMF0sZVsxXT1pWzFdLGVbMl09aVsyXSxlWzNdPWlbNF0sZVs0XT1pWzVdLGVbNV09aVs2XSxlWzZdPWlbOF0sZVs3XT1pWzldLGVbOF09aVsxMF0sdGhpc319LHtrZXk6ImZyb21RdWF0ZXJuaW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgaT1lWzBdLHI9ZVsxXSxuPWVbMl0scz1lWzNdLGE9aStpLGg9cityLG89bituLHU9aSphLGw9ciphLGM9cipoLGQ9biphLGY9bipoLGc9bipvLHY9cyphLHA9cypoLG09cypvO3RbMF09MS1jLWcsdFszXT1sLW0sdFs2XT1kK3AsdFsxXT1sK20sdFs0XT0xLXUtZyx0WzddPWYtdix0WzJdPWQtcCx0WzVdPWYrdix0WzhdPTEtdS1jfSh0aGlzLHQpLHRoaXN9fSx7a2V5OiJmcm9tQmFzaXMiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5zZXQodFswXSx0WzFdLHRbMl0sZVswXSxlWzFdLGVbMl0saVswXSxpWzFdLGlbMl0pLHRoaXN9fSx7a2V5OiJpbnZlcnNlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsaSxyLG4scyxhLGgsbyx1LGwsYyxkLGYsZztyZXR1cm4gdD10aGlzLGk9KGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMpWzBdLHI9ZVsxXSxuPWVbMl0scz1lWzNdLGE9ZVs0XSxoPWVbNV0sbz1lWzZdLHU9ZVs3XSxsPWVbOF0sKGc9aSooYz1sKmEtaCp1KStyKihkPS1sKnMraCpvKStuKihmPXUqcy1hKm8pKSYmKGc9MS9nLHRbMF09YypnLHRbMV09KC1sKnIrbip1KSpnLHRbMl09KGgqci1uKmEpKmcsdFszXT1kKmcsdFs0XT0obCppLW4qbykqZyx0WzVdPSgtaCppK24qcykqZyx0WzZdPWYqZyx0WzddPSgtdSppK3IqbykqZyx0WzhdPShhKmktcipzKSpnKSx0aGlzfX0se2tleToiZ2V0Tm9ybWFsTWF0cml4Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpLHIsbixzLGEsaCxvLHUsbCxjLGQsZixnLHYscCxtLHksXyxiLHgsRSx3LE0sQSxrLFQsUixGLFMsQztyZXR1cm4gZT10aGlzLHI9KGk9dClbMF0sbj1pWzFdLHM9aVsyXSxhPWlbM10saD1pWzRdLG89aVs1XSx1PWlbNl0sbD1pWzddLGM9aVs4XSxkPWlbOV0sZj1pWzEwXSxnPWlbMTFdLHY9aVsxMl0scD1pWzEzXSxtPWlbMTRdLHk9aVsxNV0sKEM9KF89cipvLW4qaCkqKFM9Zip5LWcqbSktKGI9cip1LXMqaCkqKEY9ZCp5LWcqcCkrKHg9cipsLWEqaCkqKFI9ZCptLWYqcCkrKEU9bip1LXMqbykqKFQ9Yyp5LWcqdiktKHc9bipsLWEqbykqKGs9YyptLWYqdikrKE09cypsLWEqdSkqKEE9YypwLWQqdikpJiYoQz0xL0MsZVswXT0obypTLXUqRitsKlIpKkMsZVsxXT0odSpULWgqUy1sKmspKkMsZVsyXT0oaCpGLW8qVCtsKkEpKkMsZVszXT0ocypGLW4qUy1hKlIpKkMsZVs0XT0ocipTLXMqVCthKmspKkMsZVs1XT0obipULXIqRi1hKkEpKkMsZVs2XT0ocCpNLW0qdyt5KkUpKkMsZVs3XT0obSp4LXYqTS15KmIpKkMsZVs4XT0odip3LXAqeCt5Kl8pKkMpLHRoaXN9fV0pfShwKEFycmF5KSksbXQ9MCx5dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBuLHM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LGE9cy5nZW9tZXRyeSxoPXMucHJvZ3JhbSxvPXMubW9kZSx1PXZvaWQgMD09PW8/dC5UUklBTkdMRVM6byxsPXMuZnJ1c3R1bUN1bGxlZCxjPXZvaWQgMD09PWx8fGwsZD1zLnJlbmRlck9yZGVyLGY9dm9pZCAwPT09ZD8wOmQ7cmV0dXJuIHIodGhpcyxlKSxuPWkodGhpcyxlKSx0LmNhbnZhcyxuLmdsPXQsbi5pZD1tdCsrLG4uZ2VvbWV0cnk9YSxuLnByb2dyYW09aCxuLm1vZGU9dSxuLmZydXN0dW1DdWxsZWQ9YyxuLnJlbmRlck9yZGVyPWYsbi5tb2RlbFZpZXdNYXRyaXg9bmV3IGh0LG4ubm9ybWFsTWF0cml4PW5ldyBwdCxuLmJlZm9yZVJlbmRlckNhbGxiYWNrcz1bXSxuLmFmdGVyUmVuZGVyQ2FsbGJhY2tzPVtdLG59cmV0dXJuIG8oZSx0KSxzKGUsW3trZXk6Im9uQmVmb3JlUmVuZGVyIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5iZWZvcmVSZW5kZXJDYWxsYmFja3MucHVzaCh0KSx0aGlzfX0se2tleToib25BZnRlclJlbmRlciIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYWZ0ZXJSZW5kZXJDYWxsYmFja3MucHVzaCh0KSx0aGlzfX0se2tleToiZHJhdyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9KGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSkuY2FtZXJhO2UmJih0aGlzLnByb2dyYW0udW5pZm9ybXMubW9kZWxNYXRyaXh8fE9iamVjdC5hc3NpZ24odGhpcy5wcm9ncmFtLnVuaWZvcm1zLHttb2RlbE1hdHJpeDp7dmFsdWU6bnVsbH0sdmlld01hdHJpeDp7dmFsdWU6bnVsbH0sbW9kZWxWaWV3TWF0cml4Ont2YWx1ZTpudWxsfSxub3JtYWxNYXRyaXg6e3ZhbHVlOm51bGx9LHByb2plY3Rpb25NYXRyaXg6e3ZhbHVlOm51bGx9LGNhbWVyYVBvc2l0aW9uOnt2YWx1ZTpudWxsfX0pLHRoaXMucHJvZ3JhbS51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4LnZhbHVlPWUucHJvamVjdGlvbk1hdHJpeCx0aGlzLnByb2dyYW0udW5pZm9ybXMuY2FtZXJhUG9zaXRpb24udmFsdWU9ZS53b3JsZFBvc2l0aW9uLHRoaXMucHJvZ3JhbS51bmlmb3Jtcy52aWV3TWF0cml4LnZhbHVlPWUudmlld01hdHJpeCx0aGlzLm1vZGVsVmlld01hdHJpeC5tdWx0aXBseShlLnZpZXdNYXRyaXgsdGhpcy53b3JsZE1hdHJpeCksdGhpcy5ub3JtYWxNYXRyaXguZ2V0Tm9ybWFsTWF0cml4KHRoaXMubW9kZWxWaWV3TWF0cml4KSx0aGlzLnByb2dyYW0udW5pZm9ybXMubW9kZWxNYXRyaXgudmFsdWU9dGhpcy53b3JsZE1hdHJpeCx0aGlzLnByb2dyYW0udW5pZm9ybXMubW9kZWxWaWV3TWF0cml4LnZhbHVlPXRoaXMubW9kZWxWaWV3TWF0cml4LHRoaXMucHJvZ3JhbS51bmlmb3Jtcy5ub3JtYWxNYXRyaXgudmFsdWU9dGhpcy5ub3JtYWxNYXRyaXgpLHRoaXMuYmVmb3JlUmVuZGVyQ2FsbGJhY2tzLmZvckVhY2goKGZ1bmN0aW9uKGkpe3JldHVybiBpJiZpKHttZXNoOnQsY2FtZXJhOmV9KX0pKTt2YXIgaT10aGlzLnByb2dyYW0uY3VsbEZhY2UmJnRoaXMud29ybGRNYXRyaXguZGV0ZXJtaW5hbnQoKTwwO3RoaXMucHJvZ3JhbS51c2Uoe2ZsaXBGYWNlczppfSksdGhpcy5nZW9tZXRyeS5kcmF3KHttb2RlOnRoaXMubW9kZSxwcm9ncmFtOnRoaXMucHJvZ3JhbX0pLHRoaXMuYWZ0ZXJSZW5kZXJDYWxsYmFja3MuZm9yRWFjaCgoZnVuY3Rpb24oaSl7cmV0dXJuIGkmJmkoe21lc2g6dCxjYW1lcmE6ZX0pfSkpfX1dKX0obHQpLF90PW5ldyBVaW50OEFycmF5KDQpO2Z1bmN0aW9uIGJ0KHQpe3JldHVybiEodCZ0LTEpfXZhciB4dD0xLEV0PWZ1bmN0aW9uKCl7cmV0dXJuIHMoKGZ1bmN0aW9uIHQoZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49aS5pbWFnZSxzPWkudGFyZ2V0LGE9dm9pZCAwPT09cz9lLlRFWFRVUkVfMkQ6cyxoPWkudHlwZSxvPXZvaWQgMD09PWg/ZS5VTlNJR05FRF9CWVRFOmgsdT1pLmZvcm1hdCxsPXZvaWQgMD09PXU/ZS5SR0JBOnUsYz1pLmludGVybmFsRm9ybWF0LGQ9dm9pZCAwPT09Yz9sOmMsZj1pLndyYXBTLGc9dm9pZCAwPT09Zj9lLkNMQU1QX1RPX0VER0U6Zix2PWkud3JhcFQscD12b2lkIDA9PT12P2UuQ0xBTVBfVE9fRURHRTp2LG09aS5nZW5lcmF0ZU1pcG1hcHMseT12b2lkIDA9PT1tfHxtLF89aS5taW5GaWx0ZXIsYj12b2lkIDA9PT1fP3k/ZS5ORUFSRVNUX01JUE1BUF9MSU5FQVI6ZS5MSU5FQVI6Xyx4PWkubWFnRmlsdGVyLEU9dm9pZCAwPT09eD9lLkxJTkVBUjp4LHc9aS5wcmVtdWx0aXBseUFscGhhLE09dm9pZCAwIT09dyYmdyxBPWkudW5wYWNrQWxpZ25tZW50LGs9dm9pZCAwPT09QT80OkEsVD1pLmZsaXBZLFI9dm9pZCAwPT09VD9hPT1lLlRFWFRVUkVfMkQ6VCxGPWkuYW5pc290cm9weSxTPXZvaWQgMD09PUY/MDpGLEM9aS5sZXZlbCxQPXZvaWQgMD09PUM/MDpDLEI9aS53aWR0aCxEPWkuaGVpZ2h0LE89dm9pZCAwPT09RD9COkQ7cih0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLmlkPXh0KyssdGhpcy5pbWFnZT1uLHRoaXMudGFyZ2V0PWEsdGhpcy50eXBlPW8sdGhpcy5mb3JtYXQ9bCx0aGlzLmludGVybmFsRm9ybWF0PWQsdGhpcy5taW5GaWx0ZXI9Yix0aGlzLm1hZ0ZpbHRlcj1FLHRoaXMud3JhcFM9Zyx0aGlzLndyYXBUPXAsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9eSx0aGlzLnByZW11bHRpcGx5QWxwaGE9TSx0aGlzLnVucGFja0FsaWdubWVudD1rLHRoaXMuZmxpcFk9Uix0aGlzLmFuaXNvdHJvcHk9TWF0aC5taW4oUyx0aGlzLmdsLnJlbmRlcmVyLnBhcmFtZXRlcnMubWF4QW5pc290cm9weSksdGhpcy5sZXZlbD1QLHRoaXMud2lkdGg9Qix0aGlzLmhlaWdodD1PLHRoaXMudGV4dHVyZT10aGlzLmdsLmNyZWF0ZVRleHR1cmUoKSx0aGlzLnN0b3JlPXtpbWFnZTpudWxsfSx0aGlzLmdsU3RhdGU9dGhpcy5nbC5yZW5kZXJlci5zdGF0ZSx0aGlzLnN0YXRlPXt9LHRoaXMuc3RhdGUubWluRmlsdGVyPXRoaXMuZ2wuTkVBUkVTVF9NSVBNQVBfTElORUFSLHRoaXMuc3RhdGUubWFnRmlsdGVyPXRoaXMuZ2wuTElORUFSLHRoaXMuc3RhdGUud3JhcFM9dGhpcy5nbC5SRVBFQVQsdGhpcy5zdGF0ZS53cmFwVD10aGlzLmdsLlJFUEVBVCx0aGlzLnN0YXRlLmFuaXNvdHJvcHk9MH0pLFt7a2V5OiJiaW5kIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ2xTdGF0ZS50ZXh0dXJlVW5pdHNbdGhpcy5nbFN0YXRlLmFjdGl2ZVRleHR1cmVVbml0XSE9PXRoaXMuaWQmJih0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMudGFyZ2V0LHRoaXMudGV4dHVyZSksdGhpcy5nbFN0YXRlLnRleHR1cmVVbml0c1t0aGlzLmdsU3RhdGUuYWN0aXZlVGV4dHVyZVVuaXRdPXRoaXMuaWQpfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLGU9ISh0aGlzLmltYWdlPT09dGhpcy5zdG9yZS5pbWFnZSYmIXRoaXMubmVlZHNVcGRhdGUpO2lmKChlfHx0aGlzLmdsU3RhdGUudGV4dHVyZVVuaXRzW3RdIT09dGhpcy5pZCkmJih0aGlzLmdsLnJlbmRlcmVyLmFjdGl2ZVRleHR1cmUodCksdGhpcy5iaW5kKCkpLGUpe2lmKHRoaXMubmVlZHNVcGRhdGU9ITEsdGhpcy5mbGlwWSE9PXRoaXMuZ2xTdGF0ZS5mbGlwWSYmKHRoaXMuZ2wucGl4ZWxTdG9yZWkodGhpcy5nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLHRoaXMuZmxpcFkpLHRoaXMuZ2xTdGF0ZS5mbGlwWT10aGlzLmZsaXBZKSx0aGlzLnByZW11bHRpcGx5QWxwaGEhPT10aGlzLmdsU3RhdGUucHJlbXVsdGlwbHlBbHBoYSYmKHRoaXMuZ2wucGl4ZWxTdG9yZWkodGhpcy5nbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsdGhpcy5wcmVtdWx0aXBseUFscGhhKSx0aGlzLmdsU3RhdGUucHJlbXVsdGlwbHlBbHBoYT10aGlzLnByZW11bHRpcGx5QWxwaGEpLHRoaXMudW5wYWNrQWxpZ25tZW50IT09dGhpcy5nbFN0YXRlLnVucGFja0FsaWdubWVudCYmKHRoaXMuZ2wucGl4ZWxTdG9yZWkodGhpcy5nbC5VTlBBQ0tfQUxJR05NRU5ULHRoaXMudW5wYWNrQWxpZ25tZW50KSx0aGlzLmdsU3RhdGUudW5wYWNrQWxpZ25tZW50PXRoaXMudW5wYWNrQWxpZ25tZW50KSx0aGlzLm1pbkZpbHRlciE9PXRoaXMuc3RhdGUubWluRmlsdGVyJiYodGhpcy5nbC50ZXhQYXJhbWV0ZXJpKHRoaXMudGFyZ2V0LHRoaXMuZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMubWluRmlsdGVyKSx0aGlzLnN0YXRlLm1pbkZpbHRlcj10aGlzLm1pbkZpbHRlciksdGhpcy5tYWdGaWx0ZXIhPT10aGlzLnN0YXRlLm1hZ0ZpbHRlciYmKHRoaXMuZ2wudGV4UGFyYW1ldGVyaSh0aGlzLnRhcmdldCx0aGlzLmdsLlRFWFRVUkVfTUFHX0ZJTFRFUix0aGlzLm1hZ0ZpbHRlciksdGhpcy5zdGF0ZS5tYWdGaWx0ZXI9dGhpcy5tYWdGaWx0ZXIpLHRoaXMud3JhcFMhPT10aGlzLnN0YXRlLndyYXBTJiYodGhpcy5nbC50ZXhQYXJhbWV0ZXJpKHRoaXMudGFyZ2V0LHRoaXMuZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy53cmFwUyksdGhpcy5zdGF0ZS53cmFwUz10aGlzLndyYXBTKSx0aGlzLndyYXBUIT09dGhpcy5zdGF0ZS53cmFwVCYmKHRoaXMuZ2wudGV4UGFyYW1ldGVyaSh0aGlzLnRhcmdldCx0aGlzLmdsLlRFWFRVUkVfV1JBUF9ULHRoaXMud3JhcFQpLHRoaXMuc3RhdGUud3JhcFQ9dGhpcy53cmFwVCksdGhpcy5hbmlzb3Ryb3B5JiZ0aGlzLmFuaXNvdHJvcHkhPT10aGlzLnN0YXRlLmFuaXNvdHJvcHkmJih0aGlzLmdsLnRleFBhcmFtZXRlcmYodGhpcy50YXJnZXQsdGhpcy5nbC5yZW5kZXJlci5nZXRFeHRlbnNpb24oIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULHRoaXMuYW5pc290cm9weSksdGhpcy5zdGF0ZS5hbmlzb3Ryb3B5PXRoaXMuYW5pc290cm9weSksdGhpcy5pbWFnZSl7aWYodGhpcy5pbWFnZS53aWR0aCYmKHRoaXMud2lkdGg9dGhpcy5pbWFnZS53aWR0aCx0aGlzLmhlaWdodD10aGlzLmltYWdlLmhlaWdodCksdGhpcy50YXJnZXQ9PT10aGlzLmdsLlRFWFRVUkVfQ1VCRV9NQVApZm9yKHZhciBpPTA7aTw2O2krKyl0aGlzLmdsLnRleEltYWdlMkQodGhpcy5nbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1graSx0aGlzLmxldmVsLHRoaXMuaW50ZXJuYWxGb3JtYXQsdGhpcy5mb3JtYXQsdGhpcy50eXBlLHRoaXMuaW1hZ2VbaV0pO2Vsc2UgaWYoQXJyYXlCdWZmZXIuaXNWaWV3KHRoaXMuaW1hZ2UpKXRoaXMuZ2wudGV4SW1hZ2UyRCh0aGlzLnRhcmdldCx0aGlzLmxldmVsLHRoaXMuaW50ZXJuYWxGb3JtYXQsdGhpcy53aWR0aCx0aGlzLmhlaWdodCwwLHRoaXMuZm9ybWF0LHRoaXMudHlwZSx0aGlzLmltYWdlKTtlbHNlIGlmKHRoaXMuaW1hZ2UuaXNDb21wcmVzc2VkVGV4dHVyZSlmb3IodmFyIHI9MDtyPHRoaXMuaW1hZ2UubGVuZ3RoO3IrKyl0aGlzLmdsLmNvbXByZXNzZWRUZXhJbWFnZTJEKHRoaXMudGFyZ2V0LHIsdGhpcy5pbnRlcm5hbEZvcm1hdCx0aGlzLmltYWdlW3JdLndpZHRoLHRoaXMuaW1hZ2Vbcl0uaGVpZ2h0LDAsdGhpcy5pbWFnZVtyXS5kYXRhKTtlbHNlIHRoaXMuZ2wudGV4SW1hZ2UyRCh0aGlzLnRhcmdldCx0aGlzLmxldmVsLHRoaXMuaW50ZXJuYWxGb3JtYXQsdGhpcy5mb3JtYXQsdGhpcy50eXBlLHRoaXMuaW1hZ2UpO3RoaXMuZ2VuZXJhdGVNaXBtYXBzJiYodGhpcy5nbC5yZW5kZXJlci5pc1dlYmdsMnx8YnQodGhpcy5pbWFnZS53aWR0aCkmJmJ0KHRoaXMuaW1hZ2UuaGVpZ2h0KT90aGlzLmdsLmdlbmVyYXRlTWlwbWFwKHRoaXMudGFyZ2V0KToodGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITEsdGhpcy53cmFwUz10aGlzLndyYXBUPXRoaXMuZ2wuQ0xBTVBfVE9fRURHRSx0aGlzLm1pbkZpbHRlcj10aGlzLmdsLkxJTkVBUikpLHRoaXMub25VcGRhdGUmJnRoaXMub25VcGRhdGUoKX1lbHNlIGlmKHRoaXMudGFyZ2V0PT09dGhpcy5nbC5URVhUVVJFX0NVQkVfTUFQKWZvcih2YXIgbj0wO248NjtuKyspdGhpcy5nbC50ZXhJbWFnZTJEKHRoaXMuZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK24sMCx0aGlzLmdsLlJHQkEsMSwxLDAsdGhpcy5nbC5SR0JBLHRoaXMuZ2wuVU5TSUdORURfQllURSxfdCk7ZWxzZSB0aGlzLndpZHRoP3RoaXMuZ2wudGV4SW1hZ2UyRCh0aGlzLnRhcmdldCx0aGlzLmxldmVsLHRoaXMuaW50ZXJuYWxGb3JtYXQsdGhpcy53aWR0aCx0aGlzLmhlaWdodCwwLHRoaXMuZm9ybWF0LHRoaXMudHlwZSxudWxsKTp0aGlzLmdsLnRleEltYWdlMkQodGhpcy50YXJnZXQsMCx0aGlzLmdsLlJHQkEsMSwxLDAsdGhpcy5nbC5SR0JBLHRoaXMuZ2wuVU5TSUdORURfQllURSxfdCk7dGhpcy5zdG9yZS5pbWFnZT10aGlzLmltYWdlfX19XSl9KCksd3Q9ZnVuY3Rpb24oKXtyZXR1cm4gcygoZnVuY3Rpb24gdChlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1pLndpZHRoLHM9dm9pZCAwPT09bj9lLmNhbnZhcy53aWR0aDpuLGE9aS5oZWlnaHQsaD12b2lkIDA9PT1hP2UuY2FudmFzLmhlaWdodDphLG89aS50YXJnZXQsdT12b2lkIDA9PT1vP2UuRlJBTUVCVUZGRVI6byxsPWkuY29sb3IsYz12b2lkIDA9PT1sPzE6bCxkPWkuZGVwdGgsZj12b2lkIDA9PT1kfHxkLGc9aS5zdGVuY2lsLHY9dm9pZCAwIT09ZyYmZyxwPWkuZGVwdGhUZXh0dXJlLG09dm9pZCAwIT09cCYmcCx5PWkud3JhcFMsXz12b2lkIDA9PT15P2UuQ0xBTVBfVE9fRURHRTp5LGI9aS53cmFwVCx4PXZvaWQgMD09PWI/ZS5DTEFNUF9UT19FREdFOmIsRT1pLm1pbkZpbHRlcix3PXZvaWQgMD09PUU/ZS5MSU5FQVI6RSxNPWkubWFnRmlsdGVyLEE9dm9pZCAwPT09TT93Ok0saz1pLnR5cGUsVD12b2lkIDA9PT1rP2UuVU5TSUdORURfQllURTprLFI9aS5mb3JtYXQsRj12b2lkIDA9PT1SP2UuUkdCQTpSLFM9aS5pbnRlcm5hbEZvcm1hdCxDPXZvaWQgMD09PVM/RjpTLFA9aS51bnBhY2tBbGlnbm1lbnQsQj1pLnByZW11bHRpcGx5QWxwaGE7cih0aGlzLHQpLHRoaXMuZ2w9ZSx0aGlzLndpZHRoPXMsdGhpcy5oZWlnaHQ9aCx0aGlzLmRlcHRoPWYsdGhpcy5idWZmZXI9dGhpcy5nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpLHRoaXMudGFyZ2V0PXUsdGhpcy5nbC5yZW5kZXJlci5iaW5kRnJhbWVidWZmZXIodGhpcyksdGhpcy50ZXh0dXJlcz1bXTtmb3IodmFyIEQ9W10sTz0wO088YztPKyspdGhpcy50ZXh0dXJlcy5wdXNoKG5ldyBFdChlLHt3aWR0aDpzLGhlaWdodDpoLHdyYXBTOl8sd3JhcFQ6eCxtaW5GaWx0ZXI6dyxtYWdGaWx0ZXI6QSx0eXBlOlQsZm9ybWF0OkYsaW50ZXJuYWxGb3JtYXQ6Qyx1bnBhY2tBbGlnbm1lbnQ6UCxwcmVtdWx0aXBseUFscGhhOkIsZmxpcFk6ITEsZ2VuZXJhdGVNaXBtYXBzOiExfSkpLHRoaXMudGV4dHVyZXNbT10udXBkYXRlKCksdGhpcy5nbC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0aGlzLnRhcmdldCx0aGlzLmdsLkNPTE9SX0FUVEFDSE1FTlQwK08sdGhpcy5nbC5URVhUVVJFXzJELHRoaXMudGV4dHVyZXNbT10udGV4dHVyZSwwKSxELnB1c2godGhpcy5nbC5DT0xPUl9BVFRBQ0hNRU5UMCtPKTtELmxlbmd0aD4xJiZ0aGlzLmdsLnJlbmRlcmVyLmRyYXdCdWZmZXJzKEQpLHRoaXMudGV4dHVyZT10aGlzLnRleHR1cmVzWzBdLG0mJih0aGlzLmdsLnJlbmRlcmVyLmlzV2ViZ2wyfHx0aGlzLmdsLnJlbmRlcmVyLmdldEV4dGVuc2lvbigiV0VCR0xfZGVwdGhfdGV4dHVyZSIpKT8odGhpcy5kZXB0aFRleHR1cmU9bmV3IEV0KGUse3dpZHRoOnMsaGVpZ2h0OmgsbWluRmlsdGVyOnRoaXMuZ2wuTkVBUkVTVCxtYWdGaWx0ZXI6dGhpcy5nbC5ORUFSRVNULGZvcm1hdDp0aGlzLmdsLkRFUFRIX0NPTVBPTkVOVCxpbnRlcm5hbEZvcm1hdDplLnJlbmRlcmVyLmlzV2ViZ2wyP3RoaXMuZ2wuREVQVEhfQ09NUE9ORU5UMTY6dGhpcy5nbC5ERVBUSF9DT01QT05FTlQsdHlwZTp0aGlzLmdsLlVOU0lHTkVEX0lOVH0pLHRoaXMuZGVwdGhUZXh0dXJlLnVwZGF0ZSgpLHRoaXMuZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQodGhpcy50YXJnZXQsdGhpcy5nbC5ERVBUSF9BVFRBQ0hNRU5ULHRoaXMuZ2wuVEVYVFVSRV8yRCx0aGlzLmRlcHRoVGV4dHVyZS50ZXh0dXJlLDApKTooZiYmIXYmJih0aGlzLmRlcHRoQnVmZmVyPXRoaXMuZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCksdGhpcy5nbC5iaW5kUmVuZGVyYnVmZmVyKHRoaXMuZ2wuUkVOREVSQlVGRkVSLHRoaXMuZGVwdGhCdWZmZXIpLHRoaXMuZ2wucmVuZGVyYnVmZmVyU3RvcmFnZSh0aGlzLmdsLlJFTkRFUkJVRkZFUix0aGlzLmdsLkRFUFRIX0NPTVBPTkVOVDE2LHMsaCksdGhpcy5nbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcih0aGlzLnRhcmdldCx0aGlzLmdsLkRFUFRIX0FUVEFDSE1FTlQsdGhpcy5nbC5SRU5ERVJCVUZGRVIsdGhpcy5kZXB0aEJ1ZmZlcikpLHYmJiFmJiYodGhpcy5zdGVuY2lsQnVmZmVyPXRoaXMuZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCksdGhpcy5nbC5iaW5kUmVuZGVyYnVmZmVyKHRoaXMuZ2wuUkVOREVSQlVGRkVSLHRoaXMuc3RlbmNpbEJ1ZmZlciksdGhpcy5nbC5yZW5kZXJidWZmZXJTdG9yYWdlKHRoaXMuZ2wuUkVOREVSQlVGRkVSLHRoaXMuZ2wuU1RFTkNJTF9JTkRFWDgscyxoKSx0aGlzLmdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKHRoaXMudGFyZ2V0LHRoaXMuZ2wuU1RFTkNJTF9BVFRBQ0hNRU5ULHRoaXMuZ2wuUkVOREVSQlVGRkVSLHRoaXMuc3RlbmNpbEJ1ZmZlcikpLGYmJnYmJih0aGlzLmRlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLmdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpLHRoaXMuZ2wuYmluZFJlbmRlcmJ1ZmZlcih0aGlzLmdsLlJFTkRFUkJVRkZFUix0aGlzLmRlcHRoU3RlbmNpbEJ1ZmZlciksdGhpcy5nbC5yZW5kZXJidWZmZXJTdG9yYWdlKHRoaXMuZ2wuUkVOREVSQlVGRkVSLHRoaXMuZ2wuREVQVEhfU1RFTkNJTCxzLGgpLHRoaXMuZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIodGhpcy50YXJnZXQsdGhpcy5nbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsdGhpcy5nbC5SRU5ERVJCVUZGRVIsdGhpcy5kZXB0aFN0ZW5jaWxCdWZmZXIpKSksdGhpcy5nbC5yZW5kZXJlci5iaW5kRnJhbWVidWZmZXIoe3RhcmdldDp0aGlzLnRhcmdldH0pfSksW3trZXk6InNldFNpemUiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy53aWR0aCE9PXR8fHRoaXMuaGVpZ2h0IT09ZSl7dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWUsdGhpcy5nbC5yZW5kZXJlci5iaW5kRnJhbWVidWZmZXIodGhpcyk7Zm9yKHZhciBpPTA7aTx0aGlzLnRleHR1cmVzLmxlbmd0aDtpKyspdGhpcy50ZXh0dXJlc1tpXS53aWR0aD10LHRoaXMudGV4dHVyZXNbaV0uaGVpZ2h0PWUsdGhpcy50ZXh0dXJlc1tpXS5uZWVkc1VwZGF0ZT0hMCx0aGlzLnRleHR1cmVzW2ldLnVwZGF0ZSgpLHRoaXMuZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQodGhpcy50YXJnZXQsdGhpcy5nbC5DT0xPUl9BVFRBQ0hNRU5UMCtpLHRoaXMuZ2wuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmVzW2ldLnRleHR1cmUsMCk7dGhpcy5kZXB0aFRleHR1cmU/KHRoaXMuZGVwdGhUZXh0dXJlLndpZHRoPXQsdGhpcy5kZXB0aFRleHR1cmUuaGVpZ2h0PWUsdGhpcy5kZXB0aFRleHR1cmUubmVlZHNVcGRhdGU9ITAsdGhpcy5kZXB0aFRleHR1cmUudXBkYXRlKCksdGhpcy5nbC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0aGlzLnRhcmdldCx0aGlzLmdsLkRFUFRIX0FUVEFDSE1FTlQsdGhpcy5nbC5URVhUVVJFXzJELHRoaXMuZGVwdGhUZXh0dXJlLnRleHR1cmUsMCkpOih0aGlzLmRlcHRoQnVmZmVyJiYodGhpcy5nbC5iaW5kUmVuZGVyYnVmZmVyKHRoaXMuZ2wuUkVOREVSQlVGRkVSLHRoaXMuZGVwdGhCdWZmZXIpLHRoaXMuZ2wucmVuZGVyYnVmZmVyU3RvcmFnZSh0aGlzLmdsLlJFTkRFUkJVRkZFUix0aGlzLmdsLkRFUFRIX0NPTVBPTkVOVDE2LHQsZSkpLHRoaXMuc3RlbmNpbEJ1ZmZlciYmKHRoaXMuZ2wuYmluZFJlbmRlcmJ1ZmZlcih0aGlzLmdsLlJFTkRFUkJVRkZFUix0aGlzLnN0ZW5jaWxCdWZmZXIpLHRoaXMuZ2wucmVuZGVyYnVmZmVyU3RvcmFnZSh0aGlzLmdsLlJFTkRFUkJVRkZFUix0aGlzLmdsLlNURU5DSUxfSU5ERVg4LHQsZSkpLHRoaXMuZGVwdGhTdGVuY2lsQnVmZmVyJiYodGhpcy5nbC5iaW5kUmVuZGVyYnVmZmVyKHRoaXMuZ2wuUkVOREVSQlVGRkVSLHRoaXMuZGVwdGhTdGVuY2lsQnVmZmVyKSx0aGlzLmdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UodGhpcy5nbC5SRU5ERVJCVUZGRVIsdGhpcy5nbC5ERVBUSF9TVEVOQ0lMLHQsZSkpKSx0aGlzLmdsLnJlbmRlcmVyLmJpbmRGcmFtZWJ1ZmZlcih7dGFyZ2V0OnRoaXMudGFyZ2V0fSl9fX1dKX0oKSxNdD17YmxhY2s6IiMwMDAwMDAiLHdoaXRlOiIjZmZmZmZmIixyZWQ6IiNmZjAwMDAiLGdyZWVuOiIjMDBmZjAwIixibHVlOiIjMDAwMGZmIixmdWNoc2lhOiIjZmYwMGZmIixjeWFuOiIjMDBmZmZmIix5ZWxsb3c6IiNmZmZmMDAiLG9yYW5nZToiI2ZmODAwMCJ9O2Z1bmN0aW9uIEF0KHQpezQ9PT10Lmxlbmd0aCYmKHQ9dFswXSt0WzFdK3RbMV0rdFsyXSt0WzJdK3RbM10rdFszXSk7dmFyIGU9L14jPyhbYS1mXGRdezJ9KShbYS1mXGRdezJ9KShbYS1mXGRdezJ9KSQvaS5leGVjKHQpO3JldHVybltwYXJzZUludChlWzFdLDE2KS8yNTUscGFyc2VJbnQoZVsyXSwxNikvMjU1LHBhcnNlSW50KGVbM10sMTYpLzI1NV19ZnVuY3Rpb24ga3QodCl7cmV0dXJuWygodD1wYXJzZUludCh0KSk+PjE2JjI1NSkvMjU1LCh0Pj44JjI1NSkvMjU1LCgyNTUmdCkvMjU1XX1mdW5jdGlvbiBUdCh0KXtyZXR1cm4gdm9pZCAwPT09dD9bMCwwLDBdOjM9PT1hcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50czppc05hTih0KT8iIyI9PT10WzBdP0F0KHQpOk10W3QudG9Mb3dlckNhc2UoKV0/QXQoTXRbdC50b0xvd2VyQ2FzZSgpXSk6WzAsMCwwXTprdCh0KX12YXIgUnQ9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsaGV4VG9SR0I6QXQsbnVtYmVyVG9SR0I6a3QscGFyc2VDb2xvcjpUdH0pLEZ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG47cmV0dXJuIHIodGhpcyxlKSxBcnJheS5pc0FycmF5KHQpP2wobixuPWkodGhpcyxlLGQodCkpKTpsKG4sbj1pKHRoaXMsZSxkKFR0LmFwcGx5KFJ0LGFyZ3VtZW50cykpKSl9cmV0dXJuIG8oZSx0KSxzKGUsW3trZXk6InIiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzBdfSxzZXQ6ZnVuY3Rpb24odCl7dGhpc1swXT10fX0se2tleToiZyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMV19LHNldDpmdW5jdGlvbih0KXt0aGlzWzFdPXR9fSx7a2V5OiJiIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1syXX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXNbMl09dH19LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dGhpcy5jb3B5KHQpOnRoaXMuY29weShUdC5hcHBseShSdCxhcmd1bWVudHMpKX19LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzWzBdPXRbMF0sdGhpc1sxXT10WzFdLHRoaXNbMl09dFsyXSx0aGlzfX1dKX0ocChBcnJheSkpO2Z1bmN0aW9uIFN0KHQsZSxpKXtyZXR1cm4gdFswXT1lWzBdK2lbMF0sdFsxXT1lWzFdK2lbMV0sdH1mdW5jdGlvbiBDdCh0LGUsaSl7cmV0dXJuIHRbMF09ZVswXS1pWzBdLHRbMV09ZVsxXS1pWzFdLHR9ZnVuY3Rpb24gUHQodCxlLGkpe3JldHVybiB0WzBdPWVbMF0qaSx0WzFdPWVbMV0qaSx0fWZ1bmN0aW9uIEJ0KHQpe3ZhciBlPXRbMF0saT10WzFdO3JldHVybiBNYXRoLnNxcnQoZSplK2kqaSl9ZnVuY3Rpb24gRHQodCxlKXtyZXR1cm4gdFswXSplWzFdLXRbMV0qZVswXX12YXIgT3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bjtyZXR1cm4gcih0aGlzLGUpLGwodD1pKHRoaXMsZSxbbixzXSksdCl9cmV0dXJuIG8oZSx0KSxzKGUsW3trZXk6IngiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzBdfSxzZXQ6ZnVuY3Rpb24odCl7dGhpc1swXT10fX0se2tleToieSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMV19LHNldDpmdW5jdGlvbih0KXt0aGlzWzFdPXR9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0O3JldHVybiB0Lmxlbmd0aD90aGlzLmNvcHkodCk6KGZ1bmN0aW9uKHQsZSxpKXt0WzBdPWUsdFsxXT1pfSh0aGlzLHQsZSksdGhpcyl9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpO3JldHVybiBpPXQsKGU9dGhpcylbMF09aVswXSxlWzFdPWlbMV0sdGhpc319LHtrZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT9TdCh0aGlzLHQsZSk6U3QodGhpcyx0aGlzLHQpLHRoaXN9fSx7a2V5OiJzdWIiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/Q3QodGhpcyx0LGUpOkN0KHRoaXMsdGhpcyx0KSx0aGlzfX0se2tleToibXVsdGlwbHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGkscjtyZXR1cm4gdC5sZW5ndGg/KGk9dGhpcyxyPXQsKGU9dGhpcylbMF09aVswXSpyWzBdLGVbMV09aVsxXSpyWzFdKTpQdCh0aGlzLHRoaXMsdCksdGhpc319LHtrZXk6ImRpdmlkZSIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsaSxyO3JldHVybiB0Lmxlbmd0aD8oaT10aGlzLHI9dCwoZT10aGlzKVswXT1pWzBdL3JbMF0sZVsxXT1pWzFdL3JbMV0pOlB0KHRoaXMsdGhpcywxL3QpLHRoaXN9fSx7a2V5OiJpbnZlcnNlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGU7cmV0dXJuIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMsKHQ9dGhpcylbMF09MS9lWzBdLHRbMV09MS9lWzFdLHRoaXN9fSx7a2V5OiJsZW4iLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEJ0KHRoaXMpfX0se2tleToiZGlzdGFuY2UiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0PyhlPXRoaXMscj0oaT10KVswXS1lWzBdLG49aVsxXS1lWzFdLE1hdGguc3FydChyKnIrbipuKSk6QnQodGhpcyk7dmFyIGUsaSxyLG59fSx7a2V5OiJzcXVhcmVkTGVuIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNxdWFyZWREaXN0YW5jZSgpfX0se2tleToic3F1YXJlZERpc3RhbmNlIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD8oZT10aGlzLHI9KGk9dClbMF0tZVswXSxuPWlbMV0tZVsxXSxyKnIrbipuKTpmdW5jdGlvbih0KXt2YXIgZT10WzBdLGk9dFsxXTtyZXR1cm4gZSplK2kqaX0odGhpcyk7dmFyIGUsaSxyLG59fSx7a2V5OiJuZWdhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4gZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcywodD10aGlzKVswXT0tZVswXSx0WzFdPS1lWzFdLHRoaXN9fSx7a2V5OiJjcm9zcyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT9EdCh0LGUpOkR0KHRoaXMsdCl9fSx7a2V5OiJzY2FsZSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIFB0KHRoaXMsdGhpcyx0KSx0aGlzfX0se2tleToibm9ybWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsaSxyLG47cmV0dXJuIHQ9dGhpcyxpPShlPXRoaXMpWzBdLHI9ZVsxXSwobj1pKmkrcipyKT4wJiYobj0xL01hdGguc3FydChuKSksdFswXT1lWzBdKm4sdFsxXT1lWzFdKm4sdGhpc319LHtrZXk6ImRvdCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGk9dCwoZT10aGlzKVswXSppWzBdK2VbMV0qaVsxXTt2YXIgZSxpfX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gaT10LChlPXRoaXMpWzBdPT09aVswXSYmZVsxXT09PWlbMV07dmFyIGUsaX19LHtrZXk6ImFwcGx5TWF0cml4MyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLG4scztyZXR1cm4gZT10aGlzLHI9dCxuPShpPXRoaXMpWzBdLHM9aVsxXSxlWzBdPXJbMF0qbityWzNdKnMrcls2XSxlWzFdPXJbMV0qbityWzRdKnMrcls3XSx0aGlzfX0se2tleToiYXBwbHlNYXRyaXg0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpLHIsbixzO3JldHVybiBlPXRoaXMscj10LG49KGk9dGhpcylbMF0scz1pWzFdLGVbMF09clswXSpuK3JbNF0qcytyWzEyXSxlWzFdPXJbMV0qbityWzVdKnMrclsxM10sdGhpc319LHtrZXk6ImxlcnAiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBuPWVbMF0scz1lWzFdO3RbMF09bityKihpWzBdLW4pLHRbMV09cytyKihpWzFdLXMpfSh0aGlzLHRoaXMsdCxlKSx0aGlzfX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXNbMF0sdGhpc1sxXSl9fSx7a2V5OiJmcm9tQXJyYXkiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO3JldHVybiB0aGlzWzBdPXRbZV0sdGhpc1sxXT10W2UrMV0sdGhpc319LHtrZXk6InRvQXJyYXkiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjA7cmV0dXJuIHRbZV09dGhpc1swXSx0W2UrMV09dGhpc1sxXSx0fX1dKX0ocChBcnJheSkpLE50PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdCxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLHM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm4sYT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bixoPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpuO3JldHVybiByKHRoaXMsZSksbCh0PWkodGhpcyxlLFtuLHMsYSxoXSksdCl9cmV0dXJuIG8oZSx0KSxzKGUsW3trZXk6IngiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzBdfSxzZXQ6ZnVuY3Rpb24odCl7dGhpc1swXT10fX0se2tleToieSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMV19LHNldDpmdW5jdGlvbih0KXt0aGlzWzFdPXR9fSx7a2V5OiJ6IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1syXX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXNbMl09dH19LHtrZXk6InciLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzWzNdfSxzZXQ6ZnVuY3Rpb24odCl7dGhpc1szXT10fX0se2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp0LHI9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnQ7cmV0dXJuIHQubGVuZ3RoP3RoaXMuY29weSh0KTooVyh0aGlzLHQsZSxpLHIpLHRoaXMpfX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHEodGhpcyx0KSx0aGlzfX0se2tleToibm9ybWFsaXplIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBWKHRoaXMsdGhpcyksdGhpc319LHtrZXk6Im11bHRpcGx5Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpLHI7cmV0dXJuIGk9dGhpcyxyPXQsKGU9dGhpcylbMF09aVswXSpyLGVbMV09aVsxXSpyLGVbMl09aVsyXSpyLGVbM109aVszXSpyLHRoaXN9fSx7a2V5OiJkb3QiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBZKHRoaXMsdCl9fSx7a2V5OiJmcm9tQXJyYXkiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO3JldHVybiB0aGlzWzBdPXRbZV0sdGhpc1sxXT10W2UrMV0sdGhpc1syXT10W2UrMl0sdGhpc1szXT10W2UrM10sdGhpc319LHtrZXk6InRvQXJyYXkiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjA7cmV0dXJuIHRbZV09dGhpc1swXSx0W2UrMV09dGhpc1sxXSx0W2UrMl09dGhpc1syXSx0W2UrM109dGhpc1szXSx0fX1dKX0ocChBcnJheSkpLFV0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHM9bi53aWR0aCxhPXZvaWQgMD09PXM/MTpzLGg9bi5oZWlnaHQsbz12b2lkIDA9PT1oPzE6aCx1PW4ud2lkdGhTZWdtZW50cyxsPXZvaWQgMD09PXU/MTp1LGM9bi5oZWlnaHRTZWdtZW50cyxkPXZvaWQgMD09PWM/MTpjLGY9bi5hdHRyaWJ1dGVzLGc9dm9pZCAwPT09Zj97fTpmO3IodGhpcyxlKTt2YXIgdj1sLHA9ZCxtPSh2KzEpKihwKzEpLHk9dipwKjYsXz1uZXcgRmxvYXQzMkFycmF5KDMqbSksYj1uZXcgRmxvYXQzMkFycmF5KDMqbSkseD1uZXcgRmxvYXQzMkFycmF5KDIqbSksRT15PjY1NTM2P25ldyBVaW50MzJBcnJheSh5KTpuZXcgVWludDE2QXJyYXkoeSk7cmV0dXJuIGUuYnVpbGRQbGFuZShfLGIseCxFLGEsbywwLHYscCksT2JqZWN0LmFzc2lnbihnLHtwb3NpdGlvbjp7c2l6ZTozLGRhdGE6X30sbm9ybWFsOntzaXplOjMsZGF0YTpifSx1djp7c2l6ZToyLGRhdGE6eH0saW5kZXg6e2RhdGE6RX19KSxpKHRoaXMsZSxbdCxnXSl9cmV0dXJuIG8oZSx0KSxzKGUsbnVsbCxbe2tleToiYnVpbGRQbGFuZSIsdmFsdWU6ZnVuY3Rpb24odCxlLGkscixuLHMsYSxoLG8pe2Zvcih2YXIgdT1hcmd1bWVudHMubGVuZ3RoPjkmJnZvaWQgMCE9PWFyZ3VtZW50c1s5XT9hcmd1bWVudHNbOV06MCxsPWFyZ3VtZW50cy5sZW5ndGg+MTAmJnZvaWQgMCE9PWFyZ3VtZW50c1sxMF0/YXJndW1lbnRzWzEwXToxLGM9YXJndW1lbnRzLmxlbmd0aD4xMSYmdm9pZCAwIT09YXJndW1lbnRzWzExXT9hcmd1bWVudHNbMTFdOjIsZD1hcmd1bWVudHMubGVuZ3RoPjEyJiZ2b2lkIDAhPT1hcmd1bWVudHNbMTJdP2FyZ3VtZW50c1sxMl06MSxmPWFyZ3VtZW50cy5sZW5ndGg+MTMmJnZvaWQgMCE9PWFyZ3VtZW50c1sxM10/YXJndW1lbnRzWzEzXTotMSxnPWFyZ3VtZW50cy5sZW5ndGg+MTQmJnZvaWQgMCE9PWFyZ3VtZW50c1sxNF0/YXJndW1lbnRzWzE0XTowLHY9YXJndW1lbnRzLmxlbmd0aD4xNSYmdm9pZCAwIT09YXJndW1lbnRzWzE1XT9hcmd1bWVudHNbMTVdOjAscD1nLG09bi9oLHk9cy9vLF89MDtfPD1vO18rKylmb3IodmFyIGI9Xyp5LXMvMix4PTA7eDw9aDt4KyssZysrKXt2YXIgRT14Km0tbi8yO2lmKHRbMypnK3VdPUUqZCx0WzMqZytsXT1iKmYsdFszKmcrY109YS8yLGVbMypnK3VdPTAsZVszKmcrbF09MCxlWzMqZytjXT1hPj0wPzE6LTEsaVsyKmddPXgvaCxpWzIqZysxXT0xLV8vbyxfIT09byYmeCE9PWgpe3ZhciB3PXAreCtfKihoKzEpLE09cCt4KyhfKzEpKihoKzEpLEE9cCt4KyhfKzEpKihoKzEpKzEsaz1wK3grXyooaCsxKSsxO3JbNip2XT13LHJbNip2KzFdPU0scls2KnYrMl09ayxyWzYqdiszXT1NLHJbNip2KzRdPUEscls2KnYrNV09ayx2Kyt9fX19XSl9KEQpOyFmdW5jdGlvbigpeyFmdW5jdGlvbih0LGUsaSl7dmFyIHIsbj0yNTYscz0icmFuZG9tIixhPWkucG93KG4sNiksaD1pLnBvdygyLDUyKSxvPTIqaCx1PW4tMTtmdW5jdGlvbiBsKHUsbCxnKXt2YXIgbT1bXSx5PXYoZigobD0xPT1sP3tlbnRyb3B5OiEwfTpsfHx7fSkuZW50cm9weT9bdSxwKGUpXTpudWxsPT11P2Z1bmN0aW9uKCl7dHJ5e3ZhciBpO3JldHVybiByJiYoaT1yLnJhbmRvbUJ5dGVzKT9pPWkobik6KGk9bmV3IFVpbnQ4QXJyYXkobiksKHQuY3J5cHRvfHx0Lm1zQ3J5cHRvKS5nZXRSYW5kb21WYWx1ZXMoaSkpLHAoaSl9Y2F0Y2goaSl7dmFyIHM9dC5uYXZpZ2F0b3IsYT1zJiZzLnBsdWdpbnM7cmV0dXJuWytuZXcgRGF0ZSx0LGEsdC5zY3JlZW4scChlKV19fSgpOnUsMyksbSksXz1uZXcgYyhtKSxiPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PV8uZyg2KSxlPWEsaT0wO3Q8aDspdD0odCtpKSpuLGUqPW4saT1fLmcoMSk7Zm9yKDt0Pj1vOyl0Lz0yLGUvPTIsaT4+Pj0xO3JldHVybih0K2kpL2V9O3JldHVybiBiLmludDMyPWZ1bmN0aW9uKCl7cmV0dXJuIDB8Xy5nKDQpfSxiLnF1aWNrPWZ1bmN0aW9uKCl7cmV0dXJuIF8uZyg0KS80Mjk0OTY3Mjk2fSxiLmRvdWJsZT1iLHYocChfLlMpLGUpLChsLnBhc3N8fGd8fGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuJiYobi5TJiZkKG4sXyksdC5zdGF0ZT1mdW5jdGlvbigpe3JldHVybiBkKF8se30pfSkscj8oaVtzXT10LGUpOnR9KShiLHksImdsb2JhbCJpbiBsP2wuZ2xvYmFsOnRoaXM9PWksbC5zdGF0ZSl9ZnVuY3Rpb24gYyh0KXt2YXIgZSxpPXQubGVuZ3RoLHI9dGhpcyxzPTAsYT1yLmk9ci5qPTAsaD1yLlM9W107Zm9yKGl8fCh0PVtpKytdKTtzPG47KWhbc109cysrO2ZvcihzPTA7czxuO3MrKyloW3NdPWhbYT11JmErdFtzJWldKyhlPWhbc10pXSxoW2FdPWU7KHIuZz1mdW5jdGlvbih0KXtmb3IodmFyIGUsaT0wLHM9ci5pLGE9ci5qLGg9ci5TO3QtLTspZT1oW3M9dSZzKzFdLGk9aSpuK2hbdSYoaFtzXT1oW2E9dSZhK2VdKSsoaFthXT1lKV07cmV0dXJuIHIuaT1zLHIuaj1hLGl9KShuKX1mdW5jdGlvbiBkKHQsZSl7cmV0dXJuIGUuaT10LmksZS5qPXQuaixlLlM9dC5TLnNsaWNlKCksZX1mdW5jdGlvbiBmKHQsZSl7dmFyIGkscj1bXSxuPWcodCk7aWYoZSYmIm9iamVjdCI9PW4pZm9yKGkgaW4gdCl0cnl7ci5wdXNoKGYodFtpXSxlLTEpKX1jYXRjaCh0KXt9cmV0dXJuIHIubGVuZ3RoP3I6InN0cmluZyI9PW4/dDp0KyJcMCJ9ZnVuY3Rpb24gdih0LGUpe2Zvcih2YXIgaSxyPXQrIiIsbj0wO248ci5sZW5ndGg7KWVbdSZuXT11JihpXj0xOSplW3Umbl0pK3IuY2hhckNvZGVBdChuKyspO3JldHVybiBwKGUpfWZ1bmN0aW9uIHAodCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoMCx0KX1pZih2KGkucmFuZG9tKCksZSksIm9iamVjdCI9PSgidW5kZWZpbmVkIj09dHlwZW9mIG1vZHVsZT8idW5kZWZpbmVkIjpnKG1vZHVsZSkpJiZtb2R1bGUuZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9bDt0cnl7cj1yZXF1aXJlKCJjcnlwdG8iKX1jYXRjaCh0KXt9fWVsc2UiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKTppWyJzZWVkIitzXT1sfSgidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLFtdLE1hdGgpfSgpO3ZhciBJdD1mdW5jdGlvbigpe3JldHVybiBzKChmdW5jdGlvbiB0KCl7dmFyIGUsaSxuLHM9dGhpcyxhPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxoPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO3IodGhpcyx0KSxlPXRoaXMsbj1mdW5jdGlvbigpe3JlcXVlc3RBbmltYXRpb25GcmFtZShzLl91cGRhdGUpLHMubG9vcCYmKHMuZnJhbWUrKyxzLl9hbmltYXRlKCkpLHMuZ2wuY2xlYXJDb2xvcigwLDAsMCwxKSxzLnJlbmRlcmVyLnJlbmRlcih7c2NlbmU6cy5zY2VuZSxjYW1lcmE6cy5jYW1lcmF9KSxzLmlzUmVuZGVyVGFyZ2V0JiYocy5nbC5jbGVhckNvbG9yKDAsMCwwLDEpLHMucmVuZGVyZXIucmVuZGVyKHtzY2VuZTpzLnJ0dFBsYW5lLGNhbWVyYTpzLnJ0dENhbWVyYSx0YXJnZXQ6cy5ydHR9KSl9LChpPWYoaT0iX3VwZGF0ZSIpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbaV09bix0aGlzLnBhcmFtcz1hLHRoaXMub3B0aW9ucz17fSx0aGlzLmxvb3A9YS5sb29wfHwhMSx0aGlzLmNvbG9yc19udW09aCx0aGlzLmNvbG9yc19pbml0PWEuY29sb3JzfHxbXSx0aGlzLnBhbGV0dGU9W10sdGhpcy5jb2xvcnModGhpcy5jb2xvcnNfaW5pdCksdGhpcy5zZWVkPWEuc2VlZHx8MWUzLHRoaXMucm5nPW5ldyBNYXRoLnNlZWRyYW5kb20odGhpcy5zZWVkKSx0aGlzLmZyYW1lPTAsdGhpcy5wYXJlbnREb209YS5kb20/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYS5kb20pOmRvY3VtZW50LmJvZHksInN0YXRpYyI9PT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnBhcmVudERvbSkucG9zaXRpb24mJih0aGlzLnBhcmVudERvbS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKTt2YXIgbz10aGlzLl9nZXRQYXJlbnRSZWN0KHRoaXMucGFyZW50RG9tKTt0aGlzLmNhbnZhc1c9dGhpcy5vcmlnaW5XPW8udyx0aGlzLmNhbnZhc0g9dGhpcy5vcmlnaW5IPW8uaCx0aGlzLm9yaWdpblJhdGlvPXRoaXMub3JpZ2luVy90aGlzLm9yaWdpbkgsdGhpcy5yZXNpemVfbW9kZT1hLnJlc2l6ZV9tb2RlLHRoaXMucmVuZGVyZXI9bmV3IEcsdGhpcy5yZW5kZXJlci5zZXRTaXplKHRoaXMuY2FudmFzVyx0aGlzLmNhbnZhc0gpLHRoaXMuZ2w9dGhpcy5yZW5kZXJlci5nbCx0aGlzLmdsLmNhbnZhcy5pZD0iY29sb3JiZ2NhbnZhcyIsdGhpcy5nbC5jYW52YXMuc3R5bGUucG9zaXRpb249ImFic29sdXRlIix0aGlzLmdsLmNhbnZhcy5zdHlsZS50b3A9MCx0aGlzLmdsLmNhbnZhcy5zdHlsZS5sZWZ0PTAsdGhpcy5nbC5jYW52YXMuc3R5bGUuekluZGV4PTAsdGhpcy5wYXJlbnREb20uYXBwZW5kQ2hpbGQodGhpcy5nbC5jYW52YXMpLHRoaXMuY2FtZXJhPW5ldyBndCh0aGlzLmdsLHtuZWFyOi4xLGZhcjoxMDAwMSxsZWZ0Oi10aGlzLmNhbnZhc1cvMixyaWdodDp0aGlzLmNhbnZhc1cvMixib3R0b206LXRoaXMuY2FudmFzSC8yLHRvcDp0aGlzLmNhbnZhc0gvMix6b29tOjF9KSx0aGlzLmNhbWVyYS5wb3NpdGlvbi56PThlMyx0aGlzLmlzUmVuZGVyVGFyZ2V0PSExLHRoaXMuc2NlbmU9bmV3IGx0LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLChmdW5jdGlvbigpe3MucmVzaXplKCl9KSl9KSxbe2tleToiX2dldFBhcmVudFJlY3QiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQ7cmV0dXJue3c6ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCxoOmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0fX19LHtrZXk6ImNvbG9ycyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9ISF0aGlzLnBhbGV0dGUubGVuZ3RoO2lmKHRoaXMucGFsZXR0ZT1bXSwwPT10Lmxlbmd0aCl0aGlzLnBhbGV0dGU9WyIjRjAwOTExIiwiI0YzQUEwMCIsIiNGNkVFMEIiLCIjMzlFOTBEIiwiIzE5NUVEMiIsIiNGMDA5MTEiXTtlbHNlIGlmKHQubGVuZ3RoPHRoaXMuY29sb3JzX251bSl7Zm9yKHZhciBpPWQodCkscj1pLmxlbmd0aDtyPDY7cisrKXt2YXIgbj1yJWkubGVuZ3RoO3QucHVzaChpW25dKX10aGlzLnBhbGV0dGU9dH1lbHNlIGZvcih2YXIgcz0wO3M8dGhpcy5jb2xvcnNfbnVtO3MrKyl0aGlzLnBhbGV0dGUucHVzaCh0W3NdKTtlJiZ0aGlzLl9yZXNldENvbG9ycygpfX0se2tleToic3RhcnQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fc2l6ZSgpLHRoaXMuX2luaXRSdHQoKSx0aGlzLl9yZXNldFNlZWQoKSx0aGlzLl9tYWtlTWF0ZXJpYWwoKSx0aGlzLl9tYWtlKCkscmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3VwZGF0ZSl9fSx7a2V5OiJyZXNpemUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0UGFyZW50UmVjdCh0aGlzLnBhcmVudERvbSk7dGhpcy5jYW52YXNXPXQudyx0aGlzLmNhbnZhc0g9dC5oLHRoaXMuY2FudmFzUmF0aW89dGhpcy5jYW52YXNXL3RoaXMuY2FudmFzSCx0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy5jYW52YXNXLHRoaXMuY2FudmFzSCk7dmFyIGU9MSxpPXRoaXMuY2FudmFzVy90aGlzLmNhbnZhc0g7aT50aGlzLm9yaWdpblJhdGlvP3RoaXMuY2FudmFzVz50aGlzLm9yaWdpblcmJihlPXRoaXMuY2FudmFzVy90aGlzLm9yaWdpblcpOmk8dGhpcy5vcmlnaW5SYXRpbyYmdGhpcy5jYW52YXNIPnRoaXMub3JpZ2luSCYmKGU9dGhpcy5jYW52YXNIL3RoaXMub3JpZ2luSCksdGhpcy5jYW1lcmEub3J0aG9ncmFwaGljKHtuZWFyOi4xLGZhcjoxMDAwMSxsZWZ0Oi10aGlzLmNhbnZhc1cvMixyaWdodDp0aGlzLmNhbnZhc1cvMixib3R0b206LXRoaXMuY2FudmFzSC8yLHRvcDp0aGlzLmNhbnZhc0gvMix6b29tOmV9KX19LHtrZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnNlZWQ9dHx8dGhpcy5zZWVkLHRoaXMucm5nPW5ldyBNYXRoLnNlZWRyYW5kb20odGhpcy5zZWVkKSx0aGlzLl9kZWxldGUoKSx0aGlzLl9yZXNldFNlZWQoKSx0aGlzLl9tYWtlKCl9fSx7a2V5OiJfZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnNjZW5lLmNoaWxkcmVuLmxlbmd0aC0xO3Q+PTA7dC0tKXRoaXMuc2NlbmUucmVtb3ZlQ2hpbGQodGhpcy5zY2VuZS5jaGlsZHJlblt0XSl9fSx7a2V5OiJfc2l6ZSIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJfaW5pdFJ0dCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJfcmVzZXRTZWVkIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6Il9hbmltYXRlIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZGVsZXRlKCksdGhpcy5wYXJlbnREb20ucmVtb3ZlQ2hpbGQodGhpcy5nbC5jYW52YXMpfX1dKX0oKTtmdW5jdGlvbiBMdCh0LGUsaSxyKXt0aGlzLmFuY2hvcj1uZXcgRih0LGUsaSksdGhpcy5lZmZlY3RyYWRpdXM9cix0aGlzLm1hcD1uZXcgTWFwLHRoaXMucG9zQXR0cmlidXRlPW51bGwsdGhpcy5zdXJyb3VuZD1mdW5jdGlvbih0KXt2YXIgZTt0aGlzLnBvc0F0dHJpYnV0ZT10LmdldFBvc2l0aW9uKCk7Zm9yKHZhciBpPTAscj10aGlzLnBvc0F0dHJpYnV0ZS5jb3VudDtpPHI7aSsrKXt2YXIgbj1pJTEwMDtpZighKDA9PW58fDk5PT1ufHxpPDEwMHx8aT45OTAwJiZpPDFlNCkpe3ZhciBzPW5ldyBGKHRoaXMucG9zQXR0cmlidXRlLmdldFgoaSksdGhpcy5wb3NBdHRyaWJ1dGUuZ2V0WShpKSx0aGlzLnBvc0F0dHJpYnV0ZS5nZXRaKGkpKTtpZigoZT1zLmRpc3RhbmNlKHRoaXMuYW5jaG9yKSk8dGhpcy5lZmZlY3RyYWRpdXMpe3ZhciBhPW5ldyBGKHRoaXMucG9zQXR0cmlidXRlLmdldFgobiksdGhpcy5wb3NBdHRyaWJ1dGUuZ2V0WShuKSx0aGlzLnBvc0F0dHJpYnV0ZS5nZXRaKG4pKSxoPW5ldyBGKHRoaXMucG9zQXR0cmlidXRlLmdldFgobis5OTAwKSx0aGlzLnBvc0F0dHJpYnV0ZS5nZXRZKG4rOTkwMCksdGhpcy5wb3NBdHRyaWJ1dGUuZ2V0WihuKzk5MDApKSxvPXMuZGlzdGFuY2UoYSksdT1zLmRpc3RhbmNlKGgpLGw9NS9NYXRoLm1pbihvLHUpLGM9ZS90aGlzLmVmZmVjdHJhZGl1cyxkPTEvKC4yNSpNYXRoLnNxcnQoNi4yOCkpKk1hdGguZXhwKC1jKmMvLjEyNSkvMS42O2QtPWwsdGhpcy5tYXAuc2V0KGksZCl9fX19LHRoaXMubW92ZVRvPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj10aGlzLnBvc0F0dHJpYnV0ZTtpZih0aGlzLmFuY2hvci54IT09dHx8dGhpcy5hbmNob3IueSE9PWV8fHRoaXMuYW5jaG9yLnohPT1pKXt2YXIgbj10LXRoaXMuYW5jaG9yLngscz1lLXRoaXMuYW5jaG9yLnksYT1pLXRoaXMuYW5jaG9yLno7dGhpcy5tYXAuZm9yRWFjaCgoZnVuY3Rpb24odCxlLGkpe3ZhciBoPXIuZ2V0WChlKSxvPXIuZ2V0WShlKSx1PXIuZ2V0WihlKTt0Pi4wMDEmJnIuc2V0WFlaKGUsaCtuKnQsbytzKnQsdSthKnQpfSkpLHRoaXMuYW5jaG9yLnNldCh0LGUsaSl9fX12YXIgenQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiByKHRoaXMsZSksKHQ9aSh0aGlzLGUsW24sNl0pKS5uYW1lPSJhZXN0aGV0aWMtZmx1aWQiLHQub3B0aW9ucy5yYWRpdXNfaW5uZXI9bi5yYWRpdXNfaW5uZXJ8fC4xLHQub3B0aW9ucy5yYWRpdXNfb3V0ZXI9bi5yYWRpdXNfb3V0ZXJ8fC4zLHQubW9ycGhkYXRhPXsxOnthbmNob3JYOjI0MCxhbmNob3JZOi0yMDAsYW5jaG9yWjowLGFuY2hvclJhZGl1czo5MDAsbW92ZVRvWDoyNjAsbW92ZVRvWToxNjAsbW92ZVRvWjo0MDB9LDI6e2FuY2hvclg6LTI0MCxhbmNob3JZOjIwMCxhbmNob3JaOjAsYW5jaG9yUmFkaXVzOjkwMCxtb3ZlVG9YOi0yNjAsbW92ZVRvWTotMTYwLG1vdmVUb1o6NDAwfX0sdC5zdGFydCgpLHR9cmV0dXJuIG8oZSx0KSxzKGUsW3trZXk6Il9zaXplIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2l6ZT10aGlzLmNhbnZhc1c+dGhpcy5jYW52YXNIP3RoaXMuY2FudmFzVzp0aGlzLmNhbnZhc0h9fSx7a2V5OiJfaW5pdFJ0dCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJ0dD1uZXcgd3QodGhpcy5nbCx7d2lkdGg6NTEyLGhlaWdodDo1MTJ9KSx0aGlzLnJ0dENhbWVyYT1uZXcgZ3QodGhpcy5nbCx7bGVmdDotLjUscmlnaHQ6LjUsYm90dG9tOi0uNSx0b3A6LjUsem9vbToxfSksdGhpcy5ydHRDYW1lcmEucG9zaXRpb24uej0xLHRoaXMucnR0UGxhbmVHZW89bmV3IFV0KHRoaXMuZ2wse30pLHRoaXMucnR0UHJvZ3JhbT1uZXcgVSh0aGlzLmdsLHt2ZXJ0ZXg6IlxuXHRcdFx0XHRhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjtcblx0XHRcdFx0YXR0cmlidXRlIHZlYzIgdXY7XG5cdFx0XHRcdHVuaWZvcm0gbWF0NCBtb2RlbFZpZXdNYXRyaXg7XG5cdFx0XHRcdHVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cml4O1xuXHRcdFx0XHR2YXJ5aW5nIHZlYzIgdlV2O1xuXHRcdFx0XHR2b2lkIG1haW4oKSB7XG5cdFx0XHRcdFx0dlV2ID0gdXY7XG5cdFx0XHRcdFx0Z2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcblx0XHRcdFx0fVxuXHRcdFx0IixmcmFnbWVudDoiXG5cdFx0XHRcdCNpZmRlZiBHTF9FU1xuXHRcdFx0XHRwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblx0XHRcdFx0I2VuZGlmXG5cblx0XHRcdFx0I2RlZmluZSBUV09fUEkgNi4yODMxODUzMDcxOFxuXG5cdFx0XHRcdHVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247XG5cdFx0XHRcdHVuaWZvcm0gZmxvYXQgdV90aW1lO1xuXG5cdFx0XHRcdHVuaWZvcm0gdmVjMyB1X2NvbG9yXzA7XG5cdFx0XHRcdHVuaWZvcm0gdmVjMyB1X2NvbG9yXzE7XG5cdFx0XHRcdHVuaWZvcm0gdmVjMyB1X2NvbG9yXzI7XG5cdFx0XHRcdHVuaWZvcm0gdmVjMyB1X2NvbG9yXzM7XG5cdFx0XHRcdHVuaWZvcm0gdmVjMyB1X2NvbG9yXzQ7XG5cdFx0XHRcdHVuaWZvcm0gdmVjMyB1X2NvbG9yXzU7XG5cdFx0XHRcdHVuaWZvcm0gdmVjNCB1X2R5ZV8wO1xuXHRcdFx0XHR1bmlmb3JtIHZlYzQgdV9keWVfMTtcblx0XHRcdFx0dW5pZm9ybSB2ZWM0IHVfZHllXzI7XG5cdFx0XHRcdHVuaWZvcm0gdmVjNCB1X2R5ZV8zO1xuXHRcdFx0XHR1bmlmb3JtIHZlYzQgdV9keWVfNDtcblx0XHRcdFx0dW5pZm9ybSB2ZWM0IHVfZHllXzU7XG5cblx0XHRcdFx0dmVjNCBibHVyRG90ICggdmVjMyBjb2xvciwgdmVjMiBzdCwgdmVjMiBwb3MsIGZsb2F0IGlubmVyLCBmbG9hdCBvdXRlciApIHtcblx0XHRcdFx0XHRmbG9hdCBwY3QgPSBkaXN0YW5jZSggc3QsIHBvcyApOyAgIFxuXHRcdFx0XHRcdHZlYzIgZGlzdCA9IHN0IC0gcG9zO1xuXHRcdFx0XHRcdGZsb2F0IGFscGhhID0gMS4gLSBzbW9vdGhzdGVwKCBpbm5lciwgb3V0ZXIsIHBjdCApO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0cmV0dXJuIHZlYzQoIGNvbG9yLnJnYiwgYWxwaGEgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZvaWQgbWFpbigpe1xuXHRcdFx0XHRcdHZlYzIgc3QgPSBnbF9GcmFnQ29vcmQueHkvdV9yZXNvbHV0aW9uO1xuXHRcdFx0XHRcdHZlYzMgY29sb3IgPSB2ZWMzKDEuMCk7ICAgICAgICBcblxuXHRcdFx0XHRcdHZlYzQgZG90XzAgPSBibHVyRG90KCB1X2NvbG9yXzAsIHN0LCB1X2R5ZV8wLnh5LCB1X2R5ZV8wWzJdLCB1X2R5ZV8wWzNdICk7XG5cdFx0XHRcdFx0dmVjNCBkb3RfMSA9IGJsdXJEb3QoIHVfY29sb3JfMSwgc3QsIHVfZHllXzEueHksIHVfZHllXzFbMl0sIHVfZHllXzFbM10gKTtcblx0XHRcdFx0XHR2ZWM0IGRvdF8yID0gYmx1ckRvdCggdV9jb2xvcl8yLCBzdCwgdV9keWVfMi54eSwgdV9keWVfMlsyXSwgdV9keWVfMlszXSApO1xuXHRcdFx0XHRcdHZlYzQgZG90XzMgPSBibHVyRG90KCB1X2NvbG9yXzMsIHN0LCB1X2R5ZV8zLnh5LCB1X2R5ZV8zWzJdLCB1X2R5ZV8zWzNdICk7XG5cdFx0XHRcdFx0dmVjNCBkb3RfNCA9IGJsdXJEb3QoIHVfY29sb3JfNCwgc3QsIHVfZHllXzQueHksIHVfZHllXzRbMl0sIHVfZHllXzRbM10gKTtcblx0XHRcdFx0XHR2ZWM0IGRvdF81ID0gYmx1ckRvdCggdV9jb2xvcl81LCBzdCwgdV9keWVfNS54eSwgdV9keWVfNVsyXSwgdV9keWVfNVszXSApO1xuXHRcdFx0XHRcdFxuXG5cdFx0XHRcdFx0Y29sb3IgPSBtaXgoIHVfY29sb3JfMCwgdV9jb2xvcl8xLCBzdC54ICk7ICAgIFxuXHRcdFx0XHRcdGNvbG9yID0gbWl4KCBjb2xvciwgdV9jb2xvcl8yLCBzdC54KnN0LnggKyAtMC4wNDAgKTtcblxuXHRcdFx0XHRcdGNvbG9yID0gbWl4KCBjb2xvciwgZG90XzAucmdiLCBkb3RfMC5hICk7XG5cdFx0XHRcdFx0Y29sb3IgPSBtaXgoIGNvbG9yLCBkb3RfMS5yZ2IsIGRvdF8xLmEgKTtcblx0XHRcdFx0XHRjb2xvciA9IG1peCggY29sb3IsIGRvdF8yLnJnYiwgZG90XzIuYSApO1xuXHRcdFx0XHRcdGNvbG9yID0gbWl4KCBjb2xvciwgZG90XzMucmdiLCBkb3RfMy5hICk7XG5cdFx0XHRcdFx0Y29sb3IgPSBtaXgoIGNvbG9yLCBkb3RfNC5yZ2IsIGRvdF80LmEgKTtcblx0XHRcdFx0XHRjb2xvciA9IG1peCggY29sb3IsIGRvdF81LnJnYiwgZG90XzUuYSApO1xuXG5cdFx0XHRcdFx0Z2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwxLjApO1xuXHRcdFx0XHR9XG5cdFx0XHQiLHVuaWZvcm1zOnt1X3RpbWU6e3ZhbHVlOjB9LHVfcmVzb2x1dGlvbjp7dmFsdWU6bmV3IE90KDUxMiw1MTIpfSx1X2NvbG9yXzA6e3ZhbHVlOm5ldyBGdCh0aGlzLnBhbGV0dGVbMF0pfSx1X2NvbG9yXzE6e3ZhbHVlOm5ldyBGdCh0aGlzLnBhbGV0dGVbMV0pfSx1X2NvbG9yXzI6e3ZhbHVlOm5ldyBGdCh0aGlzLnBhbGV0dGVbMl0pfSx1X2NvbG9yXzM6e3ZhbHVlOm5ldyBGdCh0aGlzLnBhbGV0dGVbM10pfSx1X2NvbG9yXzQ6e3ZhbHVlOm5ldyBGdCh0aGlzLnBhbGV0dGVbNF0pfSx1X2NvbG9yXzU6e3ZhbHVlOm5ldyBGdCh0aGlzLnBhbGV0dGVbNV0pfSx1X2R5ZV8wOnt2YWx1ZTpuZXcgTnQoLjMsLjgsLjEsLjcpfSx1X2R5ZV8xOnt2YWx1ZTpuZXcgTnQoLjcsLjgsLjEsLjcpfSx1X2R5ZV8yOnt2YWx1ZTpuZXcgTnQoLjcsLjIsLjEsLjcpfSx1X2R5ZV8zOnt2YWx1ZTpuZXcgTnQoLjMsLjIsLjEsLjcpfSx1X2R5ZV80Ont2YWx1ZTpuZXcgTnQoLjEsLjUsLjEsLjQ1KX0sdV9keWVfNTp7dmFsdWU6bmV3IE50KC45LC41LC4xLC40NSl9fX0pLHRoaXMucnR0UGxhbmU9bmV3IHl0KHRoaXMuZ2wse2dlb21ldHJ5OnRoaXMucnR0UGxhbmVHZW8scHJvZ3JhbTp0aGlzLnJ0dFByb2dyYW19KSx0aGlzLmlzUmVuZGVyVGFyZ2V0PSEwfX0se2tleToiX3Jlc2V0U2VlZCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PDY7dCsrKXt2YXIgZT10aGlzLnJuZygpLGk9dGhpcy5ybmcoKSxyPXRoaXMucm5nKCkqdGhpcy5vcHRpb25zLnJhZGl1c19pbm5lcit0aGlzLm9wdGlvbnMucmFkaXVzX2lubmVyLG49dGhpcy5ybmcoKSp0aGlzLm9wdGlvbnMucmFkaXVzX291dGVyK3RoaXMub3B0aW9ucy5yYWRpdXNfb3V0ZXIscz1uZXcgTnQoZSxpLHIsbik7dGhpcy5ydHRQcm9ncmFtLnVuaWZvcm1zWyJ1X2R5ZV8iK3RdPXt2YWx1ZTpzfX19fSx7a2V5OiJfbWFrZU1hdGVyaWFsIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGxhbmVTaGFkZXI9bmV3IFUodGhpcy5nbCx7dmVydGV4OiJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUgdmVjMiB1djtcblxuICAgICAgICAgICAgICAgIHVuaWZvcm0gbWF0NCBtb2RlbFZpZXdNYXRyaXg7XG4gICAgICAgICAgICAgICAgdW5pZm9ybSBtYXQ0IHByb2plY3Rpb25NYXRyaXg7XG4gICAgICAgICAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjtcblxuICAgICAgICAgICAgICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdlV2ID0gdXY7XG4gICAgICAgICAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgIixmcmFnbWVudDoiXG5cdFx0XHRcdHByZWNpc2lvbiBoaWdocCBmbG9hdDtcblx0XHRcdFx0dW5pZm9ybSBzYW1wbGVyMkQgdE1hcDtcblx0XHRcdFx0dW5pZm9ybSBmbG9hdCB1VGltZTtcblx0XHRcdFx0dW5pZm9ybSBmbG9hdCB1TWFnbml0dWRlO1xuXG5cdFx0XHRcdHZhcnlpbmcgdmVjMiB2VXY7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCBmbG9hdCBzcGVlZCA9IDE1LjA7XG5cdFx0XHRcdFxuXHRcdFx0XHR2b2lkIG1haW4oKSB7XG5cdFx0XHRcdFx0dmVjMiB3YXZ5Q29vcmQ7XG5cdFx0XHRcdFx0d2F2eUNvb3JkLnMgPSB2VXYucyArIChzaW4odVRpbWUrdlV2LnQqc3BlZWQpICogdU1hZ25pdHVkZSk7XG5cdFx0XHRcdFx0d2F2eUNvb3JkLnQgPSB2VXYudCArIChjb3ModVRpbWUrdlV2LnMqc3BlZWQpICogdU1hZ25pdHVkZSk7XG5cdFx0XHRcdFx0dmVjNCBmcmFtZUNvbG9yID0gdGV4dHVyZTJEKHRNYXAsIHdhdnlDb29yZCk7XG5cdFx0XHRcdFx0Z2xfRnJhZ0NvbG9yID0gZnJhbWVDb2xvcjtcblx0XHRcdFx0fVxuICAgICAgICAgICAgIix1bmlmb3Jtczp7dE1hcDp7dmFsdWU6dGhpcy5ydHQudGV4dHVyZX0sdVRpbWU6e3ZhbHVlOjB9LHVNYWduaXR1ZGU6e3ZhbHVlOi4xNX19fSl9fSx7a2V5OiJfbWFrZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgVXQodGhpcy5nbCx7d2lkdGg6dGhpcy5zaXplLGhlaWdodDp0aGlzLnNpemUsd2lkdGhTZWdtZW50czo5OSxoZWlnaHRTZWdtZW50czo5OX0pO25ldyB5dCh0aGlzLmdsLHtnZW9tZXRyeTp0LHByb2dyYW06dGhpcy5wbGFuZVNoYWRlcn0pLnNldFBhcmVudCh0aGlzLnNjZW5lKTt2YXIgZT10aGlzLm1vcnBoZGF0YTtmb3IodmFyIGkgaW4gZSl7dmFyIHI9ZVtpXSxuPXIuYW5jaG9yWCxzPXIuYW5jaG9yWSxhPXIuYW5jaG9yUmFkaXVzLGg9ci5tb3ZlVG9YLG89ci5tb3ZlVG9ZLHU9bmV3IEx0KG4scywwLGEpO3Uuc3Vycm91bmQodCksdS5tb3ZlVG8oaCxvLDQwMCl9fX0se2tleToiX3Jlc2V0Q29sb3JzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucnR0UHJvZ3JhbS51bmlmb3Jtcy51X2NvbG9yXzAudmFsdWU9bmV3IEZ0KHRoaXMucGFsZXR0ZVswXSksdGhpcy5ydHRQcm9ncmFtLnVuaWZvcm1zLnVfY29sb3JfMS52YWx1ZT1uZXcgRnQodGhpcy5wYWxldHRlWzFdKSx0aGlzLnJ0dFByb2dyYW0udW5pZm9ybXMudV9jb2xvcl8yLnZhbHVlPW5ldyBGdCh0aGlzLnBhbGV0dGVbMl0pLHRoaXMucnR0UHJvZ3JhbS51bmlmb3Jtcy51X2NvbG9yXzMudmFsdWU9bmV3IEZ0KHRoaXMucGFsZXR0ZVszXSksdGhpcy5ydHRQcm9ncmFtLnVuaWZvcm1zLnVfY29sb3JfNC52YWx1ZT1uZXcgRnQodGhpcy5wYWxldHRlWzRdKSx0aGlzLnJ0dFByb2dyYW0udW5pZm9ybXMudV9jb2xvcl81LnZhbHVlPW5ldyBGdCh0aGlzLnBhbGV0dGVbNV0pfX0se2tleToiX2FuaW1hdGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wbGFuZVNoYWRlci51bmlmb3Jtcy51VGltZS52YWx1ZT10aGlzLmZyYW1lLzUwfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCJzY2FsZSI9PT10KXRoaXMucGxhbmVTaGFkZXIudW5pZm9ybXMudU1hZ25pdHVkZS52YWx1ZT1wYXJzZUZsb2F0KGUpfX1dKX0oSXQpO3QuQWVzdGhldGljRmx1aWRCZz16dH0pKTsK",
    "mimeType": "application/javascript; charset=utf-8"
  },
  "/speedreader/bundle.js": {
    "content": "KCgpID0+IHsKICAvLyBub2RlX21vZHVsZXMvLnBucG0vdHNsaWJAMi44LjEvbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5tanMKICBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7CiAgICB2YXIgYzUgPSBhcmd1bWVudHMubGVuZ3RoLCByNyA9IGM1IDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkMzsKICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gIm9iamVjdCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09ICJmdW5jdGlvbiIpIHI3ID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7CiAgICBlbHNlIGZvciAodmFyIGk4ID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpOCA+PSAwOyBpOC0tKSBpZiAoZDMgPSBkZWNvcmF0b3JzW2k4XSkgcjcgPSAoYzUgPCAzID8gZDMocjcpIDogYzUgPiAzID8gZDModGFyZ2V0LCBrZXksIHI3KSA6IGQzKHRhcmdldCwga2V5KSkgfHwgcjc7CiAgICByZXR1cm4gYzUgPiAzICYmIHI3ICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgcjcpLCByNzsKICB9CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbGl0K3JlYWN0aXZlLWVsZW1lbnRAMi4xLjAvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL2N1c3RvbS1lbGVtZW50LmpzCiAgdmFyIHQgPSAodDYpID0+IChlOCwgbzEwKSA9PiB7CiAgICB2b2lkIDAgIT09IG8xMCA/IG8xMC5hZGRJbml0aWFsaXplcigoKSA9PiB7CiAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSh0NiwgZTgpOwogICAgfSkgOiBjdXN0b21FbGVtZW50cy5kZWZpbmUodDYsIGU4KTsKICB9OwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQGxpdCtyZWFjdGl2ZS1lbGVtZW50QDIuMS4wL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvY3NzLXRhZy5qcwogIHZhciB0MiA9IGdsb2JhbFRoaXM7CiAgdmFyIGUgPSB0Mi5TaGFkb3dSb290ICYmICh2b2lkIDAgPT09IHQyLlNoYWR5Q1NTIHx8IHQyLlNoYWR5Q1NTLm5hdGl2ZVNoYWRvdykgJiYgImFkb3B0ZWRTdHlsZVNoZWV0cyIgaW4gRG9jdW1lbnQucHJvdG90eXBlICYmICJyZXBsYWNlIiBpbiBDU1NTdHlsZVNoZWV0LnByb3RvdHlwZTsKICB2YXIgcyA9IFN5bWJvbCgpOwogIHZhciBvID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7CiAgdmFyIG4gPSBjbGFzcyB7CiAgICBjb25zdHJ1Y3Rvcih0NiwgZTgsIG8xMCkgewogICAgICBpZiAodGhpcy5fJGNzc1Jlc3VsdCQgPSB0cnVlLCBvMTAgIT09IHMpIHRocm93IEVycm9yKCJDU1NSZXN1bHQgaXMgbm90IGNvbnN0cnVjdGFibGUuIFVzZSBgdW5zYWZlQ1NTYCBvciBgY3NzYCBpbnN0ZWFkLiIpOwogICAgICB0aGlzLmNzc1RleHQgPSB0NiwgdGhpcy50ID0gZTg7CiAgICB9CiAgICBnZXQgc3R5bGVTaGVldCgpIHsKICAgICAgbGV0IHQ2ID0gdGhpcy5vOwogICAgICBjb25zdCBzNCA9IHRoaXMudDsKICAgICAgaWYgKGUgJiYgdm9pZCAwID09PSB0NikgewogICAgICAgIGNvbnN0IGU4ID0gdm9pZCAwICE9PSBzNCAmJiAxID09PSBzNC5sZW5ndGg7CiAgICAgICAgZTggJiYgKHQ2ID0gby5nZXQoczQpKSwgdm9pZCAwID09PSB0NiAmJiAoKHRoaXMubyA9IHQ2ID0gbmV3IENTU1N0eWxlU2hlZXQoKSkucmVwbGFjZVN5bmModGhpcy5jc3NUZXh0KSwgZTggJiYgby5zZXQoczQsIHQ2KSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHQ2OwogICAgfQogICAgdG9TdHJpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLmNzc1RleHQ7CiAgICB9CiAgfTsKICB2YXIgciA9ICh0NikgPT4gbmV3IG4oInN0cmluZyIgPT0gdHlwZW9mIHQ2ID8gdDYgOiB0NiArICIiLCB2b2lkIDAsIHMpOwogIHZhciBpID0gKHQ2LCAuLi5lOCkgPT4gewogICAgY29uc3QgbzEwID0gMSA9PT0gdDYubGVuZ3RoID8gdDZbMF0gOiBlOC5yZWR1Y2UoKGU5LCBzNCwgbzExKSA9PiBlOSArICgodDcpID0+IHsKICAgICAgaWYgKHRydWUgPT09IHQ3Ll8kY3NzUmVzdWx0JCkgcmV0dXJuIHQ3LmNzc1RleHQ7CiAgICAgIGlmICgibnVtYmVyIiA9PSB0eXBlb2YgdDcpIHJldHVybiB0NzsKICAgICAgdGhyb3cgRXJyb3IoIlZhbHVlIHBhc3NlZCB0byAnY3NzJyBmdW5jdGlvbiBtdXN0IGJlIGEgJ2NzcycgZnVuY3Rpb24gcmVzdWx0OiAiICsgdDcgKyAiLiBVc2UgJ3Vuc2FmZUNTUycgdG8gcGFzcyBub24tbGl0ZXJhbCB2YWx1ZXMsIGJ1dCB0YWtlIGNhcmUgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuIik7CiAgICB9KShzNCkgKyB0NltvMTEgKyAxXSwgdDZbMF0pOwogICAgcmV0dXJuIG5ldyBuKG8xMCwgdDYsIHMpOwogIH07CiAgdmFyIFMgPSAoczQsIG8xMCkgPT4gewogICAgaWYgKGUpIHM0LmFkb3B0ZWRTdHlsZVNoZWV0cyA9IG8xMC5tYXAoKHQ2KSA9PiB0NiBpbnN0YW5jZW9mIENTU1N0eWxlU2hlZXQgPyB0NiA6IHQ2LnN0eWxlU2hlZXQpOwogICAgZWxzZSBmb3IgKGNvbnN0IGU4IG9mIG8xMCkgewogICAgICBjb25zdCBvMTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLCBuOCA9IHQyLmxpdE5vbmNlOwogICAgICB2b2lkIDAgIT09IG44ICYmIG8xMS5zZXRBdHRyaWJ1dGUoIm5vbmNlIiwgbjgpLCBvMTEudGV4dENvbnRlbnQgPSBlOC5jc3NUZXh0LCBzNC5hcHBlbmRDaGlsZChvMTEpOwogICAgfQogIH07CiAgdmFyIGMgPSBlID8gKHQ2KSA9PiB0NiA6ICh0NikgPT4gdDYgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0ID8gKCh0NykgPT4gewogICAgbGV0IGU4ID0gIiI7CiAgICBmb3IgKGNvbnN0IHM0IG9mIHQ3LmNzc1J1bGVzKSBlOCArPSBzNC5jc3NUZXh0OwogICAgcmV0dXJuIHIoZTgpOwogIH0pKHQ2KSA6IHQ2OwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQGxpdCtyZWFjdGl2ZS1lbGVtZW50QDIuMS4wL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvcmVhY3RpdmUtZWxlbWVudC5qcwogIHZhciB7IGlzOiBpMiwgZGVmaW5lUHJvcGVydHk6IGUyLCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6IGgsIGdldE93blByb3BlcnR5TmFtZXM6IHIyLCBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6IG8yLCBnZXRQcm90b3R5cGVPZjogbjIgfSA9IE9iamVjdDsKICB2YXIgYSA9IGdsb2JhbFRoaXM7CiAgdmFyIGMyID0gYS50cnVzdGVkVHlwZXM7CiAgdmFyIGwgPSBjMiA/IGMyLmVtcHR5U2NyaXB0IDogIiI7CiAgdmFyIHAgPSBhLnJlYWN0aXZlRWxlbWVudFBvbHlmaWxsU3VwcG9ydDsKICB2YXIgZCA9ICh0NiwgczQpID0+IHQ2OwogIHZhciB1ID0geyB0b0F0dHJpYnV0ZSh0NiwgczQpIHsKICAgIHN3aXRjaCAoczQpIHsKICAgICAgY2FzZSBCb29sZWFuOgogICAgICAgIHQ2ID0gdDYgPyBsIDogbnVsbDsKICAgICAgICBicmVhazsKICAgICAgY2FzZSBPYmplY3Q6CiAgICAgIGNhc2UgQXJyYXk6CiAgICAgICAgdDYgPSBudWxsID09IHQ2ID8gdDYgOiBKU09OLnN0cmluZ2lmeSh0Nik7CiAgICB9CiAgICByZXR1cm4gdDY7CiAgfSwgZnJvbUF0dHJpYnV0ZSh0NiwgczQpIHsKICAgIGxldCBpOCA9IHQ2OwogICAgc3dpdGNoIChzNCkgewogICAgICBjYXNlIEJvb2xlYW46CiAgICAgICAgaTggPSBudWxsICE9PSB0NjsKICAgICAgICBicmVhazsKICAgICAgY2FzZSBOdW1iZXI6CiAgICAgICAgaTggPSBudWxsID09PSB0NiA/IG51bGwgOiBOdW1iZXIodDYpOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlIE9iamVjdDoKICAgICAgY2FzZSBBcnJheToKICAgICAgICB0cnkgewogICAgICAgICAgaTggPSBKU09OLnBhcnNlKHQ2KTsKICAgICAgICB9IGNhdGNoICh0NykgewogICAgICAgICAgaTggPSBudWxsOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBpODsKICB9IH07CiAgdmFyIGYgPSAodDYsIHM0KSA9PiAhaTIodDYsIHM0KTsKICB2YXIgYiA9IHsgYXR0cmlidXRlOiB0cnVlLCB0eXBlOiBTdHJpbmcsIGNvbnZlcnRlcjogdSwgcmVmbGVjdDogZmFsc2UsIHVzZURlZmF1bHQ6IGZhbHNlLCBoYXNDaGFuZ2VkOiBmIH07CiAgU3ltYm9sLm1ldGFkYXRhID8/PSBTeW1ib2woIm1ldGFkYXRhIiksIGEubGl0UHJvcGVydHlNZXRhZGF0YSA/Pz0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7CiAgdmFyIHkgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHsKICAgIHN0YXRpYyBhZGRJbml0aWFsaXplcih0NikgewogICAgICB0aGlzLl8kRWkoKSwgKHRoaXMubCA/Pz0gW10pLnB1c2godDYpOwogICAgfQogICAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmZpbmFsaXplKCksIHRoaXMuXyRFaCAmJiBbLi4udGhpcy5fJEVoLmtleXMoKV07CiAgICB9CiAgICBzdGF0aWMgY3JlYXRlUHJvcGVydHkodDYsIHM0ID0gYikgewogICAgICBpZiAoczQuc3RhdGUgJiYgKHM0LmF0dHJpYnV0ZSA9IGZhbHNlKSwgdGhpcy5fJEVpKCksIHRoaXMucHJvdG90eXBlLmhhc093blByb3BlcnR5KHQ2KSAmJiAoKHM0ID0gT2JqZWN0LmNyZWF0ZShzNCkpLndyYXBwZWQgPSB0cnVlKSwgdGhpcy5lbGVtZW50UHJvcGVydGllcy5zZXQodDYsIHM0KSwgIXM0Lm5vQWNjZXNzb3IpIHsKICAgICAgICBjb25zdCBpOCA9IFN5bWJvbCgpLCBoMyA9IHRoaXMuZ2V0UHJvcGVydHlEZXNjcmlwdG9yKHQ2LCBpOCwgczQpOwogICAgICAgIHZvaWQgMCAhPT0gaDMgJiYgZTIodGhpcy5wcm90b3R5cGUsIHQ2LCBoMyk7CiAgICAgIH0KICAgIH0KICAgIHN0YXRpYyBnZXRQcm9wZXJ0eURlc2NyaXB0b3IodDYsIHM0LCBpOCkgewogICAgICBjb25zdCB7IGdldDogZTgsIHNldDogcjcgfSA9IGgodGhpcy5wcm90b3R5cGUsIHQ2KSA/PyB7IGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpc1tzNF07CiAgICAgIH0sIHNldCh0NykgewogICAgICAgIHRoaXNbczRdID0gdDc7CiAgICAgIH0gfTsKICAgICAgcmV0dXJuIHsgZ2V0OiBlOCwgc2V0KHM1KSB7CiAgICAgICAgY29uc3QgaDMgPSBlOD8uY2FsbCh0aGlzKTsKICAgICAgICByNz8uY2FsbCh0aGlzLCBzNSksIHRoaXMucmVxdWVzdFVwZGF0ZSh0NiwgaDMsIGk4KTsKICAgICAgfSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlIH07CiAgICB9CiAgICBzdGF0aWMgZ2V0UHJvcGVydHlPcHRpb25zKHQ2KSB7CiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLmdldCh0NikgPz8gYjsKICAgIH0KICAgIHN0YXRpYyBfJEVpKCkgewogICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShkKCJlbGVtZW50UHJvcGVydGllcyIpKSkgcmV0dXJuOwogICAgICBjb25zdCB0NiA9IG4yKHRoaXMpOwogICAgICB0Ni5maW5hbGl6ZSgpLCB2b2lkIDAgIT09IHQ2LmwgJiYgKHRoaXMubCA9IFsuLi50Ni5sXSksIHRoaXMuZWxlbWVudFByb3BlcnRpZXMgPSBuZXcgTWFwKHQ2LmVsZW1lbnRQcm9wZXJ0aWVzKTsKICAgIH0KICAgIHN0YXRpYyBmaW5hbGl6ZSgpIHsKICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoZCgiZmluYWxpemVkIikpKSByZXR1cm47CiAgICAgIGlmICh0aGlzLmZpbmFsaXplZCA9IHRydWUsIHRoaXMuXyRFaSgpLCB0aGlzLmhhc093blByb3BlcnR5KGQoInByb3BlcnRpZXMiKSkpIHsKICAgICAgICBjb25zdCB0NyA9IHRoaXMucHJvcGVydGllcywgczQgPSBbLi4ucjIodDcpLCAuLi5vMih0NyldOwogICAgICAgIGZvciAoY29uc3QgaTggb2YgczQpIHRoaXMuY3JlYXRlUHJvcGVydHkoaTgsIHQ3W2k4XSk7CiAgICAgIH0KICAgICAgY29uc3QgdDYgPSB0aGlzW1N5bWJvbC5tZXRhZGF0YV07CiAgICAgIGlmIChudWxsICE9PSB0NikgewogICAgICAgIGNvbnN0IHM0ID0gbGl0UHJvcGVydHlNZXRhZGF0YS5nZXQodDYpOwogICAgICAgIGlmICh2b2lkIDAgIT09IHM0KSBmb3IgKGNvbnN0IFt0NywgaThdIG9mIHM0KSB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLnNldCh0NywgaTgpOwogICAgICB9CiAgICAgIHRoaXMuXyRFaCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgICAgIGZvciAoY29uc3QgW3Q3LCBzNF0gb2YgdGhpcy5lbGVtZW50UHJvcGVydGllcykgewogICAgICAgIGNvbnN0IGk4ID0gdGhpcy5fJEV1KHQ3LCBzNCk7CiAgICAgICAgdm9pZCAwICE9PSBpOCAmJiB0aGlzLl8kRWguc2V0KGk4LCB0Nyk7CiAgICAgIH0KICAgICAgdGhpcy5lbGVtZW50U3R5bGVzID0gdGhpcy5maW5hbGl6ZVN0eWxlcyh0aGlzLnN0eWxlcyk7CiAgICB9CiAgICBzdGF0aWMgZmluYWxpemVTdHlsZXMoczQpIHsKICAgICAgY29uc3QgaTggPSBbXTsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoczQpKSB7CiAgICAgICAgY29uc3QgZTggPSBuZXcgU2V0KHM0LmZsYXQoMSAvIDApLnJldmVyc2UoKSk7CiAgICAgICAgZm9yIChjb25zdCBzNSBvZiBlOCkgaTgudW5zaGlmdChjKHM1KSk7CiAgICAgIH0gZWxzZSB2b2lkIDAgIT09IHM0ICYmIGk4LnB1c2goYyhzNCkpOwogICAgICByZXR1cm4gaTg7CiAgICB9CiAgICBzdGF0aWMgXyRFdSh0NiwgczQpIHsKICAgICAgY29uc3QgaTggPSBzNC5hdHRyaWJ1dGU7CiAgICAgIHJldHVybiBmYWxzZSA9PT0gaTggPyB2b2lkIDAgOiAic3RyaW5nIiA9PSB0eXBlb2YgaTggPyBpOCA6ICJzdHJpbmciID09IHR5cGVvZiB0NiA/IHQ2LnRvTG93ZXJDYXNlKCkgOiB2b2lkIDA7CiAgICB9CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgc3VwZXIoKSwgdGhpcy5fJEVwID0gdm9pZCAwLCB0aGlzLmlzVXBkYXRlUGVuZGluZyA9IGZhbHNlLCB0aGlzLmhhc1VwZGF0ZWQgPSBmYWxzZSwgdGhpcy5fJEVtID0gbnVsbCwgdGhpcy5fJEV2KCk7CiAgICB9CiAgICBfJEV2KCkgewogICAgICB0aGlzLl8kRVMgPSBuZXcgUHJvbWlzZSgodDYpID0+IHRoaXMuZW5hYmxlVXBkYXRpbmcgPSB0NiksIHRoaXMuXyRBTCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIHRoaXMuXyRFXygpLCB0aGlzLnJlcXVlc3RVcGRhdGUoKSwgdGhpcy5jb25zdHJ1Y3Rvci5sPy5mb3JFYWNoKCh0NikgPT4gdDYodGhpcykpOwogICAgfQogICAgYWRkQ29udHJvbGxlcih0NikgewogICAgICAodGhpcy5fJEVPID8/PSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKS5hZGQodDYpLCB2b2lkIDAgIT09IHRoaXMucmVuZGVyUm9vdCAmJiB0aGlzLmlzQ29ubmVjdGVkICYmIHQ2Lmhvc3RDb25uZWN0ZWQ/LigpOwogICAgfQogICAgcmVtb3ZlQ29udHJvbGxlcih0NikgewogICAgICB0aGlzLl8kRU8/LmRlbGV0ZSh0Nik7CiAgICB9CiAgICBfJEVfKCkgewogICAgICBjb25zdCB0NiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIHM0ID0gdGhpcy5jb25zdHJ1Y3Rvci5lbGVtZW50UHJvcGVydGllczsKICAgICAgZm9yIChjb25zdCBpOCBvZiBzNC5rZXlzKCkpIHRoaXMuaGFzT3duUHJvcGVydHkoaTgpICYmICh0Ni5zZXQoaTgsIHRoaXNbaThdKSwgZGVsZXRlIHRoaXNbaThdKTsKICAgICAgdDYuc2l6ZSA+IDAgJiYgKHRoaXMuXyRFcCA9IHQ2KTsKICAgIH0KICAgIGNyZWF0ZVJlbmRlclJvb3QoKSB7CiAgICAgIGNvbnN0IHQ2ID0gdGhpcy5zaGFkb3dSb290ID8/IHRoaXMuYXR0YWNoU2hhZG93KHRoaXMuY29uc3RydWN0b3Iuc2hhZG93Um9vdE9wdGlvbnMpOwogICAgICByZXR1cm4gUyh0NiwgdGhpcy5jb25zdHJ1Y3Rvci5lbGVtZW50U3R5bGVzKSwgdDY7CiAgICB9CiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHsKICAgICAgdGhpcy5yZW5kZXJSb290ID8/PSB0aGlzLmNyZWF0ZVJlbmRlclJvb3QoKSwgdGhpcy5lbmFibGVVcGRhdGluZyh0cnVlKSwgdGhpcy5fJEVPPy5mb3JFYWNoKCh0NikgPT4gdDYuaG9zdENvbm5lY3RlZD8uKCkpOwogICAgfQogICAgZW5hYmxlVXBkYXRpbmcodDYpIHsKICAgIH0KICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkgewogICAgICB0aGlzLl8kRU8/LmZvckVhY2goKHQ2KSA9PiB0Ni5ob3N0RGlzY29ubmVjdGVkPy4oKSk7CiAgICB9CiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sodDYsIHM0LCBpOCkgewogICAgICB0aGlzLl8kQUsodDYsIGk4KTsKICAgIH0KICAgIF8kRVQodDYsIHM0KSB7CiAgICAgIGNvbnN0IGk4ID0gdGhpcy5jb25zdHJ1Y3Rvci5lbGVtZW50UHJvcGVydGllcy5nZXQodDYpLCBlOCA9IHRoaXMuY29uc3RydWN0b3IuXyRFdSh0NiwgaTgpOwogICAgICBpZiAodm9pZCAwICE9PSBlOCAmJiB0cnVlID09PSBpOC5yZWZsZWN0KSB7CiAgICAgICAgY29uc3QgaDMgPSAodm9pZCAwICE9PSBpOC5jb252ZXJ0ZXI/LnRvQXR0cmlidXRlID8gaTguY29udmVydGVyIDogdSkudG9BdHRyaWJ1dGUoczQsIGk4LnR5cGUpOwogICAgICAgIHRoaXMuXyRFbSA9IHQ2LCBudWxsID09IGgzID8gdGhpcy5yZW1vdmVBdHRyaWJ1dGUoZTgpIDogdGhpcy5zZXRBdHRyaWJ1dGUoZTgsIGgzKSwgdGhpcy5fJEVtID0gbnVsbDsKICAgICAgfQogICAgfQogICAgXyRBSyh0NiwgczQpIHsKICAgICAgY29uc3QgaTggPSB0aGlzLmNvbnN0cnVjdG9yLCBlOCA9IGk4Ll8kRWguZ2V0KHQ2KTsKICAgICAgaWYgKHZvaWQgMCAhPT0gZTggJiYgdGhpcy5fJEVtICE9PSBlOCkgewogICAgICAgIGNvbnN0IHQ3ID0gaTguZ2V0UHJvcGVydHlPcHRpb25zKGU4KSwgaDMgPSAiZnVuY3Rpb24iID09IHR5cGVvZiB0Ny5jb252ZXJ0ZXIgPyB7IGZyb21BdHRyaWJ1dGU6IHQ3LmNvbnZlcnRlciB9IDogdm9pZCAwICE9PSB0Ny5jb252ZXJ0ZXI/LmZyb21BdHRyaWJ1dGUgPyB0Ny5jb252ZXJ0ZXIgOiB1OwogICAgICAgIHRoaXMuXyRFbSA9IGU4LCB0aGlzW2U4XSA9IGgzLmZyb21BdHRyaWJ1dGUoczQsIHQ3LnR5cGUpID8/IHRoaXMuXyRFaj8uZ2V0KGU4KSA/PyBudWxsLCB0aGlzLl8kRW0gPSBudWxsOwogICAgICB9CiAgICB9CiAgICByZXF1ZXN0VXBkYXRlKHQ2LCBzNCwgaTgpIHsKICAgICAgaWYgKHZvaWQgMCAhPT0gdDYpIHsKICAgICAgICBjb25zdCBlOCA9IHRoaXMuY29uc3RydWN0b3IsIGgzID0gdGhpc1t0Nl07CiAgICAgICAgaWYgKGk4ID8/PSBlOC5nZXRQcm9wZXJ0eU9wdGlvbnModDYpLCAhKChpOC5oYXNDaGFuZ2VkID8/IGYpKGgzLCBzNCkgfHwgaTgudXNlRGVmYXVsdCAmJiBpOC5yZWZsZWN0ICYmIGgzID09PSB0aGlzLl8kRWo/LmdldCh0NikgJiYgIXRoaXMuaGFzQXR0cmlidXRlKGU4Ll8kRXUodDYsIGk4KSkpKSByZXR1cm47CiAgICAgICAgdGhpcy5DKHQ2LCBzNCwgaTgpOwogICAgICB9CiAgICAgIGZhbHNlID09PSB0aGlzLmlzVXBkYXRlUGVuZGluZyAmJiAodGhpcy5fJEVTID0gdGhpcy5fJEVQKCkpOwogICAgfQogICAgQyh0NiwgczQsIHsgdXNlRGVmYXVsdDogaTgsIHJlZmxlY3Q6IGU4LCB3cmFwcGVkOiBoMyB9LCByNykgewogICAgICBpOCAmJiAhKHRoaXMuXyRFaiA/Pz0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSkuaGFzKHQ2KSAmJiAodGhpcy5fJEVqLnNldCh0NiwgcjcgPz8gczQgPz8gdGhpc1t0Nl0pLCB0cnVlICE9PSBoMyB8fCB2b2lkIDAgIT09IHI3KSB8fCAodGhpcy5fJEFMLmhhcyh0NikgfHwgKHRoaXMuaGFzVXBkYXRlZCB8fCBpOCB8fCAoczQgPSB2b2lkIDApLCB0aGlzLl8kQUwuc2V0KHQ2LCBzNCkpLCB0cnVlID09PSBlOCAmJiB0aGlzLl8kRW0gIT09IHQ2ICYmICh0aGlzLl8kRXEgPz89IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCkpLmFkZCh0NikpOwogICAgfQogICAgYXN5bmMgXyRFUCgpIHsKICAgICAgdGhpcy5pc1VwZGF0ZVBlbmRpbmcgPSB0cnVlOwogICAgICB0cnkgewogICAgICAgIGF3YWl0IHRoaXMuXyRFUzsKICAgICAgfSBjYXRjaCAodDcpIHsKICAgICAgICBQcm9taXNlLnJlamVjdCh0Nyk7CiAgICAgIH0KICAgICAgY29uc3QgdDYgPSB0aGlzLnNjaGVkdWxlVXBkYXRlKCk7CiAgICAgIHJldHVybiBudWxsICE9IHQ2ICYmIGF3YWl0IHQ2LCAhdGhpcy5pc1VwZGF0ZVBlbmRpbmc7CiAgICB9CiAgICBzY2hlZHVsZVVwZGF0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMucGVyZm9ybVVwZGF0ZSgpOwogICAgfQogICAgcGVyZm9ybVVwZGF0ZSgpIHsKICAgICAgaWYgKCF0aGlzLmlzVXBkYXRlUGVuZGluZykgcmV0dXJuOwogICAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZCkgewogICAgICAgIGlmICh0aGlzLnJlbmRlclJvb3QgPz89IHRoaXMuY3JlYXRlUmVuZGVyUm9vdCgpLCB0aGlzLl8kRXApIHsKICAgICAgICAgIGZvciAoY29uc3QgW3Q4LCBzNV0gb2YgdGhpcy5fJEVwKSB0aGlzW3Q4XSA9IHM1OwogICAgICAgICAgdGhpcy5fJEVwID0gdm9pZCAwOwogICAgICAgIH0KICAgICAgICBjb25zdCB0NyA9IHRoaXMuY29uc3RydWN0b3IuZWxlbWVudFByb3BlcnRpZXM7CiAgICAgICAgaWYgKHQ3LnNpemUgPiAwKSBmb3IgKGNvbnN0IFtzNSwgaThdIG9mIHQ3KSB7CiAgICAgICAgICBjb25zdCB7IHdyYXBwZWQ6IHQ4IH0gPSBpOCwgZTggPSB0aGlzW3M1XTsKICAgICAgICAgIHRydWUgIT09IHQ4IHx8IHRoaXMuXyRBTC5oYXMoczUpIHx8IHZvaWQgMCA9PT0gZTggfHwgdGhpcy5DKHM1LCB2b2lkIDAsIGk4LCBlOCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGxldCB0NiA9IGZhbHNlOwogICAgICBjb25zdCBzNCA9IHRoaXMuXyRBTDsKICAgICAgdHJ5IHsKICAgICAgICB0NiA9IHRoaXMuc2hvdWxkVXBkYXRlKHM0KSwgdDYgPyAodGhpcy53aWxsVXBkYXRlKHM0KSwgdGhpcy5fJEVPPy5mb3JFYWNoKCh0NykgPT4gdDcuaG9zdFVwZGF0ZT8uKCkpLCB0aGlzLnVwZGF0ZShzNCkpIDogdGhpcy5fJEVNKCk7CiAgICAgIH0gY2F0Y2ggKHM1KSB7CiAgICAgICAgdGhyb3cgdDYgPSBmYWxzZSwgdGhpcy5fJEVNKCksIHM1OwogICAgICB9CiAgICAgIHQ2ICYmIHRoaXMuXyRBRShzNCk7CiAgICB9CiAgICB3aWxsVXBkYXRlKHQ2KSB7CiAgICB9CiAgICBfJEFFKHQ2KSB7CiAgICAgIHRoaXMuXyRFTz8uZm9yRWFjaCgodDcpID0+IHQ3Lmhvc3RVcGRhdGVkPy4oKSksIHRoaXMuaGFzVXBkYXRlZCB8fCAodGhpcy5oYXNVcGRhdGVkID0gdHJ1ZSwgdGhpcy5maXJzdFVwZGF0ZWQodDYpKSwgdGhpcy51cGRhdGVkKHQ2KTsKICAgIH0KICAgIF8kRU0oKSB7CiAgICAgIHRoaXMuXyRBTCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIHRoaXMuaXNVcGRhdGVQZW5kaW5nID0gZmFsc2U7CiAgICB9CiAgICBnZXQgdXBkYXRlQ29tcGxldGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmdldFVwZGF0ZUNvbXBsZXRlKCk7CiAgICB9CiAgICBnZXRVcGRhdGVDb21wbGV0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuXyRFUzsKICAgIH0KICAgIHNob3VsZFVwZGF0ZSh0NikgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIHVwZGF0ZSh0NikgewogICAgICB0aGlzLl8kRXEgJiY9IHRoaXMuXyRFcS5mb3JFYWNoKCh0NykgPT4gdGhpcy5fJEVUKHQ3LCB0aGlzW3Q3XSkpLCB0aGlzLl8kRU0oKTsKICAgIH0KICAgIHVwZGF0ZWQodDYpIHsKICAgIH0KICAgIGZpcnN0VXBkYXRlZCh0NikgewogICAgfQogIH07CiAgeS5lbGVtZW50U3R5bGVzID0gW10sIHkuc2hhZG93Um9vdE9wdGlvbnMgPSB7IG1vZGU6ICJvcGVuIiB9LCB5W2QoImVsZW1lbnRQcm9wZXJ0aWVzIildID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgeVtkKCJmaW5hbGl6ZWQiKV0gPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCBwPy4oeyBSZWFjdGl2ZUVsZW1lbnQ6IHkgfSksIChhLnJlYWN0aXZlRWxlbWVudFZlcnNpb25zID8/PSBbXSkucHVzaCgiMi4xLjAiKTsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BsaXQrcmVhY3RpdmUtZWxlbWVudEAyLjEuMC9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvcHJvcGVydHkuanMKICB2YXIgbzMgPSB7IGF0dHJpYnV0ZTogdHJ1ZSwgdHlwZTogU3RyaW5nLCBjb252ZXJ0ZXI6IHUsIHJlZmxlY3Q6IGZhbHNlLCBoYXNDaGFuZ2VkOiBmIH07CiAgdmFyIHIzID0gKHQ2ID0gbzMsIGU4LCByNykgPT4gewogICAgY29uc3QgeyBraW5kOiBuOCwgbWV0YWRhdGE6IGk4IH0gPSByNzsKICAgIGxldCBzNCA9IGdsb2JhbFRoaXMubGl0UHJvcGVydHlNZXRhZGF0YS5nZXQoaTgpOwogICAgaWYgKHZvaWQgMCA9PT0gczQgJiYgZ2xvYmFsVGhpcy5saXRQcm9wZXJ0eU1ldGFkYXRhLnNldChpOCwgczQgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKSwgInNldHRlciIgPT09IG44ICYmICgodDYgPSBPYmplY3QuY3JlYXRlKHQ2KSkud3JhcHBlZCA9IHRydWUpLCBzNC5zZXQocjcubmFtZSwgdDYpLCAiYWNjZXNzb3IiID09PSBuOCkgewogICAgICBjb25zdCB7IG5hbWU6IG8xMCB9ID0gcjc7CiAgICAgIHJldHVybiB7IHNldChyOCkgewogICAgICAgIGNvbnN0IG45ID0gZTguZ2V0LmNhbGwodGhpcyk7CiAgICAgICAgZTguc2V0LmNhbGwodGhpcywgcjgpLCB0aGlzLnJlcXVlc3RVcGRhdGUobzEwLCBuOSwgdDYpOwogICAgICB9LCBpbml0KGU5KSB7CiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gZTkgJiYgdGhpcy5DKG8xMCwgdm9pZCAwLCB0NiwgZTkpLCBlOTsKICAgICAgfSB9OwogICAgfQogICAgaWYgKCJzZXR0ZXIiID09PSBuOCkgewogICAgICBjb25zdCB7IG5hbWU6IG8xMCB9ID0gcjc7CiAgICAgIHJldHVybiBmdW5jdGlvbihyOCkgewogICAgICAgIGNvbnN0IG45ID0gdGhpc1tvMTBdOwogICAgICAgIGU4LmNhbGwodGhpcywgcjgpLCB0aGlzLnJlcXVlc3RVcGRhdGUobzEwLCBuOSwgdDYpOwogICAgICB9OwogICAgfQogICAgdGhyb3cgRXJyb3IoIlVuc3VwcG9ydGVkIGRlY29yYXRvciBsb2NhdGlvbjogIiArIG44KTsKICB9OwogIGZ1bmN0aW9uIG4zKHQ2KSB7CiAgICByZXR1cm4gKGU4LCBvMTApID0+ICJvYmplY3QiID09IHR5cGVvZiBvMTAgPyByMyh0NiwgZTgsIG8xMCkgOiAoKHQ3LCBlOSwgbzExKSA9PiB7CiAgICAgIGNvbnN0IHI3ID0gZTkuaGFzT3duUHJvcGVydHkobzExKTsKICAgICAgcmV0dXJuIGU5LmNvbnN0cnVjdG9yLmNyZWF0ZVByb3BlcnR5KG8xMSwgdDcpLCByNyA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZTksIG8xMSkgOiB2b2lkIDA7CiAgICB9KSh0NiwgZTgsIG8xMCk7CiAgfQoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQGxpdCtyZWFjdGl2ZS1lbGVtZW50QDIuMS4wL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGVjb3JhdG9ycy9zdGF0ZS5qcwogIGZ1bmN0aW9uIHI0KHI3KSB7CiAgICByZXR1cm4gbjMoeyAuLi5yNywgc3RhdGU6IHRydWUsIGF0dHJpYnV0ZTogZmFsc2UgfSk7CiAgfQoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQGxpdCtyZWFjdGl2ZS1lbGVtZW50QDIuMS4wL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGVjb3JhdG9ycy9iYXNlLmpzCiAgdmFyIGUzID0gKGU4LCB0NiwgYzUpID0+IChjNS5jb25maWd1cmFibGUgPSB0cnVlLCBjNS5lbnVtZXJhYmxlID0gdHJ1ZSwgUmVmbGVjdC5kZWNvcmF0ZSAmJiAib2JqZWN0IiAhPSB0eXBlb2YgdDYgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KGU4LCB0NiwgYzUpLCBjNSk7CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbGl0K3JlYWN0aXZlLWVsZW1lbnRAMi4xLjAvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LmpzCiAgZnVuY3Rpb24gZTQoZTgsIHI3KSB7CiAgICByZXR1cm4gKG44LCBzNCwgaTgpID0+IHsKICAgICAgY29uc3QgbzEwID0gKHQ2KSA9PiB0Ni5yZW5kZXJSb290Py5xdWVyeVNlbGVjdG9yKGU4KSA/PyBudWxsOwogICAgICBpZiAocjcpIHsKICAgICAgICBjb25zdCB7IGdldDogZTksIHNldDogcjggfSA9ICJvYmplY3QiID09IHR5cGVvZiBzNCA/IG44IDogaTggPz8gKCgpID0+IHsKICAgICAgICAgIGNvbnN0IHQ2ID0gU3ltYm9sKCk7CiAgICAgICAgICByZXR1cm4geyBnZXQoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzW3Q2XTsKICAgICAgICAgIH0sIHNldChlMTApIHsKICAgICAgICAgICAgdGhpc1t0Nl0gPSBlMTA7CiAgICAgICAgICB9IH07CiAgICAgICAgfSkoKTsKICAgICAgICByZXR1cm4gZTMobjgsIHM0LCB7IGdldCgpIHsKICAgICAgICAgIGxldCB0NiA9IGU5LmNhbGwodGhpcyk7CiAgICAgICAgICByZXR1cm4gdm9pZCAwID09PSB0NiAmJiAodDYgPSBvMTAodGhpcyksIChudWxsICE9PSB0NiB8fCB0aGlzLmhhc1VwZGF0ZWQpICYmIHI4LmNhbGwodGhpcywgdDYpKSwgdDY7CiAgICAgICAgfSB9KTsKICAgICAgfQogICAgICByZXR1cm4gZTMobjgsIHM0LCB7IGdldCgpIHsKICAgICAgICByZXR1cm4gbzEwKHRoaXMpOwogICAgICB9IH0pOwogICAgfTsKICB9CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbGl0K3JlYWN0aXZlLWVsZW1lbnRAMi4xLjAvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LWFzeW5jLmpzCiAgZnVuY3Rpb24gcjUocjcpIHsKICAgIHJldHVybiAobjgsIGU4KSA9PiBlMyhuOCwgZTgsIHsgYXN5bmMgZ2V0KCkgewogICAgICByZXR1cm4gYXdhaXQgdGhpcy51cGRhdGVDb21wbGV0ZSwgdGhpcy5yZW5kZXJSb290Py5xdWVyeVNlbGVjdG9yKHI3KSA/PyBudWxsOwogICAgfSB9KTsKICB9CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbGl0K3JlYWN0aXZlLWVsZW1lbnRAMi4xLjAvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LWFzc2lnbmVkLWVsZW1lbnRzLmpzCiAgZnVuY3Rpb24gbzQobzEwKSB7CiAgICByZXR1cm4gKGU4LCBuOCkgPT4gewogICAgICBjb25zdCB7IHNsb3Q6IHI3LCBzZWxlY3RvcjogczQgfSA9IG8xMCA/PyB7fSwgYzUgPSAic2xvdCIgKyAocjcgPyBgW25hbWU9JHtyN31dYCA6ICI6bm90KFtuYW1lXSkiKTsKICAgICAgcmV0dXJuIGUzKGU4LCBuOCwgeyBnZXQoKSB7CiAgICAgICAgY29uc3QgdDYgPSB0aGlzLnJlbmRlclJvb3Q/LnF1ZXJ5U2VsZWN0b3IoYzUpLCBlOSA9IHQ2Py5hc3NpZ25lZEVsZW1lbnRzKG8xMCkgPz8gW107CiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gczQgPyBlOSA6IGU5LmZpbHRlcigodDcpID0+IHQ3Lm1hdGNoZXMoczQpKTsKICAgICAgfSB9KTsKICAgIH07CiAgfQoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vbGl0LWh0bWxAMy4zLjAvbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpdC1odG1sLmpzCiAgdmFyIHQzID0gZ2xvYmFsVGhpczsKICB2YXIgaTMgPSB0My50cnVzdGVkVHlwZXM7CiAgdmFyIHMyID0gaTMgPyBpMy5jcmVhdGVQb2xpY3koImxpdC1odG1sIiwgeyBjcmVhdGVIVE1MOiAodDYpID0+IHQ2IH0pIDogdm9pZCAwOwogIHZhciBlNSA9ICIkbGl0JCI7CiAgdmFyIGgyID0gYGxpdCQke01hdGgucmFuZG9tKCkudG9GaXhlZCg5KS5zbGljZSgyKX0kYDsKICB2YXIgbzUgPSAiPyIgKyBoMjsKICB2YXIgbjQgPSBgPCR7bzV9PmA7CiAgdmFyIHI2ID0gZG9jdW1lbnQ7CiAgdmFyIGwyID0gKCkgPT4gcjYuY3JlYXRlQ29tbWVudCgiIik7CiAgdmFyIGMzID0gKHQ2KSA9PiBudWxsID09PSB0NiB8fCAib2JqZWN0IiAhPSB0eXBlb2YgdDYgJiYgImZ1bmN0aW9uIiAhPSB0eXBlb2YgdDY7CiAgdmFyIGEyID0gQXJyYXkuaXNBcnJheTsKICB2YXIgdTIgPSAodDYpID0+IGEyKHQ2KSB8fCAiZnVuY3Rpb24iID09IHR5cGVvZiB0Nj8uW1N5bWJvbC5pdGVyYXRvcl07CiAgdmFyIGQyID0gIlsgCVxuXGZccl0iOwogIHZhciBmMiA9IC88KD86KCEtLXxcL1teYS16QS1aXSl8KFwvP1thLXpBLVpdW14+XHNdKil8KFwvPyQpKS9nOwogIHZhciB2ID0gLy0tPi9nOwogIHZhciBfID0gLz4vZzsKICB2YXIgbSA9IFJlZ0V4cChgPnwke2QyfSg/OihbXlxccyInPj0vXSspKCR7ZDJ9Kj0ke2QyfSooPzpbXiAJClxmXHIiJ1xgPD49XXwoInwnKXwpKXwkKWAsICJnIik7CiAgdmFyIHAyID0gLycvZzsKICB2YXIgZyA9IC8iL2c7CiAgdmFyICQgPSAvXig/OnNjcmlwdHxzdHlsZXx0ZXh0YXJlYXx0aXRsZSkkL2k7CiAgdmFyIHkyID0gKHQ2KSA9PiAoaTgsIC4uLnM0KSA9PiAoeyBfJGxpdFR5cGUkOiB0Niwgc3RyaW5nczogaTgsIHZhbHVlczogczQgfSk7CiAgdmFyIHggPSB5MigxKTsKICB2YXIgYjIgPSB5MigyKTsKICB2YXIgdyA9IHkyKDMpOwogIHZhciBUID0gU3ltYm9sLmZvcigibGl0LW5vQ2hhbmdlIik7CiAgdmFyIEUgPSBTeW1ib2wuZm9yKCJsaXQtbm90aGluZyIpOwogIHZhciBBID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7CiAgdmFyIEMgPSByNi5jcmVhdGVUcmVlV2Fsa2VyKHI2LCAxMjkpOwogIGZ1bmN0aW9uIFAodDYsIGk4KSB7CiAgICBpZiAoIWEyKHQ2KSB8fCAhdDYuaGFzT3duUHJvcGVydHkoInJhdyIpKSB0aHJvdyBFcnJvcigiaW52YWxpZCB0ZW1wbGF0ZSBzdHJpbmdzIGFycmF5Iik7CiAgICByZXR1cm4gdm9pZCAwICE9PSBzMiA/IHMyLmNyZWF0ZUhUTUwoaTgpIDogaTg7CiAgfQogIHZhciBWID0gKHQ2LCBpOCkgPT4gewogICAgY29uc3QgczQgPSB0Ni5sZW5ndGggLSAxLCBvMTAgPSBbXTsKICAgIGxldCByNywgbDUgPSAyID09PSBpOCA/ICI8c3ZnPiIgOiAzID09PSBpOCA/ICI8bWF0aD4iIDogIiIsIGM1ID0gZjI7CiAgICBmb3IgKGxldCBpOSA9IDA7IGk5IDwgczQ7IGk5KyspIHsKICAgICAgY29uc3QgczUgPSB0NltpOV07CiAgICAgIGxldCBhNCwgdTUsIGQzID0gLTEsIHkzID0gMDsKICAgICAgZm9yICg7IHkzIDwgczUubGVuZ3RoICYmIChjNS5sYXN0SW5kZXggPSB5MywgdTUgPSBjNS5leGVjKHM1KSwgbnVsbCAhPT0gdTUpOyApIHkzID0gYzUubGFzdEluZGV4LCBjNSA9PT0gZjIgPyAiIS0tIiA9PT0gdTVbMV0gPyBjNSA9IHYgOiB2b2lkIDAgIT09IHU1WzFdID8gYzUgPSBfIDogdm9pZCAwICE9PSB1NVsyXSA/ICgkLnRlc3QodTVbMl0pICYmIChyNyA9IFJlZ0V4cCgiPC8iICsgdTVbMl0sICJnIikpLCBjNSA9IG0pIDogdm9pZCAwICE9PSB1NVszXSAmJiAoYzUgPSBtKSA6IGM1ID09PSBtID8gIj4iID09PSB1NVswXSA/IChjNSA9IHI3ID8/IGYyLCBkMyA9IC0xKSA6IHZvaWQgMCA9PT0gdTVbMV0gPyBkMyA9IC0yIDogKGQzID0gYzUubGFzdEluZGV4IC0gdTVbMl0ubGVuZ3RoLCBhNCA9IHU1WzFdLCBjNSA9IHZvaWQgMCA9PT0gdTVbM10gPyBtIDogJyInID09PSB1NVszXSA/IGcgOiBwMikgOiBjNSA9PT0gZyB8fCBjNSA9PT0gcDIgPyBjNSA9IG0gOiBjNSA9PT0gdiB8fCBjNSA9PT0gXyA/IGM1ID0gZjIgOiAoYzUgPSBtLCByNyA9IHZvaWQgMCk7CiAgICAgIGNvbnN0IHgyID0gYzUgPT09IG0gJiYgdDZbaTkgKyAxXS5zdGFydHNXaXRoKCIvPiIpID8gIiAiIDogIiI7CiAgICAgIGw1ICs9IGM1ID09PSBmMiA/IHM1ICsgbjQgOiBkMyA+PSAwID8gKG8xMC5wdXNoKGE0KSwgczUuc2xpY2UoMCwgZDMpICsgZTUgKyBzNS5zbGljZShkMykgKyBoMiArIHgyKSA6IHM1ICsgaDIgKyAoLTIgPT09IGQzID8gaTkgOiB4Mik7CiAgICB9CiAgICByZXR1cm4gW1AodDYsIGw1ICsgKHQ2W3M0XSB8fCAiPD8+IikgKyAoMiA9PT0gaTggPyAiPC9zdmc+IiA6IDMgPT09IGk4ID8gIjwvbWF0aD4iIDogIiIpKSwgbzEwXTsKICB9OwogIHZhciBOID0gY2xhc3MgX04gewogICAgY29uc3RydWN0b3IoeyBzdHJpbmdzOiB0NiwgXyRsaXRUeXBlJDogczQgfSwgbjgpIHsKICAgICAgbGV0IHI3OwogICAgICB0aGlzLnBhcnRzID0gW107CiAgICAgIGxldCBjNSA9IDAsIGE0ID0gMDsKICAgICAgY29uc3QgdTUgPSB0Ni5sZW5ndGggLSAxLCBkMyA9IHRoaXMucGFydHMsIFtmNCwgdjJdID0gVih0NiwgczQpOwogICAgICBpZiAodGhpcy5lbCA9IF9OLmNyZWF0ZUVsZW1lbnQoZjQsIG44KSwgQy5jdXJyZW50Tm9kZSA9IHRoaXMuZWwuY29udGVudCwgMiA9PT0gczQgfHwgMyA9PT0gczQpIHsKICAgICAgICBjb25zdCB0NyA9IHRoaXMuZWwuY29udGVudC5maXJzdENoaWxkOwogICAgICAgIHQ3LnJlcGxhY2VXaXRoKC4uLnQ3LmNoaWxkTm9kZXMpOwogICAgICB9CiAgICAgIGZvciAoOyBudWxsICE9PSAocjcgPSBDLm5leHROb2RlKCkpICYmIGQzLmxlbmd0aCA8IHU1OyApIHsKICAgICAgICBpZiAoMSA9PT0gcjcubm9kZVR5cGUpIHsKICAgICAgICAgIGlmIChyNy5oYXNBdHRyaWJ1dGVzKCkpIGZvciAoY29uc3QgdDcgb2YgcjcuZ2V0QXR0cmlidXRlTmFtZXMoKSkgaWYgKHQ3LmVuZHNXaXRoKGU1KSkgewogICAgICAgICAgICBjb25zdCBpOCA9IHYyW2E0KytdLCBzNSA9IHI3LmdldEF0dHJpYnV0ZSh0Nykuc3BsaXQoaDIpLCBlOCA9IC8oWy4/QF0pPyguKikvLmV4ZWMoaTgpOwogICAgICAgICAgICBkMy5wdXNoKHsgdHlwZTogMSwgaW5kZXg6IGM1LCBuYW1lOiBlOFsyXSwgc3RyaW5nczogczUsIGN0b3I6ICIuIiA9PT0gZThbMV0gPyBIIDogIj8iID09PSBlOFsxXSA/IEkgOiAiQCIgPT09IGU4WzFdID8gTCA6IGsgfSksIHI3LnJlbW92ZUF0dHJpYnV0ZSh0Nyk7CiAgICAgICAgICB9IGVsc2UgdDcuc3RhcnRzV2l0aChoMikgJiYgKGQzLnB1c2goeyB0eXBlOiA2LCBpbmRleDogYzUgfSksIHI3LnJlbW92ZUF0dHJpYnV0ZSh0NykpOwogICAgICAgICAgaWYgKCQudGVzdChyNy50YWdOYW1lKSkgewogICAgICAgICAgICBjb25zdCB0NyA9IHI3LnRleHRDb250ZW50LnNwbGl0KGgyKSwgczUgPSB0Ny5sZW5ndGggLSAxOwogICAgICAgICAgICBpZiAoczUgPiAwKSB7CiAgICAgICAgICAgICAgcjcudGV4dENvbnRlbnQgPSBpMyA/IGkzLmVtcHR5U2NyaXB0IDogIiI7CiAgICAgICAgICAgICAgZm9yIChsZXQgaTggPSAwOyBpOCA8IHM1OyBpOCsrKSByNy5hcHBlbmQodDdbaThdLCBsMigpKSwgQy5uZXh0Tm9kZSgpLCBkMy5wdXNoKHsgdHlwZTogMiwgaW5kZXg6ICsrYzUgfSk7CiAgICAgICAgICAgICAgcjcuYXBwZW5kKHQ3W3M1XSwgbDIoKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKDggPT09IHI3Lm5vZGVUeXBlKSBpZiAocjcuZGF0YSA9PT0gbzUpIGQzLnB1c2goeyB0eXBlOiAyLCBpbmRleDogYzUgfSk7CiAgICAgICAgZWxzZSB7CiAgICAgICAgICBsZXQgdDcgPSAtMTsKICAgICAgICAgIGZvciAoOyAtMSAhPT0gKHQ3ID0gcjcuZGF0YS5pbmRleE9mKGgyLCB0NyArIDEpKTsgKSBkMy5wdXNoKHsgdHlwZTogNywgaW5kZXg6IGM1IH0pLCB0NyArPSBoMi5sZW5ndGggLSAxOwogICAgICAgIH0KICAgICAgICBjNSsrOwogICAgICB9CiAgICB9CiAgICBzdGF0aWMgY3JlYXRlRWxlbWVudCh0NiwgaTgpIHsKICAgICAgY29uc3QgczQgPSByNi5jcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIpOwogICAgICByZXR1cm4gczQuaW5uZXJIVE1MID0gdDYsIHM0OwogICAgfQogIH07CiAgZnVuY3Rpb24gUzIodDYsIGk4LCBzNCA9IHQ2LCBlOCkgewogICAgaWYgKGk4ID09PSBUKSByZXR1cm4gaTg7CiAgICBsZXQgaDMgPSB2b2lkIDAgIT09IGU4ID8gczQuXyRDbz8uW2U4XSA6IHM0Ll8kQ2w7CiAgICBjb25zdCBvMTAgPSBjMyhpOCkgPyB2b2lkIDAgOiBpOC5fJGxpdERpcmVjdGl2ZSQ7CiAgICByZXR1cm4gaDM/LmNvbnN0cnVjdG9yICE9PSBvMTAgJiYgKGgzPy5fJEFPPy4oZmFsc2UpLCB2b2lkIDAgPT09IG8xMCA/IGgzID0gdm9pZCAwIDogKGgzID0gbmV3IG8xMCh0NiksIGgzLl8kQVQodDYsIHM0LCBlOCkpLCB2b2lkIDAgIT09IGU4ID8gKHM0Ll8kQ28gPz89IFtdKVtlOF0gPSBoMyA6IHM0Ll8kQ2wgPSBoMyksIHZvaWQgMCAhPT0gaDMgJiYgKGk4ID0gUzIodDYsIGgzLl8kQVModDYsIGk4LnZhbHVlcyksIGgzLCBlOCkpLCBpODsKICB9CiAgdmFyIE0gPSBjbGFzcyB7CiAgICBjb25zdHJ1Y3Rvcih0NiwgaTgpIHsKICAgICAgdGhpcy5fJEFWID0gW10sIHRoaXMuXyRBTiA9IHZvaWQgMCwgdGhpcy5fJEFEID0gdDYsIHRoaXMuXyRBTSA9IGk4OwogICAgfQogICAgZ2V0IHBhcmVudE5vZGUoKSB7CiAgICAgIHJldHVybiB0aGlzLl8kQU0ucGFyZW50Tm9kZTsKICAgIH0KICAgIGdldCBfJEFVKCkgewogICAgICByZXR1cm4gdGhpcy5fJEFNLl8kQVU7CiAgICB9CiAgICB1KHQ2KSB7CiAgICAgIGNvbnN0IHsgZWw6IHsgY29udGVudDogaTggfSwgcGFydHM6IHM0IH0gPSB0aGlzLl8kQUQsIGU4ID0gKHQ2Py5jcmVhdGlvblNjb3BlID8/IHI2KS5pbXBvcnROb2RlKGk4LCB0cnVlKTsKICAgICAgQy5jdXJyZW50Tm9kZSA9IGU4OwogICAgICBsZXQgaDMgPSBDLm5leHROb2RlKCksIG8xMCA9IDAsIG44ID0gMCwgbDUgPSBzNFswXTsKICAgICAgZm9yICg7IHZvaWQgMCAhPT0gbDU7ICkgewogICAgICAgIGlmIChvMTAgPT09IGw1LmluZGV4KSB7CiAgICAgICAgICBsZXQgaTk7CiAgICAgICAgICAyID09PSBsNS50eXBlID8gaTkgPSBuZXcgUihoMywgaDMubmV4dFNpYmxpbmcsIHRoaXMsIHQ2KSA6IDEgPT09IGw1LnR5cGUgPyBpOSA9IG5ldyBsNS5jdG9yKGgzLCBsNS5uYW1lLCBsNS5zdHJpbmdzLCB0aGlzLCB0NikgOiA2ID09PSBsNS50eXBlICYmIChpOSA9IG5ldyB6KGgzLCB0aGlzLCB0NikpLCB0aGlzLl8kQVYucHVzaChpOSksIGw1ID0gczRbKytuOF07CiAgICAgICAgfQogICAgICAgIG8xMCAhPT0gbDU/LmluZGV4ICYmIChoMyA9IEMubmV4dE5vZGUoKSwgbzEwKyspOwogICAgICB9CiAgICAgIHJldHVybiBDLmN1cnJlbnROb2RlID0gcjYsIGU4OwogICAgfQogICAgcCh0NikgewogICAgICBsZXQgaTggPSAwOwogICAgICBmb3IgKGNvbnN0IHM0IG9mIHRoaXMuXyRBVikgdm9pZCAwICE9PSBzNCAmJiAodm9pZCAwICE9PSBzNC5zdHJpbmdzID8gKHM0Ll8kQUkodDYsIHM0LCBpOCksIGk4ICs9IHM0LnN0cmluZ3MubGVuZ3RoIC0gMikgOiBzNC5fJEFJKHQ2W2k4XSkpLCBpOCsrOwogICAgfQogIH07CiAgdmFyIFIgPSBjbGFzcyBfUiB7CiAgICBnZXQgXyRBVSgpIHsKICAgICAgcmV0dXJuIHRoaXMuXyRBTT8uXyRBVSA/PyB0aGlzLl8kQ3Y7CiAgICB9CiAgICBjb25zdHJ1Y3Rvcih0NiwgaTgsIHM0LCBlOCkgewogICAgICB0aGlzLnR5cGUgPSAyLCB0aGlzLl8kQUggPSBFLCB0aGlzLl8kQU4gPSB2b2lkIDAsIHRoaXMuXyRBQSA9IHQ2LCB0aGlzLl8kQUIgPSBpOCwgdGhpcy5fJEFNID0gczQsIHRoaXMub3B0aW9ucyA9IGU4LCB0aGlzLl8kQ3YgPSBlOD8uaXNDb25uZWN0ZWQgPz8gdHJ1ZTsKICAgIH0KICAgIGdldCBwYXJlbnROb2RlKCkgewogICAgICBsZXQgdDYgPSB0aGlzLl8kQUEucGFyZW50Tm9kZTsKICAgICAgY29uc3QgaTggPSB0aGlzLl8kQU07CiAgICAgIHJldHVybiB2b2lkIDAgIT09IGk4ICYmIDExID09PSB0Nj8ubm9kZVR5cGUgJiYgKHQ2ID0gaTgucGFyZW50Tm9kZSksIHQ2OwogICAgfQogICAgZ2V0IHN0YXJ0Tm9kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuXyRBQTsKICAgIH0KICAgIGdldCBlbmROb2RlKCkgewogICAgICByZXR1cm4gdGhpcy5fJEFCOwogICAgfQogICAgXyRBSSh0NiwgaTggPSB0aGlzKSB7CiAgICAgIHQ2ID0gUzIodGhpcywgdDYsIGk4KSwgYzModDYpID8gdDYgPT09IEUgfHwgbnVsbCA9PSB0NiB8fCAiIiA9PT0gdDYgPyAodGhpcy5fJEFIICE9PSBFICYmIHRoaXMuXyRBUigpLCB0aGlzLl8kQUggPSBFKSA6IHQ2ICE9PSB0aGlzLl8kQUggJiYgdDYgIT09IFQgJiYgdGhpcy5fKHQ2KSA6IHZvaWQgMCAhPT0gdDYuXyRsaXRUeXBlJCA/IHRoaXMuJCh0NikgOiB2b2lkIDAgIT09IHQ2Lm5vZGVUeXBlID8gdGhpcy5UKHQ2KSA6IHUyKHQ2KSA/IHRoaXMuayh0NikgOiB0aGlzLl8odDYpOwogICAgfQogICAgTyh0NikgewogICAgICByZXR1cm4gdGhpcy5fJEFBLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQ2LCB0aGlzLl8kQUIpOwogICAgfQogICAgVCh0NikgewogICAgICB0aGlzLl8kQUggIT09IHQ2ICYmICh0aGlzLl8kQVIoKSwgdGhpcy5fJEFIID0gdGhpcy5PKHQ2KSk7CiAgICB9CiAgICBfKHQ2KSB7CiAgICAgIHRoaXMuXyRBSCAhPT0gRSAmJiBjMyh0aGlzLl8kQUgpID8gdGhpcy5fJEFBLm5leHRTaWJsaW5nLmRhdGEgPSB0NiA6IHRoaXMuVChyNi5jcmVhdGVUZXh0Tm9kZSh0NikpLCB0aGlzLl8kQUggPSB0NjsKICAgIH0KICAgICQodDYpIHsKICAgICAgY29uc3QgeyB2YWx1ZXM6IGk4LCBfJGxpdFR5cGUkOiBzNCB9ID0gdDYsIGU4ID0gIm51bWJlciIgPT0gdHlwZW9mIHM0ID8gdGhpcy5fJEFDKHQ2KSA6ICh2b2lkIDAgPT09IHM0LmVsICYmIChzNC5lbCA9IE4uY3JlYXRlRWxlbWVudChQKHM0LmgsIHM0LmhbMF0pLCB0aGlzLm9wdGlvbnMpKSwgczQpOwogICAgICBpZiAodGhpcy5fJEFIPy5fJEFEID09PSBlOCkgdGhpcy5fJEFILnAoaTgpOwogICAgICBlbHNlIHsKICAgICAgICBjb25zdCB0NyA9IG5ldyBNKGU4LCB0aGlzKSwgczUgPSB0Ny51KHRoaXMub3B0aW9ucyk7CiAgICAgICAgdDcucChpOCksIHRoaXMuVChzNSksIHRoaXMuXyRBSCA9IHQ3OwogICAgICB9CiAgICB9CiAgICBfJEFDKHQ2KSB7CiAgICAgIGxldCBpOCA9IEEuZ2V0KHQ2LnN0cmluZ3MpOwogICAgICByZXR1cm4gdm9pZCAwID09PSBpOCAmJiBBLnNldCh0Ni5zdHJpbmdzLCBpOCA9IG5ldyBOKHQ2KSksIGk4OwogICAgfQogICAgayh0NikgewogICAgICBhMih0aGlzLl8kQUgpIHx8ICh0aGlzLl8kQUggPSBbXSwgdGhpcy5fJEFSKCkpOwogICAgICBjb25zdCBpOCA9IHRoaXMuXyRBSDsKICAgICAgbGV0IHM0LCBlOCA9IDA7CiAgICAgIGZvciAoY29uc3QgaDMgb2YgdDYpIGU4ID09PSBpOC5sZW5ndGggPyBpOC5wdXNoKHM0ID0gbmV3IF9SKHRoaXMuTyhsMigpKSwgdGhpcy5PKGwyKCkpLCB0aGlzLCB0aGlzLm9wdGlvbnMpKSA6IHM0ID0gaThbZThdLCBzNC5fJEFJKGgzKSwgZTgrKzsKICAgICAgZTggPCBpOC5sZW5ndGggJiYgKHRoaXMuXyRBUihzNCAmJiBzNC5fJEFCLm5leHRTaWJsaW5nLCBlOCksIGk4Lmxlbmd0aCA9IGU4KTsKICAgIH0KICAgIF8kQVIodDYgPSB0aGlzLl8kQUEubmV4dFNpYmxpbmcsIGk4KSB7CiAgICAgIGZvciAodGhpcy5fJEFQPy4oZmFsc2UsIHRydWUsIGk4KTsgdDYgJiYgdDYgIT09IHRoaXMuXyRBQjsgKSB7CiAgICAgICAgY29uc3QgaTkgPSB0Ni5uZXh0U2libGluZzsKICAgICAgICB0Ni5yZW1vdmUoKSwgdDYgPSBpOTsKICAgICAgfQogICAgfQogICAgc2V0Q29ubmVjdGVkKHQ2KSB7CiAgICAgIHZvaWQgMCA9PT0gdGhpcy5fJEFNICYmICh0aGlzLl8kQ3YgPSB0NiwgdGhpcy5fJEFQPy4odDYpKTsKICAgIH0KICB9OwogIHZhciBrID0gY2xhc3MgewogICAgZ2V0IHRhZ05hbWUoKSB7CiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQudGFnTmFtZTsKICAgIH0KICAgIGdldCBfJEFVKCkgewogICAgICByZXR1cm4gdGhpcy5fJEFNLl8kQVU7CiAgICB9CiAgICBjb25zdHJ1Y3Rvcih0NiwgaTgsIHM0LCBlOCwgaDMpIHsKICAgICAgdGhpcy50eXBlID0gMSwgdGhpcy5fJEFIID0gRSwgdGhpcy5fJEFOID0gdm9pZCAwLCB0aGlzLmVsZW1lbnQgPSB0NiwgdGhpcy5uYW1lID0gaTgsIHRoaXMuXyRBTSA9IGU4LCB0aGlzLm9wdGlvbnMgPSBoMywgczQubGVuZ3RoID4gMiB8fCAiIiAhPT0gczRbMF0gfHwgIiIgIT09IHM0WzFdID8gKHRoaXMuXyRBSCA9IEFycmF5KHM0Lmxlbmd0aCAtIDEpLmZpbGwobmV3IFN0cmluZygpKSwgdGhpcy5zdHJpbmdzID0gczQpIDogdGhpcy5fJEFIID0gRTsKICAgIH0KICAgIF8kQUkodDYsIGk4ID0gdGhpcywgczQsIGU4KSB7CiAgICAgIGNvbnN0IGgzID0gdGhpcy5zdHJpbmdzOwogICAgICBsZXQgbzEwID0gZmFsc2U7CiAgICAgIGlmICh2b2lkIDAgPT09IGgzKSB0NiA9IFMyKHRoaXMsIHQ2LCBpOCwgMCksIG8xMCA9ICFjMyh0NikgfHwgdDYgIT09IHRoaXMuXyRBSCAmJiB0NiAhPT0gVCwgbzEwICYmICh0aGlzLl8kQUggPSB0Nik7CiAgICAgIGVsc2UgewogICAgICAgIGNvbnN0IGU5ID0gdDY7CiAgICAgICAgbGV0IG44LCByNzsKICAgICAgICBmb3IgKHQ2ID0gaDNbMF0sIG44ID0gMDsgbjggPCBoMy5sZW5ndGggLSAxOyBuOCsrKSByNyA9IFMyKHRoaXMsIGU5W3M0ICsgbjhdLCBpOCwgbjgpLCByNyA9PT0gVCAmJiAocjcgPSB0aGlzLl8kQUhbbjhdKSwgbzEwIHx8PSAhYzMocjcpIHx8IHI3ICE9PSB0aGlzLl8kQUhbbjhdLCByNyA9PT0gRSA/IHQ2ID0gRSA6IHQ2ICE9PSBFICYmICh0NiArPSAocjcgPz8gIiIpICsgaDNbbjggKyAxXSksIHRoaXMuXyRBSFtuOF0gPSByNzsKICAgICAgfQogICAgICBvMTAgJiYgIWU4ICYmIHRoaXMuaih0Nik7CiAgICB9CiAgICBqKHQ2KSB7CiAgICAgIHQ2ID09PSBFID8gdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSh0aGlzLm5hbWUpIDogdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsIHQ2ID8/ICIiKTsKICAgIH0KICB9OwogIHZhciBIID0gY2xhc3MgZXh0ZW5kcyBrIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLnR5cGUgPSAzOwogICAgfQogICAgaih0NikgewogICAgICB0aGlzLmVsZW1lbnRbdGhpcy5uYW1lXSA9IHQ2ID09PSBFID8gdm9pZCAwIDogdDY7CiAgICB9CiAgfTsKICB2YXIgSSA9IGNsYXNzIGV4dGVuZHMgayB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy50eXBlID0gNDsKICAgIH0KICAgIGoodDYpIHsKICAgICAgdGhpcy5lbGVtZW50LnRvZ2dsZUF0dHJpYnV0ZSh0aGlzLm5hbWUsICEhdDYgJiYgdDYgIT09IEUpOwogICAgfQogIH07CiAgdmFyIEwgPSBjbGFzcyBleHRlbmRzIGsgewogICAgY29uc3RydWN0b3IodDYsIGk4LCBzNCwgZTgsIGgzKSB7CiAgICAgIHN1cGVyKHQ2LCBpOCwgczQsIGU4LCBoMyksIHRoaXMudHlwZSA9IDU7CiAgICB9CiAgICBfJEFJKHQ2LCBpOCA9IHRoaXMpIHsKICAgICAgaWYgKCh0NiA9IFMyKHRoaXMsIHQ2LCBpOCwgMCkgPz8gRSkgPT09IFQpIHJldHVybjsKICAgICAgY29uc3QgczQgPSB0aGlzLl8kQUgsIGU4ID0gdDYgPT09IEUgJiYgczQgIT09IEUgfHwgdDYuY2FwdHVyZSAhPT0gczQuY2FwdHVyZSB8fCB0Ni5vbmNlICE9PSBzNC5vbmNlIHx8IHQ2LnBhc3NpdmUgIT09IHM0LnBhc3NpdmUsIGgzID0gdDYgIT09IEUgJiYgKHM0ID09PSBFIHx8IGU4KTsKICAgICAgZTggJiYgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5uYW1lLCB0aGlzLCBzNCksIGgzICYmIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMubmFtZSwgdGhpcywgdDYpLCB0aGlzLl8kQUggPSB0NjsKICAgIH0KICAgIGhhbmRsZUV2ZW50KHQ2KSB7CiAgICAgICJmdW5jdGlvbiIgPT0gdHlwZW9mIHRoaXMuXyRBSCA/IHRoaXMuXyRBSC5jYWxsKHRoaXMub3B0aW9ucz8uaG9zdCA/PyB0aGlzLmVsZW1lbnQsIHQ2KSA6IHRoaXMuXyRBSC5oYW5kbGVFdmVudCh0Nik7CiAgICB9CiAgfTsKICB2YXIgeiA9IGNsYXNzIHsKICAgIGNvbnN0cnVjdG9yKHQ2LCBpOCwgczQpIHsKICAgICAgdGhpcy5lbGVtZW50ID0gdDYsIHRoaXMudHlwZSA9IDYsIHRoaXMuXyRBTiA9IHZvaWQgMCwgdGhpcy5fJEFNID0gaTgsIHRoaXMub3B0aW9ucyA9IHM0OwogICAgfQogICAgZ2V0IF8kQVUoKSB7CiAgICAgIHJldHVybiB0aGlzLl8kQU0uXyRBVTsKICAgIH0KICAgIF8kQUkodDYpIHsKICAgICAgUzIodGhpcywgdDYpOwogICAgfQogIH07CiAgdmFyIFogPSB7IE06IGU1LCBQOiBoMiwgQTogbzUsIEM6IDEsIEw6IFYsIFI6IE0sIEQ6IHUyLCBWOiBTMiwgSTogUiwgSDogaywgTjogSSwgVTogTCwgQjogSCwgRjogeiB9OwogIHZhciBqID0gdDMubGl0SHRtbFBvbHlmaWxsU3VwcG9ydDsKICBqPy4oTiwgUiksICh0My5saXRIdG1sVmVyc2lvbnMgPz89IFtdKS5wdXNoKCIzLjMuMCIpOwogIHZhciBCID0gKHQ2LCBpOCwgczQpID0+IHsKICAgIGNvbnN0IGU4ID0gczQ/LnJlbmRlckJlZm9yZSA/PyBpODsKICAgIGxldCBoMyA9IGU4Ll8kbGl0UGFydCQ7CiAgICBpZiAodm9pZCAwID09PSBoMykgewogICAgICBjb25zdCB0NyA9IHM0Py5yZW5kZXJCZWZvcmUgPz8gbnVsbDsKICAgICAgZTguXyRsaXRQYXJ0JCA9IGgzID0gbmV3IFIoaTguaW5zZXJ0QmVmb3JlKGwyKCksIHQ3KSwgdDcsIHZvaWQgMCwgczQgPz8ge30pOwogICAgfQogICAgcmV0dXJuIGgzLl8kQUkodDYpLCBoMzsKICB9OwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vbGl0LWVsZW1lbnRANC4yLjAvbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2xpdC1lbGVtZW50LmpzCiAgdmFyIHMzID0gZ2xvYmFsVGhpczsKICB2YXIgaTQgPSBjbGFzcyBleHRlbmRzIHkgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMucmVuZGVyT3B0aW9ucyA9IHsgaG9zdDogdGhpcyB9LCB0aGlzLl8kRG8gPSB2b2lkIDA7CiAgICB9CiAgICBjcmVhdGVSZW5kZXJSb290KCkgewogICAgICBjb25zdCB0NiA9IHN1cGVyLmNyZWF0ZVJlbmRlclJvb3QoKTsKICAgICAgcmV0dXJuIHRoaXMucmVuZGVyT3B0aW9ucy5yZW5kZXJCZWZvcmUgPz89IHQ2LmZpcnN0Q2hpbGQsIHQ2OwogICAgfQogICAgdXBkYXRlKHQ2KSB7CiAgICAgIGNvbnN0IHI3ID0gdGhpcy5yZW5kZXIoKTsKICAgICAgdGhpcy5oYXNVcGRhdGVkIHx8ICh0aGlzLnJlbmRlck9wdGlvbnMuaXNDb25uZWN0ZWQgPSB0aGlzLmlzQ29ubmVjdGVkKSwgc3VwZXIudXBkYXRlKHQ2KSwgdGhpcy5fJERvID0gQihyNywgdGhpcy5yZW5kZXJSb290LCB0aGlzLnJlbmRlck9wdGlvbnMpOwogICAgfQogICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7CiAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCksIHRoaXMuXyREbz8uc2V0Q29ubmVjdGVkKHRydWUpOwogICAgfQogICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7CiAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCksIHRoaXMuXyREbz8uc2V0Q29ubmVjdGVkKGZhbHNlKTsKICAgIH0KICAgIHJlbmRlcigpIHsKICAgICAgcmV0dXJuIFQ7CiAgICB9CiAgfTsKICBpNC5fJGxpdEVsZW1lbnQkID0gdHJ1ZSwgaTRbImZpbmFsaXplZCJdID0gdHJ1ZSwgczMubGl0RWxlbWVudEh5ZHJhdGVTdXBwb3J0Py4oeyBMaXRFbGVtZW50OiBpNCB9KTsKICB2YXIgbzYgPSBzMy5saXRFbGVtZW50UG9seWZpbGxTdXBwb3J0OwogIG82Py4oeyBMaXRFbGVtZW50OiBpNCB9KTsKICAoczMubGl0RWxlbWVudFZlcnNpb25zID8/PSBbXSkucHVzaCgiNC4yLjAiKTsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL2xpdC1odG1sQDMuMy4wL25vZGVfbW9kdWxlcy9saXQtaHRtbC9pcy1zZXJ2ZXIuanMKICB2YXIgbzcgPSBmYWxzZTsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvZWxldmF0aW9uL2ludGVybmFsL2VsZXZhdGlvbi5qcwogIHZhciBFbGV2YXRpb24gPSBjbGFzcyBleHRlbmRzIGk0IHsKICAgIGNvbm5lY3RlZENhbGxiYWNrKCkgewogICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpOwogICAgICB0aGlzLnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCAidHJ1ZSIpOwogICAgfQogICAgcmVuZGVyKCkgewogICAgICByZXR1cm4geGA8c3BhbiBjbGFzcz0ic2hhZG93Ij48L3NwYW4+YDsKICAgIH0KICB9OwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9lbGV2YXRpb24vaW50ZXJuYWwvZWxldmF0aW9uLXN0eWxlcy5qcwogIHZhciBzdHlsZXMgPSBpYDpob3N0LC5zaGFkb3csLnNoYWRvdzo6YmVmb3JlLC5zaGFkb3c6OmFmdGVye2JvcmRlci1yYWRpdXM6aW5oZXJpdDtpbnNldDowO3Bvc2l0aW9uOmFic29sdXRlO3RyYW5zaXRpb24tZHVyYXRpb246aW5oZXJpdDt0cmFuc2l0aW9uLXByb3BlcnR5OmluaGVyaXQ7dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246aW5oZXJpdH06aG9zdHtkaXNwbGF5OmZsZXg7cG9pbnRlci1ldmVudHM6bm9uZTt0cmFuc2l0aW9uLXByb3BlcnR5OmJveC1zaGFkb3csb3BhY2l0eX0uc2hhZG93OjpiZWZvcmUsLnNoYWRvdzo6YWZ0ZXJ7Y29udGVudDoiIjt0cmFuc2l0aW9uLXByb3BlcnR5OmJveC1zaGFkb3csb3BhY2l0eTstLV9sZXZlbDogdmFyKC0tbWQtZWxldmF0aW9uLWxldmVsLCAwKTstLV9zaGFkb3ctY29sb3I6IHZhcigtLW1kLWVsZXZhdGlvbi1zaGFkb3ctY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1zaGFkb3csICMwMDApKX0uc2hhZG93OjpiZWZvcmV7Ym94LXNoYWRvdzowcHggY2FsYygxcHgqKGNsYW1wKDAsdmFyKC0tX2xldmVsKSwxKSArIGNsYW1wKDAsdmFyKC0tX2xldmVsKSAtIDMsMSkgKyAyKmNsYW1wKDAsdmFyKC0tX2xldmVsKSAtIDQsMSkpKSBjYWxjKDFweCooMipjbGFtcCgwLHZhcigtLV9sZXZlbCksMSkgKyBjbGFtcCgwLHZhcigtLV9sZXZlbCkgLSAyLDEpICsgY2xhbXAoMCx2YXIoLS1fbGV2ZWwpIC0gNCwxKSkpIDBweCB2YXIoLS1fc2hhZG93LWNvbG9yKTtvcGFjaXR5Oi4zfS5zaGFkb3c6OmFmdGVye2JveC1zaGFkb3c6MHB4IGNhbGMoMXB4KihjbGFtcCgwLHZhcigtLV9sZXZlbCksMSkgKyBjbGFtcCgwLHZhcigtLV9sZXZlbCkgLSAxLDEpICsgMipjbGFtcCgwLHZhcigtLV9sZXZlbCkgLSAyLDMpKSkgY2FsYygxcHgqKDMqY2xhbXAoMCx2YXIoLS1fbGV2ZWwpLDIpICsgMipjbGFtcCgwLHZhcigtLV9sZXZlbCkgLSAyLDMpKSkgY2FsYygxcHgqKGNsYW1wKDAsdmFyKC0tX2xldmVsKSw0KSArIDIqY2xhbXAoMCx2YXIoLS1fbGV2ZWwpIC0gNCwxKSkpIHZhcigtLV9zaGFkb3ctY29sb3IpO29wYWNpdHk6LjE1fQpgOwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9lbGV2YXRpb24vZWxldmF0aW9uLmpzCiAgdmFyIE1kRWxldmF0aW9uID0gY2xhc3MgTWRFbGV2YXRpb24yIGV4dGVuZHMgRWxldmF0aW9uIHsKICB9OwogIE1kRWxldmF0aW9uLnN0eWxlcyA9IFtzdHlsZXNdOwogIE1kRWxldmF0aW9uID0gX19kZWNvcmF0ZShbCiAgICB0KCJtZC1lbGV2YXRpb24iKQogIF0sIE1kRWxldmF0aW9uKTsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvaW50ZXJuYWwvY29udHJvbGxlci9hdHRhY2hhYmxlLWNvbnRyb2xsZXIuanMKICB2YXIgQVRUQUNIQUJMRV9DT05UUk9MTEVSID0gU3ltYm9sKCJhdHRhY2hhYmxlQ29udHJvbGxlciIpOwogIHZhciBGT1JfQVRUUklCVVRFX09CU0VSVkVSOwogIGlmICghbzcpIHsKICAgIEZPUl9BVFRSSUJVVEVfT0JTRVJWRVIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigocmVjb3JkcykgPT4gewogICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiByZWNvcmRzKSB7CiAgICAgICAgcmVjb3JkLnRhcmdldFtBVFRBQ0hBQkxFX0NPTlRST0xMRVJdPy5ob3N0Q29ubmVjdGVkKCk7CiAgICAgIH0KICAgIH0pOwogIH0KICB2YXIgQXR0YWNoYWJsZUNvbnRyb2xsZXIgPSBjbGFzcyB7CiAgICBnZXQgaHRtbEZvcigpIHsKICAgICAgcmV0dXJuIHRoaXMuaG9zdC5nZXRBdHRyaWJ1dGUoImZvciIpOwogICAgfQogICAgc2V0IGh0bWxGb3IoaHRtbEZvcikgewogICAgICBpZiAoaHRtbEZvciA9PT0gbnVsbCkgewogICAgICAgIHRoaXMuaG9zdC5yZW1vdmVBdHRyaWJ1dGUoImZvciIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaG9zdC5zZXRBdHRyaWJ1dGUoImZvciIsIGh0bWxGb3IpOwogICAgICB9CiAgICB9CiAgICBnZXQgY29udHJvbCgpIHsKICAgICAgaWYgKHRoaXMuaG9zdC5oYXNBdHRyaWJ1dGUoImZvciIpKSB7CiAgICAgICAgaWYgKCF0aGlzLmh0bWxGb3IgfHwgIXRoaXMuaG9zdC5pc0Nvbm5lY3RlZCkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLmhvc3QuZ2V0Um9vdE5vZGUoKS5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLmh0bWxGb3J9YCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuY3VycmVudENvbnRyb2wgfHwgdGhpcy5ob3N0LnBhcmVudEVsZW1lbnQ7CiAgICB9CiAgICBzZXQgY29udHJvbChjb250cm9sKSB7CiAgICAgIGlmIChjb250cm9sKSB7CiAgICAgICAgdGhpcy5hdHRhY2goY29udHJvbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kZXRhY2goKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbnRyb2xsZXIgZm9yIGFuIGBBdHRhY2hhYmxlYCBlbGVtZW50LgogICAgICoKICAgICAqIEBwYXJhbSBob3N0IFRoZSBgQXR0YWNoYWJsZWAgZWxlbWVudC4KICAgICAqIEBwYXJhbSBvbkNvbnRyb2xDaGFuZ2UgQSBjYWxsYmFjayB3aXRoIHR3byBwYXJhbWV0ZXJzIGZvciB0aGUgcHJldmlvdXMgYW5kCiAgICAgKiAgICAgbmV4dCBjb250cm9sLiBBbiBgQXR0YWNoYWJsZWAgZWxlbWVudCBtYXkgcGVyZm9ybSBzZXR1cCBvciB0ZWFyZG93bgogICAgICogICAgIGxvZ2ljIHdoZW5ldmVyIHRoZSBjb250cm9sIGNoYW5nZXMuCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKGhvc3QsIG9uQ29udHJvbENoYW5nZSkgewogICAgICB0aGlzLmhvc3QgPSBob3N0OwogICAgICB0aGlzLm9uQ29udHJvbENoYW5nZSA9IG9uQ29udHJvbENoYW5nZTsKICAgICAgdGhpcy5jdXJyZW50Q29udHJvbCA9IG51bGw7CiAgICAgIGhvc3QuYWRkQ29udHJvbGxlcih0aGlzKTsKICAgICAgaG9zdFtBVFRBQ0hBQkxFX0NPTlRST0xMRVJdID0gdGhpczsKICAgICAgRk9SX0FUVFJJQlVURV9PQlNFUlZFUj8ub2JzZXJ2ZShob3N0LCB7IGF0dHJpYnV0ZUZpbHRlcjogWyJmb3IiXSB9KTsKICAgIH0KICAgIGF0dGFjaChjb250cm9sKSB7CiAgICAgIGlmIChjb250cm9sID09PSB0aGlzLmN1cnJlbnRDb250cm9sKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuc2V0Q3VycmVudENvbnRyb2woY29udHJvbCk7CiAgICAgIHRoaXMuaG9zdC5yZW1vdmVBdHRyaWJ1dGUoImZvciIpOwogICAgfQogICAgZGV0YWNoKCkgewogICAgICB0aGlzLnNldEN1cnJlbnRDb250cm9sKG51bGwpOwogICAgICB0aGlzLmhvc3Quc2V0QXR0cmlidXRlKCJmb3IiLCAiIik7CiAgICB9CiAgICAvKiogQHByaXZhdGUgKi8KICAgIGhvc3RDb25uZWN0ZWQoKSB7CiAgICAgIHRoaXMuc2V0Q3VycmVudENvbnRyb2wodGhpcy5jb250cm9sKTsKICAgIH0KICAgIC8qKiBAcHJpdmF0ZSAqLwogICAgaG9zdERpc2Nvbm5lY3RlZCgpIHsKICAgICAgdGhpcy5zZXRDdXJyZW50Q29udHJvbChudWxsKTsKICAgIH0KICAgIHNldEN1cnJlbnRDb250cm9sKGNvbnRyb2wpIHsKICAgICAgdGhpcy5vbkNvbnRyb2xDaGFuZ2UodGhpcy5jdXJyZW50Q29udHJvbCwgY29udHJvbCk7CiAgICAgIHRoaXMuY3VycmVudENvbnRyb2wgPSBjb250cm9sOwogICAgfQogIH07CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL2ZvY3VzL2ludGVybmFsL2ZvY3VzLXJpbmcuanMKICB2YXIgRVZFTlRTID0gWyJmb2N1c2luIiwgImZvY3Vzb3V0IiwgInBvaW50ZXJkb3duIl07CiAgdmFyIEZvY3VzUmluZyA9IGNsYXNzIGV4dGVuZHMgaTQgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7CiAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLmlud2FyZCA9IGZhbHNlOwogICAgICB0aGlzLmF0dGFjaGFibGVDb250cm9sbGVyID0gbmV3IEF0dGFjaGFibGVDb250cm9sbGVyKHRoaXMsIHRoaXMub25Db250cm9sQ2hhbmdlLmJpbmQodGhpcykpOwogICAgfQogICAgZ2V0IGh0bWxGb3IoKSB7CiAgICAgIHJldHVybiB0aGlzLmF0dGFjaGFibGVDb250cm9sbGVyLmh0bWxGb3I7CiAgICB9CiAgICBzZXQgaHRtbEZvcihodG1sRm9yKSB7CiAgICAgIHRoaXMuYXR0YWNoYWJsZUNvbnRyb2xsZXIuaHRtbEZvciA9IGh0bWxGb3I7CiAgICB9CiAgICBnZXQgY29udHJvbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoYWJsZUNvbnRyb2xsZXIuY29udHJvbDsKICAgIH0KICAgIHNldCBjb250cm9sKGNvbnRyb2wpIHsKICAgICAgdGhpcy5hdHRhY2hhYmxlQ29udHJvbGxlci5jb250cm9sID0gY29udHJvbDsKICAgIH0KICAgIGF0dGFjaChjb250cm9sKSB7CiAgICAgIHRoaXMuYXR0YWNoYWJsZUNvbnRyb2xsZXIuYXR0YWNoKGNvbnRyb2wpOwogICAgfQogICAgZGV0YWNoKCkgewogICAgICB0aGlzLmF0dGFjaGFibGVDb250cm9sbGVyLmRldGFjaCgpOwogICAgfQogICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7CiAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7CiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCJhcmlhLWhpZGRlbiIsICJ0cnVlIik7CiAgICB9CiAgICAvKiogQHByaXZhdGUgKi8KICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7CiAgICAgIGlmIChldmVudFtIQU5ETEVEX0JZX0ZPQ1VTX1JJTkddKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkgewogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm47CiAgICAgICAgY2FzZSAiZm9jdXNpbiI6CiAgICAgICAgICB0aGlzLnZpc2libGUgPSB0aGlzLmNvbnRyb2w/Lm1hdGNoZXMoIjpmb2N1cy12aXNpYmxlIikgPz8gZmFsc2U7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJmb2N1c291dCI6CiAgICAgICAgY2FzZSAicG9pbnRlcmRvd24iOgogICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgICBldmVudFtIQU5ETEVEX0JZX0ZPQ1VTX1JJTkddID0gdHJ1ZTsKICAgIH0KICAgIG9uQ29udHJvbENoYW5nZShwcmV2LCBuZXh0KSB7CiAgICAgIGlmIChvNykKICAgICAgICByZXR1cm47CiAgICAgIGZvciAoY29uc3QgZXZlbnQgb2YgRVZFTlRTKSB7CiAgICAgICAgcHJldj8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcyk7CiAgICAgICAgbmV4dD8uYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcyk7CiAgICAgIH0KICAgIH0KICAgIHVwZGF0ZShjaGFuZ2VkKSB7CiAgICAgIGlmIChjaGFuZ2VkLmhhcygidmlzaWJsZSIpKSB7CiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgidmlzaWJpbGl0eS1jaGFuZ2VkIikpOwogICAgICB9CiAgICAgIHN1cGVyLnVwZGF0ZShjaGFuZ2VkKTsKICAgIH0KICB9OwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pCiAgXSwgRm9jdXNSaW5nLnByb3RvdHlwZSwgInZpc2libGUiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pCiAgXSwgRm9jdXNSaW5nLnByb3RvdHlwZSwgImlud2FyZCIsIHZvaWQgMCk7CiAgdmFyIEhBTkRMRURfQllfRk9DVVNfUklORyA9IFN5bWJvbCgiaGFuZGxlZEJ5Rm9jdXNSaW5nIik7CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL2ZvY3VzL2ludGVybmFsL2ZvY3VzLXJpbmctc3R5bGVzLmpzCiAgdmFyIHN0eWxlczIgPSBpYDpob3N0e2FuaW1hdGlvbi1kZWxheTowcyxjYWxjKHZhcigtLW1kLWZvY3VzLXJpbmctZHVyYXRpb24sIDYwMG1zKSouMjUpO2FuaW1hdGlvbi1kdXJhdGlvbjpjYWxjKHZhcigtLW1kLWZvY3VzLXJpbmctZHVyYXRpb24sIDYwMG1zKSouMjUpLGNhbGModmFyKC0tbWQtZm9jdXMtcmluZy1kdXJhdGlvbiwgNjAwbXMpKi43NSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4yLCAwLCAwLCAxKTtib3gtc2l6aW5nOmJvcmRlci1ib3g7Y29sb3I6dmFyKC0tbWQtZm9jdXMtcmluZy1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXNlY29uZGFyeSwgIzYyNWI3MSkpO2Rpc3BsYXk6bm9uZTtwb2ludGVyLWV2ZW50czpub25lO3Bvc2l0aW9uOmFic29sdXRlfTpob3N0KFt2aXNpYmxlXSl7ZGlzcGxheTpmbGV4fTpob3N0KDpub3QoW2lud2FyZF0pKXthbmltYXRpb24tbmFtZTpvdXR3YXJkLWdyb3csb3V0d2FyZC1zaHJpbms7Ym9yZGVyLWVuZC1lbmQtcmFkaXVzOmNhbGModmFyKC0tbWQtZm9jdXMtcmluZy1zaGFwZS1lbmQtZW5kLCB2YXIoLS1tZC1mb2N1cy1yaW5nLXNoYXBlLCB2YXIoLS1tZC1zeXMtc2hhcGUtY29ybmVyLWZ1bGwsIDk5OTlweCkpKSArIHZhcigtLW1kLWZvY3VzLXJpbmctb3V0d2FyZC1vZmZzZXQsIDJweCkpO2JvcmRlci1lbmQtc3RhcnQtcmFkaXVzOmNhbGModmFyKC0tbWQtZm9jdXMtcmluZy1zaGFwZS1lbmQtc3RhcnQsIHZhcigtLW1kLWZvY3VzLXJpbmctc2hhcGUsIHZhcigtLW1kLXN5cy1zaGFwZS1jb3JuZXItZnVsbCwgOTk5OXB4KSkpICsgdmFyKC0tbWQtZm9jdXMtcmluZy1vdXR3YXJkLW9mZnNldCwgMnB4KSk7Ym9yZGVyLXN0YXJ0LWVuZC1yYWRpdXM6Y2FsYyh2YXIoLS1tZC1mb2N1cy1yaW5nLXNoYXBlLXN0YXJ0LWVuZCwgdmFyKC0tbWQtZm9jdXMtcmluZy1zaGFwZSwgdmFyKC0tbWQtc3lzLXNoYXBlLWNvcm5lci1mdWxsLCA5OTk5cHgpKSkgKyB2YXIoLS1tZC1mb2N1cy1yaW5nLW91dHdhcmQtb2Zmc2V0LCAycHgpKTtib3JkZXItc3RhcnQtc3RhcnQtcmFkaXVzOmNhbGModmFyKC0tbWQtZm9jdXMtcmluZy1zaGFwZS1zdGFydC1zdGFydCwgdmFyKC0tbWQtZm9jdXMtcmluZy1zaGFwZSwgdmFyKC0tbWQtc3lzLXNoYXBlLWNvcm5lci1mdWxsLCA5OTk5cHgpKSkgKyB2YXIoLS1tZC1mb2N1cy1yaW5nLW91dHdhcmQtb2Zmc2V0LCAycHgpKTtpbnNldDpjYWxjKC0xKnZhcigtLW1kLWZvY3VzLXJpbmctb3V0d2FyZC1vZmZzZXQsIDJweCkpO291dGxpbmU6dmFyKC0tbWQtZm9jdXMtcmluZy13aWR0aCwgM3B4KSBzb2xpZCBjdXJyZW50Q29sb3J9Omhvc3QoW2lud2FyZF0pe2FuaW1hdGlvbi1uYW1lOmlud2FyZC1ncm93LGlud2FyZC1zaHJpbms7Ym9yZGVyLWVuZC1lbmQtcmFkaXVzOmNhbGModmFyKC0tbWQtZm9jdXMtcmluZy1zaGFwZS1lbmQtZW5kLCB2YXIoLS1tZC1mb2N1cy1yaW5nLXNoYXBlLCB2YXIoLS1tZC1zeXMtc2hhcGUtY29ybmVyLWZ1bGwsIDk5OTlweCkpKSAtIHZhcigtLW1kLWZvY3VzLXJpbmctaW53YXJkLW9mZnNldCwgMHB4KSk7Ym9yZGVyLWVuZC1zdGFydC1yYWRpdXM6Y2FsYyh2YXIoLS1tZC1mb2N1cy1yaW5nLXNoYXBlLWVuZC1zdGFydCwgdmFyKC0tbWQtZm9jdXMtcmluZy1zaGFwZSwgdmFyKC0tbWQtc3lzLXNoYXBlLWNvcm5lci1mdWxsLCA5OTk5cHgpKSkgLSB2YXIoLS1tZC1mb2N1cy1yaW5nLWlud2FyZC1vZmZzZXQsIDBweCkpO2JvcmRlci1zdGFydC1lbmQtcmFkaXVzOmNhbGModmFyKC0tbWQtZm9jdXMtcmluZy1zaGFwZS1zdGFydC1lbmQsIHZhcigtLW1kLWZvY3VzLXJpbmctc2hhcGUsIHZhcigtLW1kLXN5cy1zaGFwZS1jb3JuZXItZnVsbCwgOTk5OXB4KSkpIC0gdmFyKC0tbWQtZm9jdXMtcmluZy1pbndhcmQtb2Zmc2V0LCAwcHgpKTtib3JkZXItc3RhcnQtc3RhcnQtcmFkaXVzOmNhbGModmFyKC0tbWQtZm9jdXMtcmluZy1zaGFwZS1zdGFydC1zdGFydCwgdmFyKC0tbWQtZm9jdXMtcmluZy1zaGFwZSwgdmFyKC0tbWQtc3lzLXNoYXBlLWNvcm5lci1mdWxsLCA5OTk5cHgpKSkgLSB2YXIoLS1tZC1mb2N1cy1yaW5nLWlud2FyZC1vZmZzZXQsIDBweCkpO2JvcmRlcjp2YXIoLS1tZC1mb2N1cy1yaW5nLXdpZHRoLCAzcHgpIHNvbGlkIGN1cnJlbnRDb2xvcjtpbnNldDp2YXIoLS1tZC1mb2N1cy1yaW5nLWlud2FyZC1vZmZzZXQsIDBweCl9QGtleWZyYW1lcyBvdXR3YXJkLWdyb3d7ZnJvbXtvdXRsaW5lLXdpZHRoOjB9dG97b3V0bGluZS13aWR0aDp2YXIoLS1tZC1mb2N1cy1yaW5nLWFjdGl2ZS13aWR0aCwgOHB4KX19QGtleWZyYW1lcyBvdXR3YXJkLXNocmlua3tmcm9te291dGxpbmUtd2lkdGg6dmFyKC0tbWQtZm9jdXMtcmluZy1hY3RpdmUtd2lkdGgsIDhweCl9fUBrZXlmcmFtZXMgaW53YXJkLWdyb3d7ZnJvbXtib3JkZXItd2lkdGg6MH10b3tib3JkZXItd2lkdGg6dmFyKC0tbWQtZm9jdXMtcmluZy1hY3RpdmUtd2lkdGgsIDhweCl9fUBrZXlmcmFtZXMgaW53YXJkLXNocmlua3tmcm9te2JvcmRlci13aWR0aDp2YXIoLS1tZC1mb2N1cy1yaW5nLWFjdGl2ZS13aWR0aCwgOHB4KX19QG1lZGlhKHByZWZlcnMtcmVkdWNlZC1tb3Rpb24pezpob3N0e2FuaW1hdGlvbjpub25lfX0KYDsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvZm9jdXMvbWQtZm9jdXMtcmluZy5qcwogIHZhciBNZEZvY3VzUmluZyA9IGNsYXNzIE1kRm9jdXNSaW5nMiBleHRlbmRzIEZvY3VzUmluZyB7CiAgfTsKICBNZEZvY3VzUmluZy5zdHlsZXMgPSBbc3R5bGVzMl07CiAgTWRGb2N1c1JpbmcgPSBfX2RlY29yYXRlKFsKICAgIHQoIm1kLWZvY3VzLXJpbmciKQogIF0sIE1kRm9jdXNSaW5nKTsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL2xpdC1odG1sQDMuMy4wL25vZGVfbW9kdWxlcy9saXQtaHRtbC9kaXJlY3RpdmUuanMKICB2YXIgdDQgPSB7IEFUVFJJQlVURTogMSwgQ0hJTEQ6IDIsIFBST1BFUlRZOiAzLCBCT09MRUFOX0FUVFJJQlVURTogNCwgRVZFTlQ6IDUsIEVMRU1FTlQ6IDYgfTsKICB2YXIgZTYgPSAodDYpID0+ICguLi5lOCkgPT4gKHsgXyRsaXREaXJlY3RpdmUkOiB0NiwgdmFsdWVzOiBlOCB9KTsKICB2YXIgaTUgPSBjbGFzcyB7CiAgICBjb25zdHJ1Y3Rvcih0NikgewogICAgfQogICAgZ2V0IF8kQVUoKSB7CiAgICAgIHJldHVybiB0aGlzLl8kQU0uXyRBVTsKICAgIH0KICAgIF8kQVQodDYsIGU4LCBpOCkgewogICAgICB0aGlzLl8kQ3QgPSB0NiwgdGhpcy5fJEFNID0gZTgsIHRoaXMuXyRDaSA9IGk4OwogICAgfQogICAgXyRBUyh0NiwgZTgpIHsKICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKHQ2LCBlOCk7CiAgICB9CiAgICB1cGRhdGUodDYsIGU4KSB7CiAgICAgIHJldHVybiB0aGlzLnJlbmRlciguLi5lOCk7CiAgICB9CiAgfTsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL2xpdC1odG1sQDMuMy4wL25vZGVfbW9kdWxlcy9saXQtaHRtbC9kaXJlY3RpdmVzL2NsYXNzLW1hcC5qcwogIHZhciBlNyA9IGU2KGNsYXNzIGV4dGVuZHMgaTUgewogICAgY29uc3RydWN0b3IodDYpIHsKICAgICAgaWYgKHN1cGVyKHQ2KSwgdDYudHlwZSAhPT0gdDQuQVRUUklCVVRFIHx8ICJjbGFzcyIgIT09IHQ2Lm5hbWUgfHwgdDYuc3RyaW5ncz8ubGVuZ3RoID4gMikgdGhyb3cgRXJyb3IoImBjbGFzc01hcCgpYCBjYW4gb25seSBiZSB1c2VkIGluIHRoZSBgY2xhc3NgIGF0dHJpYnV0ZSBhbmQgbXVzdCBiZSB0aGUgb25seSBwYXJ0IGluIHRoZSBhdHRyaWJ1dGUuIik7CiAgICB9CiAgICByZW5kZXIodDYpIHsKICAgICAgcmV0dXJuICIgIiArIE9iamVjdC5rZXlzKHQ2KS5maWx0ZXIoKHM0KSA9PiB0NltzNF0pLmpvaW4oIiAiKSArICIgIjsKICAgIH0KICAgIHVwZGF0ZShzNCwgW2k4XSkgewogICAgICBpZiAodm9pZCAwID09PSB0aGlzLnN0KSB7CiAgICAgICAgdGhpcy5zdCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksIHZvaWQgMCAhPT0gczQuc3RyaW5ncyAmJiAodGhpcy5udCA9IG5ldyBTZXQoczQuc3RyaW5ncy5qb2luKCIgIikuc3BsaXQoL1xzLykuZmlsdGVyKCh0NikgPT4gIiIgIT09IHQ2KSkpOwogICAgICAgIGZvciAoY29uc3QgdDYgaW4gaTgpIGk4W3Q2XSAmJiAhdGhpcy5udD8uaGFzKHQ2KSAmJiB0aGlzLnN0LmFkZCh0Nik7CiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKGk4KTsKICAgICAgfQogICAgICBjb25zdCByNyA9IHM0LmVsZW1lbnQuY2xhc3NMaXN0OwogICAgICBmb3IgKGNvbnN0IHQ2IG9mIHRoaXMuc3QpIHQ2IGluIGk4IHx8IChyNy5yZW1vdmUodDYpLCB0aGlzLnN0LmRlbGV0ZSh0NikpOwogICAgICBmb3IgKGNvbnN0IHQ2IGluIGk4KSB7CiAgICAgICAgY29uc3QgczUgPSAhIWk4W3Q2XTsKICAgICAgICBzNSA9PT0gdGhpcy5zdC5oYXModDYpIHx8IHRoaXMubnQ/Lmhhcyh0NikgfHwgKHM1ID8gKHI3LmFkZCh0NiksIHRoaXMuc3QuYWRkKHQ2KSkgOiAocjcucmVtb3ZlKHQ2KSwgdGhpcy5zdC5kZWxldGUodDYpKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIFQ7CiAgICB9CiAgfSk7CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL2ludGVybmFsL21vdGlvbi9hbmltYXRpb24uanMKICB2YXIgRUFTSU5HID0gewogICAgU1RBTkRBUkQ6ICJjdWJpYy1iZXppZXIoMC4yLCAwLCAwLCAxKSIsCiAgICBTVEFOREFSRF9BQ0NFTEVSQVRFOiAiY3ViaWMtYmV6aWVyKC4zLDAsMSwxKSIsCiAgICBTVEFOREFSRF9ERUNFTEVSQVRFOiAiY3ViaWMtYmV6aWVyKDAsMCwwLDEpIiwKICAgIEVNUEhBU0laRUQ6ICJjdWJpYy1iZXppZXIoLjMsMCwwLDEpIiwKICAgIEVNUEhBU0laRURfQUNDRUxFUkFURTogImN1YmljLWJlemllciguMywwLC44LC4xNSkiLAogICAgRU1QSEFTSVpFRF9ERUNFTEVSQVRFOiAiY3ViaWMtYmV6aWVyKC4wNSwuNywuMSwxKSIKICB9OwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9yaXBwbGUvaW50ZXJuYWwvcmlwcGxlLmpzCiAgdmFyIFBSRVNTX0dST1dfTVMgPSA0NTA7CiAgdmFyIE1JTklNVU1fUFJFU1NfTVMgPSAyMjU7CiAgdmFyIElOSVRJQUxfT1JJR0lOX1NDQUxFID0gMC4yOwogIHZhciBQQURESU5HID0gMTA7CiAgdmFyIFNPRlRfRURHRV9NSU5JTVVNX1NJWkUgPSA3NTsKICB2YXIgU09GVF9FREdFX0NPTlRBSU5FUl9SQVRJTyA9IDAuMzU7CiAgdmFyIFBSRVNTX1BTRVVETyA9ICI6OmFmdGVyIjsKICB2YXIgQU5JTUFUSU9OX0ZJTEwgPSAiZm9yd2FyZHMiOwogIHZhciBTdGF0ZTsKICAoZnVuY3Rpb24oU3RhdGUyKSB7CiAgICBTdGF0ZTJbU3RhdGUyWyJJTkFDVElWRSJdID0gMF0gPSAiSU5BQ1RJVkUiOwogICAgU3RhdGUyW1N0YXRlMlsiVE9VQ0hfREVMQVkiXSA9IDFdID0gIlRPVUNIX0RFTEFZIjsKICAgIFN0YXRlMltTdGF0ZTJbIkhPTERJTkciXSA9IDJdID0gIkhPTERJTkciOwogICAgU3RhdGUyW1N0YXRlMlsiV0FJVElOR19GT1JfQ0xJQ0siXSA9IDNdID0gIldBSVRJTkdfRk9SX0NMSUNLIjsKICB9KShTdGF0ZSB8fCAoU3RhdGUgPSB7fSkpOwogIHZhciBFVkVOVFMyID0gWwogICAgImNsaWNrIiwKICAgICJjb250ZXh0bWVudSIsCiAgICAicG9pbnRlcmNhbmNlbCIsCiAgICAicG9pbnRlcmRvd24iLAogICAgInBvaW50ZXJlbnRlciIsCiAgICAicG9pbnRlcmxlYXZlIiwKICAgICJwb2ludGVydXAiCiAgXTsKICB2YXIgVE9VQ0hfREVMQVlfTVMgPSAxNTA7CiAgdmFyIEZPUkNFRF9DT0xPUlMgPSBvNyA/IG51bGwgOiB3aW5kb3cubWF0Y2hNZWRpYSgiKGZvcmNlZC1jb2xvcnM6IGFjdGl2ZSkiKTsKICB2YXIgUmlwcGxlID0gY2xhc3MgZXh0ZW5kcyBpNCB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTsKICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlOwogICAgICB0aGlzLmhvdmVyZWQgPSBmYWxzZTsKICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7CiAgICAgIHRoaXMucmlwcGxlU2l6ZSA9ICIiOwogICAgICB0aGlzLnJpcHBsZVNjYWxlID0gIiI7CiAgICAgIHRoaXMuaW5pdGlhbFNpemUgPSAwOwogICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSU5BQ1RJVkU7CiAgICAgIHRoaXMuY2hlY2tCb3VuZHNBZnRlckNvbnRleHRNZW51ID0gZmFsc2U7CiAgICAgIHRoaXMuYXR0YWNoYWJsZUNvbnRyb2xsZXIgPSBuZXcgQXR0YWNoYWJsZUNvbnRyb2xsZXIodGhpcywgdGhpcy5vbkNvbnRyb2xDaGFuZ2UuYmluZCh0aGlzKSk7CiAgICB9CiAgICBnZXQgaHRtbEZvcigpIHsKICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoYWJsZUNvbnRyb2xsZXIuaHRtbEZvcjsKICAgIH0KICAgIHNldCBodG1sRm9yKGh0bWxGb3IpIHsKICAgICAgdGhpcy5hdHRhY2hhYmxlQ29udHJvbGxlci5odG1sRm9yID0gaHRtbEZvcjsKICAgIH0KICAgIGdldCBjb250cm9sKCkgewogICAgICByZXR1cm4gdGhpcy5hdHRhY2hhYmxlQ29udHJvbGxlci5jb250cm9sOwogICAgfQogICAgc2V0IGNvbnRyb2woY29udHJvbCkgewogICAgICB0aGlzLmF0dGFjaGFibGVDb250cm9sbGVyLmNvbnRyb2wgPSBjb250cm9sOwogICAgfQogICAgYXR0YWNoKGNvbnRyb2wpIHsKICAgICAgdGhpcy5hdHRhY2hhYmxlQ29udHJvbGxlci5hdHRhY2goY29udHJvbCk7CiAgICB9CiAgICBkZXRhY2goKSB7CiAgICAgIHRoaXMuYXR0YWNoYWJsZUNvbnRyb2xsZXIuZGV0YWNoKCk7CiAgICB9CiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHsKICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTsKICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwgInRydWUiKTsKICAgIH0KICAgIHJlbmRlcigpIHsKICAgICAgY29uc3QgY2xhc3NlcyA9IHsKICAgICAgICAiaG92ZXJlZCI6IHRoaXMuaG92ZXJlZCwKICAgICAgICAicHJlc3NlZCI6IHRoaXMucHJlc3NlZAogICAgICB9OwogICAgICByZXR1cm4geGA8ZGl2IGNsYXNzPSJzdXJmYWNlICR7ZTcoY2xhc3Nlcyl9Ij48L2Rpdj5gOwogICAgfQogICAgdXBkYXRlKGNoYW5nZWRQcm9wcykgewogICAgICBpZiAoY2hhbmdlZFByb3BzLmhhcygiZGlzYWJsZWQiKSAmJiB0aGlzLmRpc2FibGVkKSB7CiAgICAgICAgdGhpcy5ob3ZlcmVkID0gZmFsc2U7CiAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7CiAgICAgIH0KICAgICAgc3VwZXIudXBkYXRlKGNoYW5nZWRQcm9wcyk7CiAgICB9CiAgICAvKioKICAgICAqIFRPRE8oYi8yNjk3OTk3NzEpOiBtYWtlIHByaXZhdGUKICAgICAqIEBwcml2YXRlIG9ubHkgcHVibGljIGZvciBzbGlkZXIKICAgICAqLwogICAgaGFuZGxlUG9pbnRlcmVudGVyKGV2ZW50KSB7CiAgICAgIGlmICghdGhpcy5zaG91bGRSZWFjdFRvRXZlbnQoZXZlbnQpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuaG92ZXJlZCA9IHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIFRPRE8oYi8yNjk3OTk3NzEpOiBtYWtlIHByaXZhdGUKICAgICAqIEBwcml2YXRlIG9ubHkgcHVibGljIGZvciBzbGlkZXIKICAgICAqLwogICAgaGFuZGxlUG9pbnRlcmxlYXZlKGV2ZW50KSB7CiAgICAgIGlmICghdGhpcy5zaG91bGRSZWFjdFRvRXZlbnQoZXZlbnQpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuaG92ZXJlZCA9IGZhbHNlOwogICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gU3RhdGUuSU5BQ1RJVkUpIHsKICAgICAgICB0aGlzLmVuZFByZXNzQW5pbWF0aW9uKCk7CiAgICAgIH0KICAgIH0KICAgIGhhbmRsZVBvaW50ZXJ1cChldmVudCkgewogICAgICBpZiAoIXRoaXMuc2hvdWxkUmVhY3RUb0V2ZW50KGV2ZW50KSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuSE9MRElORykgewogICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5XQUlUSU5HX0ZPUl9DTElDSzsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFN0YXRlLlRPVUNIX0RFTEFZKSB7CiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLldBSVRJTkdfRk9SX0NMSUNLOwogICAgICAgIHRoaXMuc3RhcnRQcmVzc0FuaW1hdGlvbih0aGlzLnJpcHBsZVN0YXJ0RXZlbnQpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfQogICAgYXN5bmMgaGFuZGxlUG9pbnRlcmRvd24oZXZlbnQpIHsKICAgICAgaWYgKCF0aGlzLnNob3VsZFJlYWN0VG9FdmVudChldmVudCkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5yaXBwbGVTdGFydEV2ZW50ID0gZXZlbnQ7CiAgICAgIGlmICghdGhpcy5pc1RvdWNoKGV2ZW50KSkgewogICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5XQUlUSU5HX0ZPUl9DTElDSzsKICAgICAgICB0aGlzLnN0YXJ0UHJlc3NBbmltYXRpb24oZXZlbnQpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5jaGVja0JvdW5kc0FmdGVyQ29udGV4dE1lbnUgJiYgIXRoaXMuaW5Cb3VuZHMoZXZlbnQpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuY2hlY2tCb3VuZHNBZnRlckNvbnRleHRNZW51ID0gZmFsc2U7CiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5UT1VDSF9ERUxBWTsKICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIFRPVUNIX0RFTEFZX01TKTsKICAgICAgfSk7CiAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTdGF0ZS5UT1VDSF9ERUxBWSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSE9MRElORzsKICAgICAgdGhpcy5zdGFydFByZXNzQW5pbWF0aW9uKGV2ZW50KTsKICAgIH0KICAgIGhhbmRsZUNsaWNrKCkgewogICAgICBpZiAodGhpcy5kaXNhYmxlZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuV0FJVElOR19GT1JfQ0xJQ0spIHsKICAgICAgICB0aGlzLmVuZFByZXNzQW5pbWF0aW9uKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0aGlzLnN0YXRlID09PSBTdGF0ZS5JTkFDVElWRSkgewogICAgICAgIHRoaXMuc3RhcnRQcmVzc0FuaW1hdGlvbigpOwogICAgICAgIHRoaXMuZW5kUHJlc3NBbmltYXRpb24oKTsKICAgICAgfQogICAgfQogICAgaGFuZGxlUG9pbnRlcmNhbmNlbChldmVudCkgewogICAgICBpZiAoIXRoaXMuc2hvdWxkUmVhY3RUb0V2ZW50KGV2ZW50KSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmVuZFByZXNzQW5pbWF0aW9uKCk7CiAgICB9CiAgICBoYW5kbGVDb250ZXh0bWVudSgpIHsKICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5jaGVja0JvdW5kc0FmdGVyQ29udGV4dE1lbnUgPSB0cnVlOwogICAgICB0aGlzLmVuZFByZXNzQW5pbWF0aW9uKCk7CiAgICB9CiAgICBkZXRlcm1pbmVSaXBwbGVTaXplKCkgewogICAgICBjb25zdCB7IGhlaWdodCwgd2lkdGggfSA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIGNvbnN0IG1heERpbSA9IE1hdGgubWF4KGhlaWdodCwgd2lkdGgpOwogICAgICBjb25zdCBzb2Z0RWRnZVNpemUgPSBNYXRoLm1heChTT0ZUX0VER0VfQ09OVEFJTkVSX1JBVElPICogbWF4RGltLCBTT0ZUX0VER0VfTUlOSU1VTV9TSVpFKTsKICAgICAgY29uc3QgaW5pdGlhbFNpemUgPSBNYXRoLmZsb29yKG1heERpbSAqIElOSVRJQUxfT1JJR0lOX1NDQUxFKTsKICAgICAgY29uc3QgaHlwb3RlbnVzZSA9IE1hdGguc3FydCh3aWR0aCAqKiAyICsgaGVpZ2h0ICoqIDIpOwogICAgICBjb25zdCBtYXhSYWRpdXMgPSBoeXBvdGVudXNlICsgUEFERElORzsKICAgICAgdGhpcy5pbml0aWFsU2l6ZSA9IGluaXRpYWxTaXplOwogICAgICB0aGlzLnJpcHBsZVNjYWxlID0gYCR7KG1heFJhZGl1cyArIHNvZnRFZGdlU2l6ZSkgLyBpbml0aWFsU2l6ZX1gOwogICAgICB0aGlzLnJpcHBsZVNpemUgPSBgJHtpbml0aWFsU2l6ZX1weGA7CiAgICB9CiAgICBnZXROb3JtYWxpemVkUG9pbnRlckV2ZW50Q29vcmRzKHBvaW50ZXJFdmVudCkgewogICAgICBjb25zdCB7IHNjcm9sbFgsIHNjcm9sbFkgfSA9IHdpbmRvdzsKICAgICAgY29uc3QgeyBsZWZ0LCB0b3AgfSA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIGNvbnN0IGRvY3VtZW50WCA9IHNjcm9sbFggKyBsZWZ0OwogICAgICBjb25zdCBkb2N1bWVudFkgPSBzY3JvbGxZICsgdG9wOwogICAgICBjb25zdCB7IHBhZ2VYLCBwYWdlWSB9ID0gcG9pbnRlckV2ZW50OwogICAgICByZXR1cm4geyB4OiBwYWdlWCAtIGRvY3VtZW50WCwgeTogcGFnZVkgLSBkb2N1bWVudFkgfTsKICAgIH0KICAgIGdldFRyYW5zbGF0aW9uQ29vcmRpbmF0ZXMocG9zaXRpb25FdmVudCkgewogICAgICBjb25zdCB7IGhlaWdodCwgd2lkdGggfSA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIGNvbnN0IGVuZFBvaW50ID0gewogICAgICAgIHg6ICh3aWR0aCAtIHRoaXMuaW5pdGlhbFNpemUpIC8gMiwKICAgICAgICB5OiAoaGVpZ2h0IC0gdGhpcy5pbml0aWFsU2l6ZSkgLyAyCiAgICAgIH07CiAgICAgIGxldCBzdGFydFBvaW50OwogICAgICBpZiAocG9zaXRpb25FdmVudCBpbnN0YW5jZW9mIFBvaW50ZXJFdmVudCkgewogICAgICAgIHN0YXJ0UG9pbnQgPSB0aGlzLmdldE5vcm1hbGl6ZWRQb2ludGVyRXZlbnRDb29yZHMocG9zaXRpb25FdmVudCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RhcnRQb2ludCA9IHsKICAgICAgICAgIHg6IHdpZHRoIC8gMiwKICAgICAgICAgIHk6IGhlaWdodCAvIDIKICAgICAgICB9OwogICAgICB9CiAgICAgIHN0YXJ0UG9pbnQgPSB7CiAgICAgICAgeDogc3RhcnRQb2ludC54IC0gdGhpcy5pbml0aWFsU2l6ZSAvIDIsCiAgICAgICAgeTogc3RhcnRQb2ludC55IC0gdGhpcy5pbml0aWFsU2l6ZSAvIDIKICAgICAgfTsKICAgICAgcmV0dXJuIHsgc3RhcnRQb2ludCwgZW5kUG9pbnQgfTsKICAgIH0KICAgIHN0YXJ0UHJlc3NBbmltYXRpb24ocG9zaXRpb25FdmVudCkgewogICAgICBpZiAoIXRoaXMubWRSb290KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMucHJlc3NlZCA9IHRydWU7CiAgICAgIHRoaXMuZ3Jvd0FuaW1hdGlvbj8uY2FuY2VsKCk7CiAgICAgIHRoaXMuZGV0ZXJtaW5lUmlwcGxlU2l6ZSgpOwogICAgICBjb25zdCB7IHN0YXJ0UG9pbnQsIGVuZFBvaW50IH0gPSB0aGlzLmdldFRyYW5zbGF0aW9uQ29vcmRpbmF0ZXMocG9zaXRpb25FdmVudCk7CiAgICAgIGNvbnN0IHRyYW5zbGF0ZVN0YXJ0ID0gYCR7c3RhcnRQb2ludC54fXB4LCAke3N0YXJ0UG9pbnQueX1weGA7CiAgICAgIGNvbnN0IHRyYW5zbGF0ZUVuZCA9IGAke2VuZFBvaW50Lnh9cHgsICR7ZW5kUG9pbnQueX1weGA7CiAgICAgIHRoaXMuZ3Jvd0FuaW1hdGlvbiA9IHRoaXMubWRSb290LmFuaW1hdGUoewogICAgICAgIHRvcDogWzAsIDBdLAogICAgICAgIGxlZnQ6IFswLCAwXSwKICAgICAgICBoZWlnaHQ6IFt0aGlzLnJpcHBsZVNpemUsIHRoaXMucmlwcGxlU2l6ZV0sCiAgICAgICAgd2lkdGg6IFt0aGlzLnJpcHBsZVNpemUsIHRoaXMucmlwcGxlU2l6ZV0sCiAgICAgICAgdHJhbnNmb3JtOiBbCiAgICAgICAgICBgdHJhbnNsYXRlKCR7dHJhbnNsYXRlU3RhcnR9KSBzY2FsZSgxKWAsCiAgICAgICAgICBgdHJhbnNsYXRlKCR7dHJhbnNsYXRlRW5kfSkgc2NhbGUoJHt0aGlzLnJpcHBsZVNjYWxlfSlgCiAgICAgICAgXQogICAgICB9LCB7CiAgICAgICAgcHNldWRvRWxlbWVudDogUFJFU1NfUFNFVURPLAogICAgICAgIGR1cmF0aW9uOiBQUkVTU19HUk9XX01TLAogICAgICAgIGVhc2luZzogRUFTSU5HLlNUQU5EQVJELAogICAgICAgIGZpbGw6IEFOSU1BVElPTl9GSUxMCiAgICAgIH0pOwogICAgfQogICAgYXN5bmMgZW5kUHJlc3NBbmltYXRpb24oKSB7CiAgICAgIHRoaXMucmlwcGxlU3RhcnRFdmVudCA9IHZvaWQgMDsKICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklOQUNUSVZFOwogICAgICBjb25zdCBhbmltYXRpb24gPSB0aGlzLmdyb3dBbmltYXRpb247CiAgICAgIGxldCBwcmVzc0FuaW1hdGlvblBsYXlTdGF0ZSA9IEluZmluaXR5OwogICAgICBpZiAodHlwZW9mIGFuaW1hdGlvbj8uY3VycmVudFRpbWUgPT09ICJudW1iZXIiKSB7CiAgICAgICAgcHJlc3NBbmltYXRpb25QbGF5U3RhdGUgPSBhbmltYXRpb24uY3VycmVudFRpbWU7CiAgICAgIH0gZWxzZSBpZiAoYW5pbWF0aW9uPy5jdXJyZW50VGltZSkgewogICAgICAgIHByZXNzQW5pbWF0aW9uUGxheVN0YXRlID0gYW5pbWF0aW9uLmN1cnJlbnRUaW1lLnRvKCJtcyIpLnZhbHVlOwogICAgICB9CiAgICAgIGlmIChwcmVzc0FuaW1hdGlvblBsYXlTdGF0ZSA+PSBNSU5JTVVNX1BSRVNTX01TKSB7CiAgICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCBNSU5JTVVNX1BSRVNTX01TIC0gcHJlc3NBbmltYXRpb25QbGF5U3RhdGUpOwogICAgICB9KTsKICAgICAgaWYgKHRoaXMuZ3Jvd0FuaW1hdGlvbiAhPT0gYW5pbWF0aW9uKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZgogICAgICogIC0gdGhlIHJpcHBsZSBlbGVtZW50IGlzIGVuYWJsZWQKICAgICAqICAtIHRoZSBwb2ludGVyIGlzIHByaW1hcnkgZm9yIHRoZSBpbnB1dCB0eXBlCiAgICAgKiAgLSB0aGUgcG9pbnRlciBpcyB0aGUgcG9pbnRlciB0aGF0IHN0YXJ0ZWQgdGhlIGludGVyYWN0aW9uLCBvciB3aWxsIHN0YXJ0CiAgICAgKiB0aGUgaW50ZXJhY3Rpb24KICAgICAqICAtIHRoZSBwb2ludGVyIGlzIGEgdG91Y2gsIG9yIHRoZSBwb2ludGVyIHN0YXRlIGhhcyB0aGUgcHJpbWFyeSBidXR0b24KICAgICAqIGhlbGQsIG9yIHRoZSBwb2ludGVyIGlzIGhvdmVyaW5nCiAgICAgKi8KICAgIHNob3VsZFJlYWN0VG9FdmVudChldmVudCkgewogICAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCAhZXZlbnQuaXNQcmltYXJ5KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGlmICh0aGlzLnJpcHBsZVN0YXJ0RXZlbnQgJiYgdGhpcy5yaXBwbGVTdGFydEV2ZW50LnBvaW50ZXJJZCAhPT0gZXZlbnQucG9pbnRlcklkKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGlmIChldmVudC50eXBlID09PSAicG9pbnRlcmVudGVyIiB8fCBldmVudC50eXBlID09PSAicG9pbnRlcmxlYXZlIikgewogICAgICAgIHJldHVybiAhdGhpcy5pc1RvdWNoKGV2ZW50KTsKICAgICAgfQogICAgICBjb25zdCBpc1ByaW1hcnlCdXR0b24gPSBldmVudC5idXR0b25zID09PSAxOwogICAgICByZXR1cm4gdGhpcy5pc1RvdWNoKGV2ZW50KSB8fCBpc1ByaW1hcnlCdXR0b247CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIHRoZSBldmVudCBpcyB3aXRoaW4gdGhlIGJvdW5kcyBvZiB0aGUgZWxlbWVudC4KICAgICAqCiAgICAgKiBUaGlzIGlzIG9ubHkgbmVlZGVkIGZvciB0aGUgInN0dWNrIiBjb250ZXh0bWVudSBsb25ncHJlc3Mgb24gQ2hyb21lLgogICAgICovCiAgICBpbkJvdW5kcyh7IHg6IHgyLCB5OiB5MyB9KSB7CiAgICAgIGNvbnN0IHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0IH0gPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICByZXR1cm4geDIgPj0gbGVmdCAmJiB4MiA8PSByaWdodCAmJiB5MyA+PSB0b3AgJiYgeTMgPD0gYm90dG9tOwogICAgfQogICAgaXNUb3VjaCh7IHBvaW50ZXJUeXBlIH0pIHsKICAgICAgcmV0dXJuIHBvaW50ZXJUeXBlID09PSAidG91Y2giOwogICAgfQogICAgLyoqIEBwcml2YXRlICovCiAgICBhc3luYyBoYW5kbGVFdmVudChldmVudCkgewogICAgICBpZiAoRk9SQ0VEX0NPTE9SUz8ubWF0Y2hlcykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHsKICAgICAgICBjYXNlICJjbGljayI6CiAgICAgICAgICB0aGlzLmhhbmRsZUNsaWNrKCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJjb250ZXh0bWVudSI6CiAgICAgICAgICB0aGlzLmhhbmRsZUNvbnRleHRtZW51KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJwb2ludGVyY2FuY2VsIjoKICAgICAgICAgIHRoaXMuaGFuZGxlUG9pbnRlcmNhbmNlbChldmVudCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJwb2ludGVyZG93biI6CiAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZVBvaW50ZXJkb3duKGV2ZW50KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgInBvaW50ZXJlbnRlciI6CiAgICAgICAgICB0aGlzLmhhbmRsZVBvaW50ZXJlbnRlcihldmVudCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJwb2ludGVybGVhdmUiOgogICAgICAgICAgdGhpcy5oYW5kbGVQb2ludGVybGVhdmUoZXZlbnQpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicG9pbnRlcnVwIjoKICAgICAgICAgIHRoaXMuaGFuZGxlUG9pbnRlcnVwKGV2ZW50KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogICAgb25Db250cm9sQ2hhbmdlKHByZXYsIG5leHQpIHsKICAgICAgaWYgKG83KQogICAgICAgIHJldHVybjsKICAgICAgZm9yIChjb25zdCBldmVudCBvZiBFVkVOVFMyKSB7CiAgICAgICAgcHJldj8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcyk7CiAgICAgICAgbmV4dD8uYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcyk7CiAgICAgIH0KICAgIH0KICB9OwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pCiAgXSwgUmlwcGxlLnByb3RvdHlwZSwgImRpc2FibGVkIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIHI0KCkKICBdLCBSaXBwbGUucHJvdG90eXBlLCAiaG92ZXJlZCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICByNCgpCiAgXSwgUmlwcGxlLnByb3RvdHlwZSwgInByZXNzZWQiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgZTQoIi5zdXJmYWNlIikKICBdLCBSaXBwbGUucHJvdG90eXBlLCAibWRSb290Iiwgdm9pZCAwKTsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvcmlwcGxlL2ludGVybmFsL3JpcHBsZS1zdHlsZXMuanMKICB2YXIgc3R5bGVzMyA9IGlgOmhvc3R7ZGlzcGxheTpmbGV4O21hcmdpbjphdXRvO3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3QoW2Rpc2FibGVkXSl7ZGlzcGxheTpub25lfUBtZWRpYShmb3JjZWQtY29sb3JzOiBhY3RpdmUpezpob3N0e2Rpc3BsYXk6bm9uZX19Omhvc3QsLnN1cmZhY2V7Ym9yZGVyLXJhZGl1czppbmhlcml0O3Bvc2l0aW9uOmFic29sdXRlO2luc2V0OjA7b3ZlcmZsb3c6aGlkZGVufS5zdXJmYWNley13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjpyZ2JhKDAsMCwwLDApfS5zdXJmYWNlOjpiZWZvcmUsLnN1cmZhY2U6OmFmdGVye2NvbnRlbnQ6IiI7b3BhY2l0eTowO3Bvc2l0aW9uOmFic29sdXRlfS5zdXJmYWNlOjpiZWZvcmV7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1tZC1yaXBwbGUtaG92ZXItY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7aW5zZXQ6MDt0cmFuc2l0aW9uOm9wYWNpdHkgMTVtcyBsaW5lYXIsYmFja2dyb3VuZC1jb2xvciAxNW1zIGxpbmVhcn0uc3VyZmFjZTo6YWZ0ZXJ7YmFja2dyb3VuZDpyYWRpYWwtZ3JhZGllbnQoY2xvc2VzdC1zaWRlLCB2YXIoLS1tZC1yaXBwbGUtcHJlc3NlZC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UsICMxZDFiMjApKSBtYXgoMTAwJSAtIDcwcHgsIDY1JSksIHRyYW5zcGFyZW50IDEwMCUpO3RyYW5zZm9ybS1vcmlnaW46Y2VudGVyIGNlbnRlcjt0cmFuc2l0aW9uOm9wYWNpdHkgMzc1bXMgbGluZWFyfS5ob3ZlcmVkOjpiZWZvcmV7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1tZC1yaXBwbGUtaG92ZXItY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7b3BhY2l0eTp2YXIoLS1tZC1yaXBwbGUtaG92ZXItb3BhY2l0eSwgMC4wOCl9LnByZXNzZWQ6OmFmdGVye29wYWNpdHk6dmFyKC0tbWQtcmlwcGxlLXByZXNzZWQtb3BhY2l0eSwgMC4xMik7dHJhbnNpdGlvbi1kdXJhdGlvbjoxMDVtc30KYDsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvcmlwcGxlL3JpcHBsZS5qcwogIHZhciBNZFJpcHBsZSA9IGNsYXNzIE1kUmlwcGxlMiBleHRlbmRzIFJpcHBsZSB7CiAgfTsKICBNZFJpcHBsZS5zdHlsZXMgPSBbc3R5bGVzM107CiAgTWRSaXBwbGUgPSBfX2RlY29yYXRlKFsKICAgIHQoIm1kLXJpcHBsZSIpCiAgXSwgTWRSaXBwbGUpOwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9pbnRlcm5hbC9hcmlhL2FyaWEuanMKICB2YXIgQVJJQV9QUk9QRVJUSUVTID0gWwogICAgInJvbGUiLAogICAgImFyaWFBdG9taWMiLAogICAgImFyaWFBdXRvQ29tcGxldGUiLAogICAgImFyaWFCdXN5IiwKICAgICJhcmlhQ2hlY2tlZCIsCiAgICAiYXJpYUNvbENvdW50IiwKICAgICJhcmlhQ29sSW5kZXgiLAogICAgImFyaWFDb2xTcGFuIiwKICAgICJhcmlhQ3VycmVudCIsCiAgICAiYXJpYURpc2FibGVkIiwKICAgICJhcmlhRXhwYW5kZWQiLAogICAgImFyaWFIYXNQb3B1cCIsCiAgICAiYXJpYUhpZGRlbiIsCiAgICAiYXJpYUludmFsaWQiLAogICAgImFyaWFLZXlTaG9ydGN1dHMiLAogICAgImFyaWFMYWJlbCIsCiAgICAiYXJpYUxldmVsIiwKICAgICJhcmlhTGl2ZSIsCiAgICAiYXJpYU1vZGFsIiwKICAgICJhcmlhTXVsdGlMaW5lIiwKICAgICJhcmlhTXVsdGlTZWxlY3RhYmxlIiwKICAgICJhcmlhT3JpZW50YXRpb24iLAogICAgImFyaWFQbGFjZWhvbGRlciIsCiAgICAiYXJpYVBvc0luU2V0IiwKICAgICJhcmlhUHJlc3NlZCIsCiAgICAiYXJpYVJlYWRPbmx5IiwKICAgICJhcmlhUmVxdWlyZWQiLAogICAgImFyaWFSb2xlRGVzY3JpcHRpb24iLAogICAgImFyaWFSb3dDb3VudCIsCiAgICAiYXJpYVJvd0luZGV4IiwKICAgICJhcmlhUm93U3BhbiIsCiAgICAiYXJpYVNlbGVjdGVkIiwKICAgICJhcmlhU2V0U2l6ZSIsCiAgICAiYXJpYVNvcnQiLAogICAgImFyaWFWYWx1ZU1heCIsCiAgICAiYXJpYVZhbHVlTWluIiwKICAgICJhcmlhVmFsdWVOb3ciLAogICAgImFyaWFWYWx1ZVRleHQiCiAgXTsKICB2YXIgQVJJQV9BVFRSSUJVVEVTID0gQVJJQV9QUk9QRVJUSUVTLm1hcChhcmlhUHJvcGVydHlUb0F0dHJpYnV0ZSk7CiAgZnVuY3Rpb24gaXNBcmlhQXR0cmlidXRlKGF0dHJpYnV0ZSkgewogICAgcmV0dXJuIEFSSUFfQVRUUklCVVRFUy5pbmNsdWRlcyhhdHRyaWJ1dGUpOwogIH0KICBmdW5jdGlvbiBhcmlhUHJvcGVydHlUb0F0dHJpYnV0ZShwcm9wZXJ0eSkgewogICAgcmV0dXJuIHByb3BlcnR5LnJlcGxhY2UoImFyaWEiLCAiYXJpYS0iKS5yZXBsYWNlKC9FbGVtZW50cz8vZywgIiIpLnRvTG93ZXJDYXNlKCk7CiAgfQoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9pbnRlcm5hbC9hcmlhL2RlbGVnYXRlLmpzCiAgdmFyIHByaXZhdGVJZ25vcmVBdHRyaWJ1dGVDaGFuZ2VzRm9yID0gU3ltYm9sKCJwcml2YXRlSWdub3JlQXR0cmlidXRlQ2hhbmdlc0ZvciIpOwogIGZ1bmN0aW9uIG1peGluRGVsZWdhdGVzQXJpYShiYXNlKSB7CiAgICB2YXIgX2EyOwogICAgaWYgKG83KSB7CiAgICAgIHJldHVybiBiYXNlOwogICAgfQogICAgY2xhc3MgV2l0aERlbGVnYXRlc0FyaWFFbGVtZW50IGV4dGVuZHMgYmFzZSB7CiAgICAgIGNvbnN0cnVjdG9yKCkgewogICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7CiAgICAgICAgdGhpc1tfYTJdID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTsKICAgICAgfQogICAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7CiAgICAgICAgaWYgKCFpc0FyaWFBdHRyaWJ1dGUobmFtZSkpIHsKICAgICAgICAgIHN1cGVyLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAodGhpc1twcml2YXRlSWdub3JlQXR0cmlidXRlQ2hhbmdlc0Zvcl0uaGFzKG5hbWUpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXNbcHJpdmF0ZUlnbm9yZUF0dHJpYnV0ZUNoYW5nZXNGb3JdLmFkZChuYW1lKTsKICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTsKICAgICAgICB0aGlzW3ByaXZhdGVJZ25vcmVBdHRyaWJ1dGVDaGFuZ2VzRm9yXS5kZWxldGUobmFtZSk7CiAgICAgICAgY29uc3QgZGF0YVByb3BlcnR5ID0gYXJpYUF0dHJpYnV0ZVRvRGF0YVByb3BlcnR5KG5hbWUpOwogICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gbnVsbCkgewogICAgICAgICAgZGVsZXRlIHRoaXMuZGF0YXNldFtkYXRhUHJvcGVydHldOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmRhdGFzZXRbZGF0YVByb3BlcnR5XSA9IG5ld1ZhbHVlOwogICAgICAgIH0KICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoYXJpYUF0dHJpYnV0ZVRvRGF0YVByb3BlcnR5KG5hbWUpLCBvbGRWYWx1ZSk7CiAgICAgIH0KICAgICAgZ2V0QXR0cmlidXRlKG5hbWUpIHsKICAgICAgICBpZiAoaXNBcmlhQXR0cmlidXRlKG5hbWUpKSB7CiAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0QXR0cmlidXRlKGFyaWFBdHRyaWJ1dGVUb0RhdGFBdHRyaWJ1dGUobmFtZSkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3VwZXIuZ2V0QXR0cmlidXRlKG5hbWUpOwogICAgICB9CiAgICAgIHJlbW92ZUF0dHJpYnV0ZShuYW1lKSB7CiAgICAgICAgc3VwZXIucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgICAgIGlmIChpc0FyaWFBdHRyaWJ1dGUobmFtZSkpIHsKICAgICAgICAgIHN1cGVyLnJlbW92ZUF0dHJpYnV0ZShhcmlhQXR0cmlidXRlVG9EYXRhQXR0cmlidXRlKG5hbWUpKTsKICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgX2EyID0gcHJpdmF0ZUlnbm9yZUF0dHJpYnV0ZUNoYW5nZXNGb3I7CiAgICBzZXR1cERlbGVnYXRlc0FyaWFQcm9wZXJ0aWVzKFdpdGhEZWxlZ2F0ZXNBcmlhRWxlbWVudCk7CiAgICByZXR1cm4gV2l0aERlbGVnYXRlc0FyaWFFbGVtZW50OwogIH0KICBmdW5jdGlvbiBzZXR1cERlbGVnYXRlc0FyaWFQcm9wZXJ0aWVzKGN0b3IpIHsKICAgIGZvciAoY29uc3QgYXJpYVByb3BlcnR5IG9mIEFSSUFfUFJPUEVSVElFUykgewogICAgICBjb25zdCBhcmlhQXR0cmlidXRlID0gYXJpYVByb3BlcnR5VG9BdHRyaWJ1dGUoYXJpYVByb3BlcnR5KTsKICAgICAgY29uc3QgZGF0YUF0dHJpYnV0ZSA9IGFyaWFBdHRyaWJ1dGVUb0RhdGFBdHRyaWJ1dGUoYXJpYUF0dHJpYnV0ZSk7CiAgICAgIGNvbnN0IGRhdGFQcm9wZXJ0eSA9IGFyaWFBdHRyaWJ1dGVUb0RhdGFQcm9wZXJ0eShhcmlhQXR0cmlidXRlKTsKICAgICAgY3Rvci5jcmVhdGVQcm9wZXJ0eShhcmlhUHJvcGVydHksIHsKICAgICAgICBhdHRyaWJ1dGU6IGFyaWFBdHRyaWJ1dGUsCiAgICAgICAgbm9BY2Nlc3NvcjogdHJ1ZQogICAgICB9KTsKICAgICAgY3Rvci5jcmVhdGVQcm9wZXJ0eShTeW1ib2woZGF0YUF0dHJpYnV0ZSksIHsKICAgICAgICBhdHRyaWJ1dGU6IGRhdGFBdHRyaWJ1dGUsCiAgICAgICAgbm9BY2Nlc3NvcjogdHJ1ZQogICAgICB9KTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0b3IucHJvdG90eXBlLCBhcmlhUHJvcGVydHksIHsKICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICBnZXQoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhc2V0W2RhdGFQcm9wZXJ0eV0gPz8gbnVsbDsKICAgICAgICB9LAogICAgICAgIHNldCh2YWx1ZSkgewogICAgICAgICAgY29uc3QgcHJldlZhbHVlID0gdGhpcy5kYXRhc2V0W2RhdGFQcm9wZXJ0eV0gPz8gbnVsbDsKICAgICAgICAgIGlmICh2YWx1ZSA9PT0gcHJldlZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgewogICAgICAgICAgICBkZWxldGUgdGhpcy5kYXRhc2V0W2RhdGFQcm9wZXJ0eV07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmRhdGFzZXRbZGF0YVByb3BlcnR5XSA9IHZhbHVlOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKGFyaWFQcm9wZXJ0eSwgcHJldlZhbHVlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KICBmdW5jdGlvbiBhcmlhQXR0cmlidXRlVG9EYXRhQXR0cmlidXRlKGFyaWFBdHRyaWJ1dGUpIHsKICAgIHJldHVybiBgZGF0YS0ke2FyaWFBdHRyaWJ1dGV9YDsKICB9CiAgZnVuY3Rpb24gYXJpYUF0dHJpYnV0ZVRvRGF0YVByb3BlcnR5KGFyaWFBdHRyaWJ1dGUpIHsKICAgIHJldHVybiBhcmlhQXR0cmlidXRlLnJlcGxhY2UoLy1cdy8sIChkYXNoTGV0dGVyKSA9PiBkYXNoTGV0dGVyWzFdLnRvVXBwZXJDYXNlKCkpOwogIH0KCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvbGFicy9iZWhhdmlvcnMvZWxlbWVudC1pbnRlcm5hbHMuanMKICB2YXIgaW50ZXJuYWxzID0gU3ltYm9sKCJpbnRlcm5hbHMiKTsKICB2YXIgcHJpdmF0ZUludGVybmFscyA9IFN5bWJvbCgicHJpdmF0ZUludGVybmFscyIpOwogIGZ1bmN0aW9uIG1peGluRWxlbWVudEludGVybmFscyhiYXNlKSB7CiAgICBjbGFzcyBXaXRoRWxlbWVudEludGVybmFsc0VsZW1lbnQgZXh0ZW5kcyBiYXNlIHsKICAgICAgZ2V0IFtpbnRlcm5hbHNdKCkgewogICAgICAgIGlmICghdGhpc1twcml2YXRlSW50ZXJuYWxzXSkgewogICAgICAgICAgdGhpc1twcml2YXRlSW50ZXJuYWxzXSA9IHRoaXMuYXR0YWNoSW50ZXJuYWxzKCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzW3ByaXZhdGVJbnRlcm5hbHNdOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gV2l0aEVsZW1lbnRJbnRlcm5hbHNFbGVtZW50OwogIH0KCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvaW50ZXJuYWwvY29udHJvbGxlci9mb3JtLXN1Ym1pdHRlci5qcwogIGZ1bmN0aW9uIHNldHVwRm9ybVN1Ym1pdHRlcihjdG9yKSB7CiAgICBpZiAobzcpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY3Rvci5hZGRJbml0aWFsaXplcigoaW5zdGFuY2UpID0+IHsKICAgICAgY29uc3Qgc3VibWl0dGVyID0gaW5zdGFuY2U7CiAgICAgIHN1Ym1pdHRlci5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGFzeW5jIChldmVudCkgPT4gewogICAgICAgIGNvbnN0IHsgdHlwZSwgW2ludGVybmFsc106IGVsZW1lbnRJbnRlcm5hbHMgfSA9IHN1Ym1pdHRlcjsKICAgICAgICBjb25zdCB7IGZvcm0gfSA9IGVsZW1lbnRJbnRlcm5hbHM7CiAgICAgICAgaWYgKCFmb3JtIHx8IHR5cGUgPT09ICJidXR0b24iKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUpOwogICAgICAgIH0pOwogICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAicmVzZXQiKSB7CiAgICAgICAgICBmb3JtLnJlc2V0KCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcigic3VibWl0IiwgKHN1Ym1pdEV2ZW50KSA9PiB7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3VibWl0RXZlbnQsICJzdWJtaXR0ZXIiLCB7CiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgZ2V0OiAoKSA9PiBzdWJtaXR0ZXIKICAgICAgICAgIH0pOwogICAgICAgIH0sIHsgY2FwdHVyZTogdHJ1ZSwgb25jZTogdHJ1ZSB9KTsKICAgICAgICBlbGVtZW50SW50ZXJuYWxzLnNldEZvcm1WYWx1ZShzdWJtaXR0ZXIudmFsdWUpOwogICAgICAgIGZvcm0ucmVxdWVzdFN1Ym1pdCgpOwogICAgICB9KTsKICAgIH0pOwogIH0KCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvaW50ZXJuYWwvZXZlbnRzL2Zvcm0tbGFiZWwtYWN0aXZhdGlvbi5qcwogIGZ1bmN0aW9uIGRpc3BhdGNoQWN0aXZhdGlvbkNsaWNrKGVsZW1lbnQpIHsKICAgIGNvbnN0IGV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoImNsaWNrIiwgeyBidWJibGVzOiB0cnVlIH0pOwogICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgIHJldHVybiBldmVudDsKICB9CiAgZnVuY3Rpb24gaXNBY3RpdmF0aW9uQ2xpY2soZXZlbnQpIHsKICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0ICE9PSBldmVudC50YXJnZXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgaWYgKGV2ZW50LmNvbXBvc2VkUGF0aCgpWzBdICE9PSBldmVudC50YXJnZXQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgaWYgKGV2ZW50LnRhcmdldC5kaXNhYmxlZCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICByZXR1cm4gIXNxdWVsY2hFdmVudChldmVudCk7CiAgfQogIGZ1bmN0aW9uIHNxdWVsY2hFdmVudChldmVudCkgewogICAgY29uc3Qgc3F1ZWxjaGVkID0gaXNTcXVlbGNoaW5nRXZlbnRzOwogICAgaWYgKHNxdWVsY2hlZCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTsKICAgIH0KICAgIHNxdWVsY2hFdmVudHNGb3JNaWNyb3Rhc2soKTsKICAgIHJldHVybiBzcXVlbGNoZWQ7CiAgfQogIHZhciBpc1NxdWVsY2hpbmdFdmVudHMgPSBmYWxzZTsKICBhc3luYyBmdW5jdGlvbiBzcXVlbGNoRXZlbnRzRm9yTWljcm90YXNrKCkgewogICAgaXNTcXVlbGNoaW5nRXZlbnRzID0gdHJ1ZTsKICAgIGF3YWl0IG51bGw7CiAgICBpc1NxdWVsY2hpbmdFdmVudHMgPSBmYWxzZTsKICB9CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL2J1dHRvbi9pbnRlcm5hbC9idXR0b24uanMKICB2YXIgYnV0dG9uQmFzZUNsYXNzID0gbWl4aW5EZWxlZ2F0ZXNBcmlhKG1peGluRWxlbWVudEludGVybmFscyhpNCkpOwogIHZhciBCdXR0b24gPSBjbGFzcyBleHRlbmRzIGJ1dHRvbkJhc2VDbGFzcyB7CiAgICBnZXQgbmFtZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCJuYW1lIikgPz8gIiI7CiAgICB9CiAgICBzZXQgbmFtZShuYW1lKSB7CiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCJuYW1lIiwgbmFtZSk7CiAgICB9CiAgICAvKioKICAgICAqIFRoZSBhc3NvY2lhdGVkIGZvcm0gZWxlbWVudCB3aXRoIHdoaWNoIHRoaXMgZWxlbWVudCdzIHZhbHVlIHdpbGwgc3VibWl0LgogICAgICovCiAgICBnZXQgZm9ybSgpIHsKICAgICAgcmV0dXJuIHRoaXNbaW50ZXJuYWxzXS5mb3JtOwogICAgfQogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgdGhpcy5zb2Z0RGlzYWJsZWQgPSBmYWxzZTsKICAgICAgdGhpcy5ocmVmID0gIiI7CiAgICAgIHRoaXMuZG93bmxvYWQgPSAiIjsKICAgICAgdGhpcy50YXJnZXQgPSAiIjsKICAgICAgdGhpcy50cmFpbGluZ0ljb24gPSBmYWxzZTsKICAgICAgdGhpcy5oYXNJY29uID0gZmFsc2U7CiAgICAgIHRoaXMudHlwZSA9ICJzdWJtaXQiOwogICAgICB0aGlzLnZhbHVlID0gIiI7CiAgICAgIGlmICghbzcpIHsKICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKTsKICAgICAgfQogICAgfQogICAgZm9jdXMoKSB7CiAgICAgIHRoaXMuYnV0dG9uRWxlbWVudD8uZm9jdXMoKTsKICAgIH0KICAgIGJsdXIoKSB7CiAgICAgIHRoaXMuYnV0dG9uRWxlbWVudD8uYmx1cigpOwogICAgfQogICAgcmVuZGVyKCkgewogICAgICBjb25zdCBpc1JpcHBsZURpc2FibGVkID0gIXRoaXMuaHJlZiAmJiAodGhpcy5kaXNhYmxlZCB8fCB0aGlzLnNvZnREaXNhYmxlZCk7CiAgICAgIGNvbnN0IGJ1dHRvbk9yTGluayA9IHRoaXMuaHJlZiA/IHRoaXMucmVuZGVyTGluaygpIDogdGhpcy5yZW5kZXJCdXR0b24oKTsKICAgICAgY29uc3QgYnV0dG9uSWQgPSB0aGlzLmhyZWYgPyAibGluayIgOiAiYnV0dG9uIjsKICAgICAgcmV0dXJuIHhgCiAgICAgICR7dGhpcy5yZW5kZXJFbGV2YXRpb25Pck91dGxpbmU/LigpfQogICAgICA8ZGl2IGNsYXNzPSJiYWNrZ3JvdW5kIj48L2Rpdj4KICAgICAgPG1kLWZvY3VzLXJpbmcgcGFydD0iZm9jdXMtcmluZyIgZm9yPSR7YnV0dG9uSWR9PjwvbWQtZm9jdXMtcmluZz4KICAgICAgPG1kLXJpcHBsZQogICAgICAgIHBhcnQ9InJpcHBsZSIKICAgICAgICBmb3I9JHtidXR0b25JZH0KICAgICAgICA/ZGlzYWJsZWQ9IiR7aXNSaXBwbGVEaXNhYmxlZH0iPjwvbWQtcmlwcGxlPgogICAgICAke2J1dHRvbk9yTGlua30KICAgIGA7CiAgICB9CiAgICByZW5kZXJCdXR0b24oKSB7CiAgICAgIGNvbnN0IHsgYXJpYUxhYmVsLCBhcmlhSGFzUG9wdXAsIGFyaWFFeHBhbmRlZCB9ID0gdGhpczsKICAgICAgcmV0dXJuIHhgPGJ1dHRvbgogICAgICBpZD0iYnV0dG9uIgogICAgICBjbGFzcz0iYnV0dG9uIgogICAgICA/ZGlzYWJsZWQ9JHt0aGlzLmRpc2FibGVkfQogICAgICBhcmlhLWRpc2FibGVkPSR7dGhpcy5zb2Z0RGlzYWJsZWQgfHwgRX0KICAgICAgYXJpYS1sYWJlbD0iJHthcmlhTGFiZWwgfHwgRX0iCiAgICAgIGFyaWEtaGFzcG9wdXA9IiR7YXJpYUhhc1BvcHVwIHx8IEV9IgogICAgICBhcmlhLWV4cGFuZGVkPSIke2FyaWFFeHBhbmRlZCB8fCBFfSI+CiAgICAgICR7dGhpcy5yZW5kZXJDb250ZW50KCl9CiAgICA8L2J1dHRvbj5gOwogICAgfQogICAgcmVuZGVyTGluaygpIHsKICAgICAgY29uc3QgeyBhcmlhTGFiZWwsIGFyaWFIYXNQb3B1cCwgYXJpYUV4cGFuZGVkIH0gPSB0aGlzOwogICAgICByZXR1cm4geGA8YQogICAgICBpZD0ibGluayIKICAgICAgY2xhc3M9ImJ1dHRvbiIKICAgICAgYXJpYS1sYWJlbD0iJHthcmlhTGFiZWwgfHwgRX0iCiAgICAgIGFyaWEtaGFzcG9wdXA9IiR7YXJpYUhhc1BvcHVwIHx8IEV9IgogICAgICBhcmlhLWV4cGFuZGVkPSIke2FyaWFFeHBhbmRlZCB8fCBFfSIKICAgICAgaHJlZj0ke3RoaXMuaHJlZn0KICAgICAgZG93bmxvYWQ9JHt0aGlzLmRvd25sb2FkIHx8IEV9CiAgICAgIHRhcmdldD0ke3RoaXMudGFyZ2V0IHx8IEV9CiAgICAgID4ke3RoaXMucmVuZGVyQ29udGVudCgpfQogICAgPC9hPmA7CiAgICB9CiAgICByZW5kZXJDb250ZW50KCkgewogICAgICBjb25zdCBpY29uID0geGA8c2xvdAogICAgICBuYW1lPSJpY29uIgogICAgICBAc2xvdGNoYW5nZT0iJHt0aGlzLmhhbmRsZVNsb3RDaGFuZ2V9Ij48L3Nsb3Q+YDsKICAgICAgcmV0dXJuIHhgCiAgICAgIDxzcGFuIGNsYXNzPSJ0b3VjaCI+PC9zcGFuPgogICAgICAke3RoaXMudHJhaWxpbmdJY29uID8gRSA6IGljb259CiAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCI+PHNsb3Q+PC9zbG90Pjwvc3Bhbj4KICAgICAgJHt0aGlzLnRyYWlsaW5nSWNvbiA/IGljb24gOiBFfQogICAgYDsKICAgIH0KICAgIGhhbmRsZUNsaWNrKGV2ZW50KSB7CiAgICAgIGlmICghdGhpcy5ocmVmICYmIHRoaXMuc29mdERpc2FibGVkKSB7CiAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKCFpc0FjdGl2YXRpb25DbGljayhldmVudCkgfHwgIXRoaXMuYnV0dG9uRWxlbWVudCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmZvY3VzKCk7CiAgICAgIGRpc3BhdGNoQWN0aXZhdGlvbkNsaWNrKHRoaXMuYnV0dG9uRWxlbWVudCk7CiAgICB9CiAgICBoYW5kbGVTbG90Q2hhbmdlKCkgewogICAgICB0aGlzLmhhc0ljb24gPSB0aGlzLmFzc2lnbmVkSWNvbnMubGVuZ3RoID4gMDsKICAgIH0KICB9OwogICgoKSA9PiB7CiAgICBzZXR1cEZvcm1TdWJtaXR0ZXIoQnV0dG9uKTsKICB9KSgpOwogIEJ1dHRvbi5mb3JtQXNzb2NpYXRlZCA9IHRydWU7CiAgQnV0dG9uLnNoYWRvd1Jvb3RPcHRpb25zID0gewogICAgbW9kZTogIm9wZW4iLAogICAgZGVsZWdhdGVzRm9jdXM6IHRydWUKICB9OwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pCiAgXSwgQnV0dG9uLnByb3RvdHlwZSwgImRpc2FibGVkIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiAic29mdC1kaXNhYmxlZCIsIHJlZmxlY3Q6IHRydWUgfSkKICBdLCBCdXR0b24ucHJvdG90eXBlLCAic29mdERpc2FibGVkIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKCkKICBdLCBCdXR0b24ucHJvdG90eXBlLCAiaHJlZiIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMygpCiAgXSwgQnV0dG9uLnByb3RvdHlwZSwgImRvd25sb2FkIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKCkKICBdLCBCdXR0b24ucHJvdG90eXBlLCAidGFyZ2V0Iiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiAidHJhaWxpbmctaWNvbiIsIHJlZmxlY3Q6IHRydWUgfSkKICBdLCBCdXR0b24ucHJvdG90eXBlLCAidHJhaWxpbmdJY29uIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiAiaGFzLWljb24iLCByZWZsZWN0OiB0cnVlIH0pCiAgXSwgQnV0dG9uLnByb3RvdHlwZSwgImhhc0ljb24iLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoKQogIF0sIEJ1dHRvbi5wcm90b3R5cGUsICJ0eXBlIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgcmVmbGVjdDogdHJ1ZSB9KQogIF0sIEJ1dHRvbi5wcm90b3R5cGUsICJ2YWx1ZSIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBlNCgiLmJ1dHRvbiIpCiAgXSwgQnV0dG9uLnByb3RvdHlwZSwgImJ1dHRvbkVsZW1lbnQiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbzQoeyBzbG90OiAiaWNvbiIsIGZsYXR0ZW46IHRydWUgfSkKICBdLCBCdXR0b24ucHJvdG90eXBlLCAiYXNzaWduZWRJY29ucyIsIHZvaWQgMCk7CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL2J1dHRvbi9pbnRlcm5hbC9lbGV2YXRlZC1idXR0b24uanMKICB2YXIgRWxldmF0ZWRCdXR0b24gPSBjbGFzcyBleHRlbmRzIEJ1dHRvbiB7CiAgICByZW5kZXJFbGV2YXRpb25Pck91dGxpbmUoKSB7CiAgICAgIHJldHVybiB4YDxtZC1lbGV2YXRpb24gcGFydD0iZWxldmF0aW9uIj48L21kLWVsZXZhdGlvbj5gOwogICAgfQogIH07CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL2J1dHRvbi9pbnRlcm5hbC9lbGV2YXRlZC1zdHlsZXMuanMKICB2YXIgc3R5bGVzNCA9IGlgOmhvc3R7LS1fY29udGFpbmVyLWNvbG9yOiB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24tY29udGFpbmVyLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itc3VyZmFjZS1jb250YWluZXItbG93LCAjZjdmMmZhKSk7LS1fY29udGFpbmVyLWVsZXZhdGlvbjogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLWNvbnRhaW5lci1lbGV2YXRpb24sIDEpOy0tX2NvbnRhaW5lci1oZWlnaHQ6IHZhcigtLW1kLWVsZXZhdGVkLWJ1dHRvbi1jb250YWluZXItaGVpZ2h0LCA0MHB4KTstLV9jb250YWluZXItc2hhZG93LWNvbG9yOiB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24tY29udGFpbmVyLXNoYWRvdy1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXNoYWRvdywgIzAwMCkpOy0tX2Rpc2FibGVkLWNvbnRhaW5lci1jb2xvcjogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLWRpc2FibGVkLWNvbnRhaW5lci1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UsICMxZDFiMjApKTstLV9kaXNhYmxlZC1jb250YWluZXItZWxldmF0aW9uOiB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24tZGlzYWJsZWQtY29udGFpbmVyLWVsZXZhdGlvbiwgMCk7LS1fZGlzYWJsZWQtY29udGFpbmVyLW9wYWNpdHk6IHZhcigtLW1kLWVsZXZhdGVkLWJ1dHRvbi1kaXNhYmxlZC1jb250YWluZXItb3BhY2l0eSwgMC4xMik7LS1fZGlzYWJsZWQtbGFiZWwtdGV4dC1jb2xvcjogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLWRpc2FibGVkLWxhYmVsLXRleHQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1fZGlzYWJsZWQtbGFiZWwtdGV4dC1vcGFjaXR5OiB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24tZGlzYWJsZWQtbGFiZWwtdGV4dC1vcGFjaXR5LCAwLjM4KTstLV9mb2N1cy1jb250YWluZXItZWxldmF0aW9uOiB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24tZm9jdXMtY29udGFpbmVyLWVsZXZhdGlvbiwgMSk7LS1fZm9jdXMtbGFiZWwtdGV4dC1jb2xvcjogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLWZvY3VzLWxhYmVsLXRleHQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1wcmltYXJ5LCAjNjc1MGE0KSk7LS1faG92ZXItY29udGFpbmVyLWVsZXZhdGlvbjogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLWhvdmVyLWNvbnRhaW5lci1lbGV2YXRpb24sIDIpOy0tX2hvdmVyLWxhYmVsLXRleHQtY29sb3I6IHZhcigtLW1kLWVsZXZhdGVkLWJ1dHRvbi1ob3Zlci1sYWJlbC10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItcHJpbWFyeSwgIzY3NTBhNCkpOy0tX2hvdmVyLXN0YXRlLWxheWVyLWNvbG9yOiB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24taG92ZXItc3RhdGUtbGF5ZXItY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1wcmltYXJ5LCAjNjc1MGE0KSk7LS1faG92ZXItc3RhdGUtbGF5ZXItb3BhY2l0eTogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLWhvdmVyLXN0YXRlLWxheWVyLW9wYWNpdHksIDAuMDgpOy0tX2xhYmVsLXRleHQtY29sb3I6IHZhcigtLW1kLWVsZXZhdGVkLWJ1dHRvbi1sYWJlbC10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItcHJpbWFyeSwgIzY3NTBhNCkpOy0tX2xhYmVsLXRleHQtZm9udDogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLWxhYmVsLXRleHQtZm9udCwgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1sYWJlbC1sYXJnZS1mb250LCB2YXIoLS1tZC1yZWYtdHlwZWZhY2UtcGxhaW4sIFJvYm90bykpKTstLV9sYWJlbC10ZXh0LWxpbmUtaGVpZ2h0OiB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24tbGFiZWwtdGV4dC1saW5lLWhlaWdodCwgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1sYWJlbC1sYXJnZS1saW5lLWhlaWdodCwgMS4yNXJlbSkpOy0tX2xhYmVsLXRleHQtc2l6ZTogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLWxhYmVsLXRleHQtc2l6ZSwgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1sYWJlbC1sYXJnZS1zaXplLCAwLjg3NXJlbSkpOy0tX2xhYmVsLXRleHQtd2VpZ2h0OiB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24tbGFiZWwtdGV4dC13ZWlnaHQsIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtbGFiZWwtbGFyZ2Utd2VpZ2h0LCB2YXIoLS1tZC1yZWYtdHlwZWZhY2Utd2VpZ2h0LW1lZGl1bSwgNTAwKSkpOy0tX3ByZXNzZWQtY29udGFpbmVyLWVsZXZhdGlvbjogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLXByZXNzZWQtY29udGFpbmVyLWVsZXZhdGlvbiwgMSk7LS1fcHJlc3NlZC1sYWJlbC10ZXh0LWNvbG9yOiB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24tcHJlc3NlZC1sYWJlbC10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItcHJpbWFyeSwgIzY3NTBhNCkpOy0tX3ByZXNzZWQtc3RhdGUtbGF5ZXItY29sb3I6IHZhcigtLW1kLWVsZXZhdGVkLWJ1dHRvbi1wcmVzc2VkLXN0YXRlLWxheWVyLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItcHJpbWFyeSwgIzY3NTBhNCkpOy0tX3ByZXNzZWQtc3RhdGUtbGF5ZXItb3BhY2l0eTogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLXByZXNzZWQtc3RhdGUtbGF5ZXItb3BhY2l0eSwgMC4xMik7LS1fZGlzYWJsZWQtaWNvbi1jb2xvcjogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLWRpc2FibGVkLWljb24tY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1fZGlzYWJsZWQtaWNvbi1vcGFjaXR5OiB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24tZGlzYWJsZWQtaWNvbi1vcGFjaXR5LCAwLjM4KTstLV9mb2N1cy1pY29uLWNvbG9yOiB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24tZm9jdXMtaWNvbi1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXByaW1hcnksICM2NzUwYTQpKTstLV9ob3Zlci1pY29uLWNvbG9yOiB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24taG92ZXItaWNvbi1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXByaW1hcnksICM2NzUwYTQpKTstLV9pY29uLWNvbG9yOiB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24taWNvbi1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXByaW1hcnksICM2NzUwYTQpKTstLV9pY29uLXNpemU6IHZhcigtLW1kLWVsZXZhdGVkLWJ1dHRvbi1pY29uLXNpemUsIDE4cHgpOy0tX3ByZXNzZWQtaWNvbi1jb2xvcjogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLXByZXNzZWQtaWNvbi1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXByaW1hcnksICM2NzUwYTQpKTstLV9jb250YWluZXItc2hhcGUtc3RhcnQtc3RhcnQ6IHZhcigtLW1kLWVsZXZhdGVkLWJ1dHRvbi1jb250YWluZXItc2hhcGUtc3RhcnQtc3RhcnQsIHZhcigtLW1kLWVsZXZhdGVkLWJ1dHRvbi1jb250YWluZXItc2hhcGUsIHZhcigtLW1kLXN5cy1zaGFwZS1jb3JuZXItZnVsbCwgOTk5OXB4KSkpOy0tX2NvbnRhaW5lci1zaGFwZS1zdGFydC1lbmQ6IHZhcigtLW1kLWVsZXZhdGVkLWJ1dHRvbi1jb250YWluZXItc2hhcGUtc3RhcnQtZW5kLCB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24tY29udGFpbmVyLXNoYXBlLCB2YXIoLS1tZC1zeXMtc2hhcGUtY29ybmVyLWZ1bGwsIDk5OTlweCkpKTstLV9jb250YWluZXItc2hhcGUtZW5kLWVuZDogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLWNvbnRhaW5lci1zaGFwZS1lbmQtZW5kLCB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24tY29udGFpbmVyLXNoYXBlLCB2YXIoLS1tZC1zeXMtc2hhcGUtY29ybmVyLWZ1bGwsIDk5OTlweCkpKTstLV9jb250YWluZXItc2hhcGUtZW5kLXN0YXJ0OiB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24tY29udGFpbmVyLXNoYXBlLWVuZC1zdGFydCwgdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLWNvbnRhaW5lci1zaGFwZSwgdmFyKC0tbWQtc3lzLXNoYXBlLWNvcm5lci1mdWxsLCA5OTk5cHgpKSk7LS1fbGVhZGluZy1zcGFjZTogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLWxlYWRpbmctc3BhY2UsIDI0cHgpOy0tX3RyYWlsaW5nLXNwYWNlOiB2YXIoLS1tZC1lbGV2YXRlZC1idXR0b24tdHJhaWxpbmctc3BhY2UsIDI0cHgpOy0tX3dpdGgtbGVhZGluZy1pY29uLWxlYWRpbmctc3BhY2U6IHZhcigtLW1kLWVsZXZhdGVkLWJ1dHRvbi13aXRoLWxlYWRpbmctaWNvbi1sZWFkaW5nLXNwYWNlLCAxNnB4KTstLV93aXRoLWxlYWRpbmctaWNvbi10cmFpbGluZy1zcGFjZTogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLXdpdGgtbGVhZGluZy1pY29uLXRyYWlsaW5nLXNwYWNlLCAyNHB4KTstLV93aXRoLXRyYWlsaW5nLWljb24tbGVhZGluZy1zcGFjZTogdmFyKC0tbWQtZWxldmF0ZWQtYnV0dG9uLXdpdGgtdHJhaWxpbmctaWNvbi1sZWFkaW5nLXNwYWNlLCAyNHB4KTstLV93aXRoLXRyYWlsaW5nLWljb24tdHJhaWxpbmctc3BhY2U6IHZhcigtLW1kLWVsZXZhdGVkLWJ1dHRvbi13aXRoLXRyYWlsaW5nLWljb24tdHJhaWxpbmctc3BhY2UsIDE2cHgpfQpgOwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9idXR0b24vaW50ZXJuYWwvc2hhcmVkLWVsZXZhdGlvbi1zdHlsZXMuanMKICB2YXIgc3R5bGVzNSA9IGlgbWQtZWxldmF0aW9ue3RyYW5zaXRpb24tZHVyYXRpb246MjgwbXN9Omhvc3QoOmlzKFtkaXNhYmxlZF0sW3NvZnQtZGlzYWJsZWRdKSkgbWQtZWxldmF0aW9ue3RyYW5zaXRpb246bm9uZX1tZC1lbGV2YXRpb257LS1tZC1lbGV2YXRpb24tbGV2ZWw6IHZhcigtLV9jb250YWluZXItZWxldmF0aW9uKTstLW1kLWVsZXZhdGlvbi1zaGFkb3ctY29sb3I6IHZhcigtLV9jb250YWluZXItc2hhZG93LWNvbG9yKX06aG9zdCg6Zm9jdXMtd2l0aGluKSBtZC1lbGV2YXRpb257LS1tZC1lbGV2YXRpb24tbGV2ZWw6IHZhcigtLV9mb2N1cy1jb250YWluZXItZWxldmF0aW9uKX06aG9zdCg6aG92ZXIpIG1kLWVsZXZhdGlvbnstLW1kLWVsZXZhdGlvbi1sZXZlbDogdmFyKC0tX2hvdmVyLWNvbnRhaW5lci1lbGV2YXRpb24pfTpob3N0KDphY3RpdmUpIG1kLWVsZXZhdGlvbnstLW1kLWVsZXZhdGlvbi1sZXZlbDogdmFyKC0tX3ByZXNzZWQtY29udGFpbmVyLWVsZXZhdGlvbil9Omhvc3QoOmlzKFtkaXNhYmxlZF0sW3NvZnQtZGlzYWJsZWRdKSkgbWQtZWxldmF0aW9uey0tbWQtZWxldmF0aW9uLWxldmVsOiB2YXIoLS1fZGlzYWJsZWQtY29udGFpbmVyLWVsZXZhdGlvbil9CmA7CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL2J1dHRvbi9pbnRlcm5hbC9zaGFyZWQtc3R5bGVzLmpzCiAgdmFyIHN0eWxlczYgPSBpYDpob3N0e2JvcmRlci1zdGFydC1zdGFydC1yYWRpdXM6dmFyKC0tX2NvbnRhaW5lci1zaGFwZS1zdGFydC1zdGFydCk7Ym9yZGVyLXN0YXJ0LWVuZC1yYWRpdXM6dmFyKC0tX2NvbnRhaW5lci1zaGFwZS1zdGFydC1lbmQpO2JvcmRlci1lbmQtc3RhcnQtcmFkaXVzOnZhcigtLV9jb250YWluZXItc2hhcGUtZW5kLXN0YXJ0KTtib3JkZXItZW5kLWVuZC1yYWRpdXM6dmFyKC0tX2NvbnRhaW5lci1zaGFwZS1lbmQtZW5kKTtib3gtc2l6aW5nOmJvcmRlci1ib3g7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTppbmxpbmUtZmxleDtnYXA6OHB4O21pbi1oZWlnaHQ6dmFyKC0tX2NvbnRhaW5lci1oZWlnaHQpO291dGxpbmU6bm9uZTtwYWRkaW5nLWJsb2NrOmNhbGMoKHZhcigtLV9jb250YWluZXItaGVpZ2h0KSAtIG1heCh2YXIoLS1fbGFiZWwtdGV4dC1saW5lLWhlaWdodCksdmFyKC0tX2ljb24tc2l6ZSkpKS8yKTtwYWRkaW5nLWlubGluZS1zdGFydDp2YXIoLS1fbGVhZGluZy1zcGFjZSk7cGFkZGluZy1pbmxpbmUtZW5kOnZhcigtLV90cmFpbGluZy1zcGFjZSk7cGxhY2UtY29udGVudDpjZW50ZXI7cGxhY2UtaXRlbXM6Y2VudGVyO3Bvc2l0aW9uOnJlbGF0aXZlO2ZvbnQtZmFtaWx5OnZhcigtLV9sYWJlbC10ZXh0LWZvbnQpO2ZvbnQtc2l6ZTp2YXIoLS1fbGFiZWwtdGV4dC1zaXplKTtsaW5lLWhlaWdodDp2YXIoLS1fbGFiZWwtdGV4dC1saW5lLWhlaWdodCk7Zm9udC13ZWlnaHQ6dmFyKC0tX2xhYmVsLXRleHQtd2VpZ2h0KTt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3RleHQtd3JhcDpub3dyYXA7dXNlci1zZWxlY3Q6bm9uZTstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6cmdiYSgwLDAsMCwwKTt2ZXJ0aWNhbC1hbGlnbjp0b3A7LS1tZC1yaXBwbGUtaG92ZXItY29sb3I6IHZhcigtLV9ob3Zlci1zdGF0ZS1sYXllci1jb2xvcik7LS1tZC1yaXBwbGUtcHJlc3NlZC1jb2xvcjogdmFyKC0tX3ByZXNzZWQtc3RhdGUtbGF5ZXItY29sb3IpOy0tbWQtcmlwcGxlLWhvdmVyLW9wYWNpdHk6IHZhcigtLV9ob3Zlci1zdGF0ZS1sYXllci1vcGFjaXR5KTstLW1kLXJpcHBsZS1wcmVzc2VkLW9wYWNpdHk6IHZhcigtLV9wcmVzc2VkLXN0YXRlLWxheWVyLW9wYWNpdHkpfW1kLWZvY3VzLXJpbmd7LS1tZC1mb2N1cy1yaW5nLXNoYXBlLXN0YXJ0LXN0YXJ0OiB2YXIoLS1fY29udGFpbmVyLXNoYXBlLXN0YXJ0LXN0YXJ0KTstLW1kLWZvY3VzLXJpbmctc2hhcGUtc3RhcnQtZW5kOiB2YXIoLS1fY29udGFpbmVyLXNoYXBlLXN0YXJ0LWVuZCk7LS1tZC1mb2N1cy1yaW5nLXNoYXBlLWVuZC1lbmQ6IHZhcigtLV9jb250YWluZXItc2hhcGUtZW5kLWVuZCk7LS1tZC1mb2N1cy1yaW5nLXNoYXBlLWVuZC1zdGFydDogdmFyKC0tX2NvbnRhaW5lci1zaGFwZS1lbmQtc3RhcnQpfTpob3N0KDppcyhbZGlzYWJsZWRdLFtzb2Z0LWRpc2FibGVkXSkpe2N1cnNvcjpkZWZhdWx0O3BvaW50ZXItZXZlbnRzOm5vbmV9LmJ1dHRvbntib3JkZXItcmFkaXVzOmluaGVyaXQ7Y3Vyc29yOmluaGVyaXQ7ZGlzcGxheTppbmxpbmUtZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtib3JkZXI6bm9uZTtvdXRsaW5lOm5vbmU7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7dmVydGljYWwtYWxpZ246bWlkZGxlO2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwKTt0ZXh0LWRlY29yYXRpb246bm9uZTttaW4td2lkdGg6Y2FsYyg2NHB4IC0gdmFyKC0tX2xlYWRpbmctc3BhY2UpIC0gdmFyKC0tX3RyYWlsaW5nLXNwYWNlKSk7d2lkdGg6MTAwJTt6LWluZGV4OjA7aGVpZ2h0OjEwMCU7Zm9udDppbmhlcml0O2NvbG9yOnZhcigtLV9sYWJlbC10ZXh0LWNvbG9yKTtwYWRkaW5nOjA7Z2FwOmluaGVyaXQ7dGV4dC10cmFuc2Zvcm06aW5oZXJpdH0uYnV0dG9uOjotbW96LWZvY3VzLWlubmVye3BhZGRpbmc6MDtib3JkZXI6MH06aG9zdCg6aG92ZXIpIC5idXR0b257Y29sb3I6dmFyKC0tX2hvdmVyLWxhYmVsLXRleHQtY29sb3IpfTpob3N0KDpmb2N1cy13aXRoaW4pIC5idXR0b257Y29sb3I6dmFyKC0tX2ZvY3VzLWxhYmVsLXRleHQtY29sb3IpfTpob3N0KDphY3RpdmUpIC5idXR0b257Y29sb3I6dmFyKC0tX3ByZXNzZWQtbGFiZWwtdGV4dC1jb2xvcil9LmJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1fY29udGFpbmVyLWNvbG9yKTtib3JkZXItcmFkaXVzOmluaGVyaXQ7aW5zZXQ6MDtwb3NpdGlvbjphYnNvbHV0ZX0ubGFiZWx7b3ZlcmZsb3c6aGlkZGVufTppcyguYnV0dG9uLC5sYWJlbCwubGFiZWwgc2xvdCksLmxhYmVsIDo6c2xvdHRlZCgqKXt0ZXh0LW92ZXJmbG93OmluaGVyaXR9Omhvc3QoOmlzKFtkaXNhYmxlZF0sW3NvZnQtZGlzYWJsZWRdKSkgLmxhYmVse2NvbG9yOnZhcigtLV9kaXNhYmxlZC1sYWJlbC10ZXh0LWNvbG9yKTtvcGFjaXR5OnZhcigtLV9kaXNhYmxlZC1sYWJlbC10ZXh0LW9wYWNpdHkpfTpob3N0KDppcyhbZGlzYWJsZWRdLFtzb2Z0LWRpc2FibGVkXSkpIC5iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6dmFyKC0tX2Rpc2FibGVkLWNvbnRhaW5lci1jb2xvcik7b3BhY2l0eTp2YXIoLS1fZGlzYWJsZWQtY29udGFpbmVyLW9wYWNpdHkpfUBtZWRpYShmb3JjZWQtY29sb3JzOiBhY3RpdmUpey5iYWNrZ3JvdW5ke2JvcmRlcjoxcHggc29saWQgQ2FudmFzVGV4dH06aG9zdCg6aXMoW2Rpc2FibGVkXSxbc29mdC1kaXNhYmxlZF0pKXstLV9kaXNhYmxlZC1pY29uLWNvbG9yOiBHcmF5VGV4dDstLV9kaXNhYmxlZC1pY29uLW9wYWNpdHk6IDE7LS1fZGlzYWJsZWQtY29udGFpbmVyLW9wYWNpdHk6IDE7LS1fZGlzYWJsZWQtbGFiZWwtdGV4dC1jb2xvcjogR3JheVRleHQ7LS1fZGlzYWJsZWQtbGFiZWwtdGV4dC1vcGFjaXR5OiAxfX06aG9zdChbaGFzLWljb25dOm5vdChbdHJhaWxpbmctaWNvbl0pKXtwYWRkaW5nLWlubGluZS1zdGFydDp2YXIoLS1fd2l0aC1sZWFkaW5nLWljb24tbGVhZGluZy1zcGFjZSk7cGFkZGluZy1pbmxpbmUtZW5kOnZhcigtLV93aXRoLWxlYWRpbmctaWNvbi10cmFpbGluZy1zcGFjZSl9Omhvc3QoW2hhcy1pY29uXVt0cmFpbGluZy1pY29uXSl7cGFkZGluZy1pbmxpbmUtc3RhcnQ6dmFyKC0tX3dpdGgtdHJhaWxpbmctaWNvbi1sZWFkaW5nLXNwYWNlKTtwYWRkaW5nLWlubGluZS1lbmQ6dmFyKC0tX3dpdGgtdHJhaWxpbmctaWNvbi10cmFpbGluZy1zcGFjZSl9OjpzbG90dGVkKFtzbG90PWljb25dKXtkaXNwbGF5OmlubGluZS1mbGV4O3Bvc2l0aW9uOnJlbGF0aXZlO3dyaXRpbmctbW9kZTpob3Jpem9udGFsLXRiO2ZpbGw6Y3VycmVudENvbG9yO2ZsZXgtc2hyaW5rOjA7Y29sb3I6dmFyKC0tX2ljb24tY29sb3IpO2ZvbnQtc2l6ZTp2YXIoLS1faWNvbi1zaXplKTtpbmxpbmUtc2l6ZTp2YXIoLS1faWNvbi1zaXplKTtibG9jay1zaXplOnZhcigtLV9pY29uLXNpemUpfTpob3N0KDpob3ZlcikgOjpzbG90dGVkKFtzbG90PWljb25dKXtjb2xvcjp2YXIoLS1faG92ZXItaWNvbi1jb2xvcil9Omhvc3QoOmZvY3VzLXdpdGhpbikgOjpzbG90dGVkKFtzbG90PWljb25dKXtjb2xvcjp2YXIoLS1fZm9jdXMtaWNvbi1jb2xvcil9Omhvc3QoOmFjdGl2ZSkgOjpzbG90dGVkKFtzbG90PWljb25dKXtjb2xvcjp2YXIoLS1fcHJlc3NlZC1pY29uLWNvbG9yKX06aG9zdCg6aXMoW2Rpc2FibGVkXSxbc29mdC1kaXNhYmxlZF0pKSA6OnNsb3R0ZWQoW3Nsb3Q9aWNvbl0pe2NvbG9yOnZhcigtLV9kaXNhYmxlZC1pY29uLWNvbG9yKTtvcGFjaXR5OnZhcigtLV9kaXNhYmxlZC1pY29uLW9wYWNpdHkpfS50b3VjaHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2hlaWdodDo0OHB4O2xlZnQ6MDtyaWdodDowO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpfTpob3N0KFt0b3VjaC10YXJnZXQ9d3JhcHBlcl0pe21hcmdpbjptYXgoMHB4LCg0OHB4IC0gdmFyKC0tX2NvbnRhaW5lci1oZWlnaHQpKS8yKSAwfTpob3N0KFt0b3VjaC10YXJnZXQ9bm9uZV0pIC50b3VjaHtkaXNwbGF5Om5vbmV9CmA7CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL2J1dHRvbi9lbGV2YXRlZC1idXR0b24uanMKICB2YXIgTWRFbGV2YXRlZEJ1dHRvbiA9IGNsYXNzIE1kRWxldmF0ZWRCdXR0b24yIGV4dGVuZHMgRWxldmF0ZWRCdXR0b24gewogIH07CiAgTWRFbGV2YXRlZEJ1dHRvbi5zdHlsZXMgPSBbCiAgICBzdHlsZXM2LAogICAgc3R5bGVzNSwKICAgIHN0eWxlczQKICBdOwogIE1kRWxldmF0ZWRCdXR0b24gPSBfX2RlY29yYXRlKFsKICAgIHQoIm1kLWVsZXZhdGVkLWJ1dHRvbiIpCiAgXSwgTWRFbGV2YXRlZEJ1dHRvbik7CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL2xhYnMvYmVoYXZpb3JzL2NvbnN0cmFpbnQtdmFsaWRhdGlvbi5qcwogIHZhciBjcmVhdGVWYWxpZGF0b3IgPSBTeW1ib2woImNyZWF0ZVZhbGlkYXRvciIpOwogIHZhciBnZXRWYWxpZGl0eUFuY2hvciA9IFN5bWJvbCgiZ2V0VmFsaWRpdHlBbmNob3IiKTsKICB2YXIgcHJpdmF0ZVZhbGlkYXRvciA9IFN5bWJvbCgicHJpdmF0ZVZhbGlkYXRvciIpOwogIHZhciBwcml2YXRlU3luY1ZhbGlkaXR5ID0gU3ltYm9sKCJwcml2YXRlU3luY1ZhbGlkaXR5Iik7CiAgdmFyIHByaXZhdGVDdXN0b21WYWxpZGF0aW9uTWVzc2FnZSA9IFN5bWJvbCgicHJpdmF0ZUN1c3RvbVZhbGlkYXRpb25NZXNzYWdlIik7CiAgZnVuY3Rpb24gbWl4aW5Db25zdHJhaW50VmFsaWRhdGlvbihiYXNlKSB7CiAgICB2YXIgX2EyOwogICAgY2xhc3MgQ29uc3RyYWludFZhbGlkYXRpb25FbGVtZW50IGV4dGVuZHMgYmFzZSB7CiAgICAgIGNvbnN0cnVjdG9yKCkgewogICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7CiAgICAgICAgdGhpc1tfYTJdID0gIiI7CiAgICAgIH0KICAgICAgZ2V0IHZhbGlkaXR5KCkgewogICAgICAgIHRoaXNbcHJpdmF0ZVN5bmNWYWxpZGl0eV0oKTsKICAgICAgICByZXR1cm4gdGhpc1tpbnRlcm5hbHNdLnZhbGlkaXR5OwogICAgICB9CiAgICAgIGdldCB2YWxpZGF0aW9uTWVzc2FnZSgpIHsKICAgICAgICB0aGlzW3ByaXZhdGVTeW5jVmFsaWRpdHldKCk7CiAgICAgICAgcmV0dXJuIHRoaXNbaW50ZXJuYWxzXS52YWxpZGF0aW9uTWVzc2FnZTsKICAgICAgfQogICAgICBnZXQgd2lsbFZhbGlkYXRlKCkgewogICAgICAgIHRoaXNbcHJpdmF0ZVN5bmNWYWxpZGl0eV0oKTsKICAgICAgICByZXR1cm4gdGhpc1tpbnRlcm5hbHNdLndpbGxWYWxpZGF0ZTsKICAgICAgfQogICAgICBjaGVja1ZhbGlkaXR5KCkgewogICAgICAgIHRoaXNbcHJpdmF0ZVN5bmNWYWxpZGl0eV0oKTsKICAgICAgICByZXR1cm4gdGhpc1tpbnRlcm5hbHNdLmNoZWNrVmFsaWRpdHkoKTsKICAgICAgfQogICAgICByZXBvcnRWYWxpZGl0eSgpIHsKICAgICAgICB0aGlzW3ByaXZhdGVTeW5jVmFsaWRpdHldKCk7CiAgICAgICAgcmV0dXJuIHRoaXNbaW50ZXJuYWxzXS5yZXBvcnRWYWxpZGl0eSgpOwogICAgICB9CiAgICAgIHNldEN1c3RvbVZhbGlkaXR5KGVycm9yKSB7CiAgICAgICAgdGhpc1twcml2YXRlQ3VzdG9tVmFsaWRhdGlvbk1lc3NhZ2VdID0gZXJyb3I7CiAgICAgICAgdGhpc1twcml2YXRlU3luY1ZhbGlkaXR5XSgpOwogICAgICB9CiAgICAgIHJlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUsIG9wdGlvbnMpIHsKICAgICAgICBzdXBlci5yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlLCBvcHRpb25zKTsKICAgICAgICB0aGlzW3ByaXZhdGVTeW5jVmFsaWRpdHldKCk7CiAgICAgIH0KICAgICAgZmlyc3RVcGRhdGVkKGNoYW5nZWQpIHsKICAgICAgICBzdXBlci5maXJzdFVwZGF0ZWQoY2hhbmdlZCk7CiAgICAgICAgdGhpc1twcml2YXRlU3luY1ZhbGlkaXR5XSgpOwogICAgICB9CiAgICAgIFsoX2EyID0gcHJpdmF0ZUN1c3RvbVZhbGlkYXRpb25NZXNzYWdlLCBwcml2YXRlU3luY1ZhbGlkaXR5KV0oKSB7CiAgICAgICAgaWYgKG83KSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICghdGhpc1twcml2YXRlVmFsaWRhdG9yXSkgewogICAgICAgICAgdGhpc1twcml2YXRlVmFsaWRhdG9yXSA9IHRoaXNbY3JlYXRlVmFsaWRhdG9yXSgpOwogICAgICAgIH0KICAgICAgICBjb25zdCB7IHZhbGlkaXR5LCB2YWxpZGF0aW9uTWVzc2FnZTogbm9uQ3VzdG9tVmFsaWRhdGlvbk1lc3NhZ2UgfSA9IHRoaXNbcHJpdmF0ZVZhbGlkYXRvcl0uZ2V0VmFsaWRpdHkoKTsKICAgICAgICBjb25zdCBjdXN0b21FcnJvciA9ICEhdGhpc1twcml2YXRlQ3VzdG9tVmFsaWRhdGlvbk1lc3NhZ2VdOwogICAgICAgIGNvbnN0IHZhbGlkYXRpb25NZXNzYWdlID0gdGhpc1twcml2YXRlQ3VzdG9tVmFsaWRhdGlvbk1lc3NhZ2VdIHx8IG5vbkN1c3RvbVZhbGlkYXRpb25NZXNzYWdlOwogICAgICAgIHRoaXNbaW50ZXJuYWxzXS5zZXRWYWxpZGl0eSh7IC4uLnZhbGlkaXR5LCBjdXN0b21FcnJvciB9LCB2YWxpZGF0aW9uTWVzc2FnZSwgdGhpc1tnZXRWYWxpZGl0eUFuY2hvcl0oKSA/PyB2b2lkIDApOwogICAgICB9CiAgICAgIFtjcmVhdGVWYWxpZGF0b3JdKCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcigiSW1wbGVtZW50IFtjcmVhdGVWYWxpZGF0b3JdIik7CiAgICAgIH0KICAgICAgW2dldFZhbGlkaXR5QW5jaG9yXSgpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkltcGxlbWVudCBbZ2V0VmFsaWRpdHlBbmNob3JdIik7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBDb25zdHJhaW50VmFsaWRhdGlvbkVsZW1lbnQ7CiAgfQoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9sYWJzL2JlaGF2aW9ycy9mb2N1c2FibGUuanMKICB2YXIgaXNGb2N1c2FibGUgPSBTeW1ib2woImlzRm9jdXNhYmxlIik7CiAgdmFyIHByaXZhdGVJc0ZvY3VzYWJsZSA9IFN5bWJvbCgicHJpdmF0ZUlzRm9jdXNhYmxlIik7CiAgdmFyIGV4dGVybmFsVGFiSW5kZXggPSBTeW1ib2woImV4dGVybmFsVGFiSW5kZXgiKTsKICB2YXIgaXNVcGRhdGluZ1RhYkluZGV4ID0gU3ltYm9sKCJpc1VwZGF0aW5nVGFiSW5kZXgiKTsKICB2YXIgdXBkYXRlVGFiSW5kZXggPSBTeW1ib2woInVwZGF0ZVRhYkluZGV4Iik7CiAgZnVuY3Rpb24gbWl4aW5Gb2N1c2FibGUoYmFzZSkgewogICAgdmFyIF9hMiwgX2IsIF9jOwogICAgY2xhc3MgRm9jdXNhYmxlRWxlbWVudCBleHRlbmRzIGJhc2UgewogICAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpOwogICAgICAgIHRoaXNbX2EyXSA9IHRydWU7CiAgICAgICAgdGhpc1tfYl0gPSBudWxsOwogICAgICAgIHRoaXNbX2NdID0gZmFsc2U7CiAgICAgIH0KICAgICAgZ2V0IFtpc0ZvY3VzYWJsZV0oKSB7CiAgICAgICAgcmV0dXJuIHRoaXNbcHJpdmF0ZUlzRm9jdXNhYmxlXTsKICAgICAgfQogICAgICBzZXQgW2lzRm9jdXNhYmxlXSh2YWx1ZSkgewogICAgICAgIGlmICh0aGlzW2lzRm9jdXNhYmxlXSA9PT0gdmFsdWUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpc1twcml2YXRlSXNGb2N1c2FibGVdID0gdmFsdWU7CiAgICAgICAgdGhpc1t1cGRhdGVUYWJJbmRleF0oKTsKICAgICAgfQogICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHsKICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpOwogICAgICAgIHRoaXNbdXBkYXRlVGFiSW5kZXhdKCk7CiAgICAgIH0KICAgICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZCwgdmFsdWUpIHsKICAgICAgICBpZiAobmFtZSAhPT0gInRhYmluZGV4IikgewogICAgICAgICAgc3VwZXIuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZCwgdmFsdWUpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoInRhYkluZGV4IiwgTnVtYmVyKG9sZCA/PyAtMSkpOwogICAgICAgIGlmICh0aGlzW2lzVXBkYXRpbmdUYWJJbmRleF0pIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKCF0aGlzLmhhc0F0dHJpYnV0ZSgidGFiaW5kZXgiKSkgewogICAgICAgICAgdGhpc1tleHRlcm5hbFRhYkluZGV4XSA9IG51bGw7CiAgICAgICAgICB0aGlzW3VwZGF0ZVRhYkluZGV4XSgpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGlzW2V4dGVybmFsVGFiSW5kZXhdID0gdGhpcy50YWJJbmRleDsKICAgICAgfQogICAgICBbKF9hMiA9IHByaXZhdGVJc0ZvY3VzYWJsZSwgX2IgPSBleHRlcm5hbFRhYkluZGV4LCBfYyA9IGlzVXBkYXRpbmdUYWJJbmRleCwgdXBkYXRlVGFiSW5kZXgpXSgpIHsKICAgICAgICBjb25zdCBpbnRlcm5hbFRhYkluZGV4ID0gdGhpc1tpc0ZvY3VzYWJsZV0gPyAwIDogLTE7CiAgICAgICAgY29uc3QgY29tcHV0ZWRUYWJJbmRleCA9IHRoaXNbZXh0ZXJuYWxUYWJJbmRleF0gPz8gaW50ZXJuYWxUYWJJbmRleDsKICAgICAgICB0aGlzW2lzVXBkYXRpbmdUYWJJbmRleF0gPSB0cnVlOwogICAgICAgIHRoaXMudGFiSW5kZXggPSBjb21wdXRlZFRhYkluZGV4OwogICAgICAgIHRoaXNbaXNVcGRhdGluZ1RhYkluZGV4XSA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgICBfX2RlY29yYXRlKFsKICAgICAgbjMoeyBub0FjY2Vzc29yOiB0cnVlIH0pCiAgICBdLCBGb2N1c2FibGVFbGVtZW50LnByb3RvdHlwZSwgInRhYkluZGV4Iiwgdm9pZCAwKTsKICAgIHJldHVybiBGb2N1c2FibGVFbGVtZW50OwogIH0KCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvbGFicy9iZWhhdmlvcnMvZm9ybS1hc3NvY2lhdGVkLmpzCiAgdmFyIGdldEZvcm1WYWx1ZSA9IFN5bWJvbCgiZ2V0Rm9ybVZhbHVlIik7CiAgdmFyIGdldEZvcm1TdGF0ZSA9IFN5bWJvbCgiZ2V0Rm9ybVN0YXRlIik7CiAgZnVuY3Rpb24gbWl4aW5Gb3JtQXNzb2NpYXRlZChiYXNlKSB7CiAgICBjbGFzcyBGb3JtQXNzb2NpYXRlZEVsZW1lbnQgZXh0ZW5kcyBiYXNlIHsKICAgICAgZ2V0IGZvcm0oKSB7CiAgICAgICAgcmV0dXJuIHRoaXNbaW50ZXJuYWxzXS5mb3JtOwogICAgICB9CiAgICAgIGdldCBsYWJlbHMoKSB7CiAgICAgICAgcmV0dXJuIHRoaXNbaW50ZXJuYWxzXS5sYWJlbHM7CiAgICAgIH0KICAgICAgLy8gVXNlIEBwcm9wZXJ0eSBmb3IgdGhlIGBuYW1lYCBhbmQgYGRpc2FibGVkYCBwcm9wZXJ0aWVzIHRvIGFkZCB0aGVtIHRvIHRoZQogICAgICAvLyBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYCBhcnJheSBhbmQgdHJpZ2dlciBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKClgLgogICAgICAvLwogICAgICAvLyBXZSBkb24ndCB1c2UgTGl0J3MgZGVmYXVsdCBnZXR0ZXIvc2V0dGVyIChgbm9BY2Nlc3NvcjogdHJ1ZWApIGJlY2F1c2UKICAgICAgLy8gdGhlIGF0dHJpYnV0ZXMgbmVlZCB0byBiZSB1cGRhdGVkIHN5bmNocm9ub3VzbHkgdG8gd29yayB3aXRoIHN5bmNocm9ub3VzCiAgICAgIC8vIGZvcm0gQVBJcywgYW5kIExpdCB1cGRhdGVzIGF0dHJpYnV0ZXMgYXN5bmMgYnkgZGVmYXVsdC4KICAgICAgZ2V0IG5hbWUoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCJuYW1lIikgPz8gIiI7CiAgICAgIH0KICAgICAgc2V0IG5hbWUobmFtZSkgewogICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCJuYW1lIiwgbmFtZSk7CiAgICAgIH0KICAgICAgZ2V0IGRpc2FibGVkKCkgewogICAgICAgIHJldHVybiB0aGlzLmhhc0F0dHJpYnV0ZSgiZGlzYWJsZWQiKTsKICAgICAgfQogICAgICBzZXQgZGlzYWJsZWQoZGlzYWJsZWQpIHsKICAgICAgICB0aGlzLnRvZ2dsZUF0dHJpYnV0ZSgiZGlzYWJsZWQiLCBkaXNhYmxlZCk7CiAgICAgIH0KICAgICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZCwgdmFsdWUpIHsKICAgICAgICBpZiAobmFtZSA9PT0gIm5hbWUiIHx8IG5hbWUgPT09ICJkaXNhYmxlZCIpIHsKICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gbmFtZSA9PT0gImRpc2FibGVkIiA/IG9sZCAhPT0gbnVsbCA6IG9sZDsKICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHN1cGVyLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGQsIHZhbHVlKTsKICAgICAgfQogICAgICByZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlLCBvcHRpb25zKSB7CiAgICAgICAgc3VwZXIucmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSwgb3B0aW9ucyk7CiAgICAgICAgdGhpc1tpbnRlcm5hbHNdLnNldEZvcm1WYWx1ZSh0aGlzW2dldEZvcm1WYWx1ZV0oKSwgdGhpc1tnZXRGb3JtU3RhdGVdKCkpOwogICAgICB9CiAgICAgIFtnZXRGb3JtVmFsdWVdKCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcigiSW1wbGVtZW50IFtnZXRGb3JtVmFsdWVdIik7CiAgICAgIH0KICAgICAgW2dldEZvcm1TdGF0ZV0oKSB7CiAgICAgICAgcmV0dXJuIHRoaXNbZ2V0Rm9ybVZhbHVlXSgpOwogICAgICB9CiAgICAgIGZvcm1EaXNhYmxlZENhbGxiYWNrKGRpc2FibGVkKSB7CiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGRpc2FibGVkOwogICAgICB9CiAgICB9CiAgICBGb3JtQXNzb2NpYXRlZEVsZW1lbnQuZm9ybUFzc29jaWF0ZWQgPSB0cnVlOwogICAgX19kZWNvcmF0ZShbCiAgICAgIG4zKHsgbm9BY2Nlc3NvcjogdHJ1ZSB9KQogICAgXSwgRm9ybUFzc29jaWF0ZWRFbGVtZW50LnByb3RvdHlwZSwgIm5hbWUiLCBudWxsKTsKICAgIF9fZGVjb3JhdGUoWwogICAgICBuMyh7IHR5cGU6IEJvb2xlYW4sIG5vQWNjZXNzb3I6IHRydWUgfSkKICAgIF0sIEZvcm1Bc3NvY2lhdGVkRWxlbWVudC5wcm90b3R5cGUsICJkaXNhYmxlZCIsIG51bGwpOwogICAgcmV0dXJuIEZvcm1Bc3NvY2lhdGVkRWxlbWVudDsKICB9CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL2xhYnMvYmVoYXZpb3JzL3ZhbGlkYXRvcnMvdmFsaWRhdG9yLmpzCiAgdmFyIFZhbGlkYXRvciA9IGNsYXNzIHsKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIG5ldyB2YWxpZGF0b3IuCiAgICAgKgogICAgICogQHBhcmFtIGdldEN1cnJlbnRTdGF0ZSBBIGNhbGxiYWNrIHRoYXQgcmV0dXJucyB0aGUgY3VycmVudCBzdGF0ZSBvZgogICAgICogICAgIGNvbnN0cmFpbnQgdmFsaWRhdGlvbi1yZWxhdGVkIHByb3BlcnRpZXMuCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKGdldEN1cnJlbnRTdGF0ZSkgewogICAgICB0aGlzLmdldEN1cnJlbnRTdGF0ZSA9IGdldEN1cnJlbnRTdGF0ZTsKICAgICAgdGhpcy5jdXJyZW50VmFsaWRpdHkgPSB7CiAgICAgICAgdmFsaWRpdHk6IHt9LAogICAgICAgIHZhbGlkYXRpb25NZXNzYWdlOiAiIgogICAgICB9OwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGBWYWxpZGl0eVN0YXRlRmxhZ3NgIGFuZCB2YWxpZGF0aW9uIG1lc3NhZ2UgZm9yIHRoZQogICAgICogdmFsaWRhdG9yLgogICAgICoKICAgICAqIElmIHRoZSBjb25zdHJhaW50IHZhbGlkYXRpb24gc3RhdGUgaGFzIG5vdCBjaGFuZ2VkLCB0aGlzIHdpbGwgcmV0dXJuIGEKICAgICAqIGNhY2hlZCByZXN1bHQuIFRoaXMgaXMgaW1wb3J0YW50IHNpbmNlIGBnZXRWYWxpZGl0eSgpYCBjYW4gYmUgY2FsbGVkCiAgICAgKiBmcmVxdWVudGx5IGluIHJlc3BvbnNlIHRvIHN5bmNocm9ub3VzIHByb3BlcnR5IGNoYW5nZXMuCiAgICAgKgogICAgICogQHJldHVybiBUaGUgY3VycmVudCB2YWxpZGl0eSBhbmQgdmFsaWRhdGlvbiBtZXNzYWdlLgogICAgICovCiAgICBnZXRWYWxpZGl0eSgpIHsKICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmdldEN1cnJlbnRTdGF0ZSgpOwogICAgICBjb25zdCBoYXNTdGF0ZUNoYW5nZWQgPSAhdGhpcy5wcmV2U3RhdGUgfHwgIXRoaXMuZXF1YWxzKHRoaXMucHJldlN0YXRlLCBzdGF0ZSk7CiAgICAgIGlmICghaGFzU3RhdGVDaGFuZ2VkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhbGlkaXR5OwogICAgICB9CiAgICAgIGNvbnN0IHsgdmFsaWRpdHksIHZhbGlkYXRpb25NZXNzYWdlIH0gPSB0aGlzLmNvbXB1dGVWYWxpZGl0eShzdGF0ZSk7CiAgICAgIHRoaXMucHJldlN0YXRlID0gdGhpcy5jb3B5KHN0YXRlKTsKICAgICAgdGhpcy5jdXJyZW50VmFsaWRpdHkgPSB7CiAgICAgICAgdmFsaWRhdGlvbk1lc3NhZ2UsCiAgICAgICAgdmFsaWRpdHk6IHsKICAgICAgICAgIC8vIENoYW5nZSBhbnkgYFZhbGlkaXR5U3RhdGVgIGluc3RhbmNlcyBpbnRvIGBWYWxpZGl0eVN0YXRlRmxhZ3NgIHNpbmNlCiAgICAgICAgICAvLyBgVmFsaWRpdHlTdGF0ZWAgY2Fubm90IGJlIGVhc2lseSBgey4uLnNwcmVhZH1gLgogICAgICAgICAgYmFkSW5wdXQ6IHZhbGlkaXR5LmJhZElucHV0LAogICAgICAgICAgY3VzdG9tRXJyb3I6IHZhbGlkaXR5LmN1c3RvbUVycm9yLAogICAgICAgICAgcGF0dGVybk1pc21hdGNoOiB2YWxpZGl0eS5wYXR0ZXJuTWlzbWF0Y2gsCiAgICAgICAgICByYW5nZU92ZXJmbG93OiB2YWxpZGl0eS5yYW5nZU92ZXJmbG93LAogICAgICAgICAgcmFuZ2VVbmRlcmZsb3c6IHZhbGlkaXR5LnJhbmdlVW5kZXJmbG93LAogICAgICAgICAgc3RlcE1pc21hdGNoOiB2YWxpZGl0eS5zdGVwTWlzbWF0Y2gsCiAgICAgICAgICB0b29Mb25nOiB2YWxpZGl0eS50b29Mb25nLAogICAgICAgICAgdG9vU2hvcnQ6IHZhbGlkaXR5LnRvb1Nob3J0LAogICAgICAgICAgdHlwZU1pc21hdGNoOiB2YWxpZGl0eS50eXBlTWlzbWF0Y2gsCiAgICAgICAgICB2YWx1ZU1pc3Npbmc6IHZhbGlkaXR5LnZhbHVlTWlzc2luZwogICAgICAgIH0KICAgICAgfTsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhbGlkaXR5OwogICAgfQogIH07CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL2xhYnMvYmVoYXZpb3JzL3ZhbGlkYXRvcnMvcmFkaW8tdmFsaWRhdG9yLmpzCiAgdmFyIFJhZGlvVmFsaWRhdG9yID0gY2xhc3MgZXh0ZW5kcyBWYWxpZGF0b3IgewogICAgY29tcHV0ZVZhbGlkaXR5KHN0YXRlcykgewogICAgICBpZiAoIXRoaXMucmFkaW9FbGVtZW50KSB7CiAgICAgICAgdGhpcy5yYWRpb0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgICAgIHRoaXMucmFkaW9FbGVtZW50LnR5cGUgPSAicmFkaW8iOwogICAgICAgIHRoaXMucmFkaW9FbGVtZW50Lm5hbWUgPSAiZ3JvdXAiOwogICAgICB9CiAgICAgIGxldCBpc1JlcXVpcmVkID0gZmFsc2U7CiAgICAgIGxldCBpc0NoZWNrZWQgPSBmYWxzZTsKICAgICAgZm9yIChjb25zdCB7IGNoZWNrZWQsIHJlcXVpcmVkIH0gb2Ygc3RhdGVzKSB7CiAgICAgICAgaWYgKHJlcXVpcmVkKSB7CiAgICAgICAgICBpc1JlcXVpcmVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKGNoZWNrZWQpIHsKICAgICAgICAgIGlzQ2hlY2tlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMucmFkaW9FbGVtZW50LmNoZWNrZWQgPSBpc0NoZWNrZWQ7CiAgICAgIHRoaXMucmFkaW9FbGVtZW50LnJlcXVpcmVkID0gaXNSZXF1aXJlZDsKICAgICAgcmV0dXJuIHsKICAgICAgICB2YWxpZGl0eTogewogICAgICAgICAgdmFsdWVNaXNzaW5nOiBpc1JlcXVpcmVkICYmICFpc0NoZWNrZWQKICAgICAgICB9LAogICAgICAgIHZhbGlkYXRpb25NZXNzYWdlOiB0aGlzLnJhZGlvRWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZQogICAgICB9OwogICAgfQogICAgZXF1YWxzKHByZXZHcm91cCwgbmV4dEdyb3VwKSB7CiAgICAgIGlmIChwcmV2R3JvdXAubGVuZ3RoICE9PSBuZXh0R3JvdXAubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGZvciAobGV0IGk4ID0gMDsgaTggPCBwcmV2R3JvdXAubGVuZ3RoOyBpOCsrKSB7CiAgICAgICAgY29uc3QgcHJldiA9IHByZXZHcm91cFtpOF07CiAgICAgICAgY29uc3QgbmV4dCA9IG5leHRHcm91cFtpOF07CiAgICAgICAgaWYgKHByZXYuY2hlY2tlZCAhPT0gbmV4dC5jaGVja2VkIHx8IHByZXYucmVxdWlyZWQgIT09IG5leHQucmVxdWlyZWQpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICBjb3B5KHN0YXRlcykgewogICAgICByZXR1cm4gc3RhdGVzLm1hcCgoeyBjaGVja2VkLCByZXF1aXJlZCB9KSA9PiAoewogICAgICAgIGNoZWNrZWQsCiAgICAgICAgcmVxdWlyZWQKICAgICAgfSkpOwogICAgfQogIH07CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL3JhZGlvL2ludGVybmFsL3NpbmdsZS1zZWxlY3Rpb24tY29udHJvbGxlci5qcwogIHZhciBTaW5nbGVTZWxlY3Rpb25Db250cm9sbGVyID0gY2xhc3MgewogICAgLyoqCiAgICAgKiBBbGwgc2luZ2xlIHNlbGVjdGlvbiBlbGVtZW50cyBpbiB0aGUgaG9zdCBlbGVtZW50J3Mgcm9vdCB3aXRoIHRoZSBzYW1lCiAgICAgKiBgbmFtZWAgYXR0cmlidXRlLCBpbmNsdWRpbmcgdGhlIGhvc3QgZWxlbWVudC4KICAgICAqLwogICAgZ2V0IGNvbnRyb2xzKCkgewogICAgICBjb25zdCBuYW1lID0gdGhpcy5ob3N0LmdldEF0dHJpYnV0ZSgibmFtZSIpOwogICAgICBpZiAoIW5hbWUgfHwgIXRoaXMucm9vdCB8fCAhdGhpcy5ob3N0LmlzQ29ubmVjdGVkKSB7CiAgICAgICAgcmV0dXJuIFt0aGlzLmhvc3RdOwogICAgICB9CiAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yQWxsKGBbbmFtZT0iJHtuYW1lfSJdYCkpOwogICAgfQogICAgY29uc3RydWN0b3IoaG9zdCkgewogICAgICB0aGlzLmhvc3QgPSBob3N0OwogICAgICB0aGlzLmZvY3VzZWQgPSBmYWxzZTsKICAgICAgdGhpcy5yb290ID0gbnVsbDsKICAgICAgdGhpcy5oYW5kbGVGb2N1c0luID0gKCkgPT4gewogICAgICAgIHRoaXMuZm9jdXNlZCA9IHRydWU7CiAgICAgICAgdGhpcy51cGRhdGVUYWJJbmRpY2VzKCk7CiAgICAgIH07CiAgICAgIHRoaXMuaGFuZGxlRm9jdXNPdXQgPSAoKSA9PiB7CiAgICAgICAgdGhpcy5mb2N1c2VkID0gZmFsc2U7CiAgICAgICAgdGhpcy51cGRhdGVUYWJJbmRpY2VzKCk7CiAgICAgIH07CiAgICAgIHRoaXMuaGFuZGxlS2V5RG93biA9IChldmVudCkgPT4gewogICAgICAgIGNvbnN0IGlzRG93biA9IGV2ZW50LmtleSA9PT0gIkFycm93RG93biI7CiAgICAgICAgY29uc3QgaXNVcCA9IGV2ZW50LmtleSA9PT0gIkFycm93VXAiOwogICAgICAgIGNvbnN0IGlzTGVmdCA9IGV2ZW50LmtleSA9PT0gIkFycm93TGVmdCI7CiAgICAgICAgY29uc3QgaXNSaWdodCA9IGV2ZW50LmtleSA9PT0gIkFycm93UmlnaHQiOwogICAgICAgIGlmICghaXNMZWZ0ICYmICFpc1JpZ2h0ICYmICFpc0Rvd24gJiYgIWlzVXApIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY29uc3Qgc2libGluZ3MgPSB0aGlzLmNvbnRyb2xzOwogICAgICAgIGlmICghc2libGluZ3MubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgY29uc3QgaXNSdGwgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMuaG9zdCkuZGlyZWN0aW9uID09PSAicnRsIjsKICAgICAgICBjb25zdCBmb3J3YXJkcyA9IGlzUnRsID8gaXNMZWZ0IHx8IGlzRG93biA6IGlzUmlnaHQgfHwgaXNEb3duOwogICAgICAgIGNvbnN0IGhvc3RJbmRleCA9IHNpYmxpbmdzLmluZGV4T2YodGhpcy5ob3N0KTsKICAgICAgICBsZXQgbmV4dEluZGV4ID0gZm9yd2FyZHMgPyBob3N0SW5kZXggKyAxIDogaG9zdEluZGV4IC0gMTsKICAgICAgICB3aGlsZSAobmV4dEluZGV4ICE9PSBob3N0SW5kZXgpIHsKICAgICAgICAgIGlmIChuZXh0SW5kZXggPj0gc2libGluZ3MubGVuZ3RoKSB7CiAgICAgICAgICAgIG5leHRJbmRleCA9IDA7CiAgICAgICAgICB9IGVsc2UgaWYgKG5leHRJbmRleCA8IDApIHsKICAgICAgICAgICAgbmV4dEluZGV4ID0gc2libGluZ3MubGVuZ3RoIC0gMTsKICAgICAgICAgIH0KICAgICAgICAgIGNvbnN0IG5leHRTaWJsaW5nID0gc2libGluZ3NbbmV4dEluZGV4XTsKICAgICAgICAgIGlmIChuZXh0U2libGluZy5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpIHsKICAgICAgICAgICAgaWYgKGZvcndhcmRzKSB7CiAgICAgICAgICAgICAgbmV4dEluZGV4Kys7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbmV4dEluZGV4LS07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKGNvbnN0IHNpYmxpbmcgb2Ygc2libGluZ3MpIHsKICAgICAgICAgICAgaWYgKHNpYmxpbmcgIT09IG5leHRTaWJsaW5nKSB7CiAgICAgICAgICAgICAgc2libGluZy5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgc2libGluZy50YWJJbmRleCA9IC0xOwogICAgICAgICAgICAgIHNpYmxpbmcuYmx1cigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBuZXh0U2libGluZy5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgIG5leHRTaWJsaW5nLnRhYkluZGV4ID0gMDsKICAgICAgICAgIG5leHRTaWJsaW5nLmZvY3VzKCk7CiAgICAgICAgICBuZXh0U2libGluZy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgiY2hhbmdlIiwgeyBidWJibGVzOiB0cnVlIH0pKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfTsKICAgIH0KICAgIGhvc3RDb25uZWN0ZWQoKSB7CiAgICAgIHRoaXMucm9vdCA9IHRoaXMuaG9zdC5nZXRSb290Tm9kZSgpOwogICAgICB0aGlzLmhvc3QuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIHRoaXMuaGFuZGxlS2V5RG93bik7CiAgICAgIHRoaXMuaG9zdC5hZGRFdmVudExpc3RlbmVyKCJmb2N1c2luIiwgdGhpcy5oYW5kbGVGb2N1c0luKTsKICAgICAgdGhpcy5ob3N0LmFkZEV2ZW50TGlzdGVuZXIoImZvY3Vzb3V0IiwgdGhpcy5oYW5kbGVGb2N1c091dCk7CiAgICAgIGlmICh0aGlzLmhvc3QuY2hlY2tlZCkgewogICAgICAgIHRoaXMudW5jaGVja1NpYmxpbmdzKCk7CiAgICAgIH0KICAgICAgdGhpcy51cGRhdGVUYWJJbmRpY2VzKCk7CiAgICB9CiAgICBob3N0RGlzY29ubmVjdGVkKCkgewogICAgICB0aGlzLmhvc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIHRoaXMuaGFuZGxlS2V5RG93bik7CiAgICAgIHRoaXMuaG9zdC5yZW1vdmVFdmVudExpc3RlbmVyKCJmb2N1c2luIiwgdGhpcy5oYW5kbGVGb2N1c0luKTsKICAgICAgdGhpcy5ob3N0LnJlbW92ZUV2ZW50TGlzdGVuZXIoImZvY3Vzb3V0IiwgdGhpcy5oYW5kbGVGb2N1c091dCk7CiAgICAgIHRoaXMudXBkYXRlVGFiSW5kaWNlcygpOwogICAgICB0aGlzLnJvb3QgPSBudWxsOwogICAgfQogICAgLyoqCiAgICAgKiBTaG91bGQgYmUgY2FsbGVkIHdoZW5ldmVyIHRoZSBob3N0J3MgYGNoZWNrZWRgIHByb3BlcnR5IGNoYW5nZXMKICAgICAqIHN5bmNocm9ub3VzbHkuCiAgICAgKi8KICAgIGhhbmRsZUNoZWNrZWRDaGFuZ2UoKSB7CiAgICAgIGlmICghdGhpcy5ob3N0LmNoZWNrZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy51bmNoZWNrU2libGluZ3MoKTsKICAgICAgdGhpcy51cGRhdGVUYWJJbmRpY2VzKCk7CiAgICB9CiAgICB1bmNoZWNrU2libGluZ3MoKSB7CiAgICAgIGZvciAoY29uc3Qgc2libGluZyBvZiB0aGlzLmNvbnRyb2xzKSB7CiAgICAgICAgaWYgKHNpYmxpbmcgIT09IHRoaXMuaG9zdCkgewogICAgICAgICAgc2libGluZy5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFVwZGF0ZXMgdGhlIGB0YWJpbmRleGAgb2YgdGhlIGhvc3QgYW5kIGl0cyBzaWJsaW5ncy4KICAgICAqLwogICAgdXBkYXRlVGFiSW5kaWNlcygpIHsKICAgICAgY29uc3Qgc2libGluZ3MgPSB0aGlzLmNvbnRyb2xzOwogICAgICBjb25zdCBjaGVja2VkU2libGluZyA9IHNpYmxpbmdzLmZpbmQoKHNpYmxpbmcpID0+IHNpYmxpbmcuY2hlY2tlZCk7CiAgICAgIGlmIChjaGVja2VkU2libGluZyB8fCB0aGlzLmZvY3VzZWQpIHsKICAgICAgICBjb25zdCBmb2N1c2FibGUgPSBjaGVja2VkU2libGluZyB8fCB0aGlzLmhvc3Q7CiAgICAgICAgZm9jdXNhYmxlLnRhYkluZGV4ID0gMDsKICAgICAgICBmb3IgKGNvbnN0IHNpYmxpbmcgb2Ygc2libGluZ3MpIHsKICAgICAgICAgIGlmIChzaWJsaW5nICE9PSBmb2N1c2FibGUpIHsKICAgICAgICAgICAgc2libGluZy50YWJJbmRleCA9IC0xOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgZm9yIChjb25zdCBzaWJsaW5nIG9mIHNpYmxpbmdzKSB7CiAgICAgICAgc2libGluZy50YWJJbmRleCA9IDA7CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9yYWRpby9pbnRlcm5hbC9yYWRpby5qcwogIHZhciBfYTsKICB2YXIgQ0hFQ0tFRCA9IFN5bWJvbCgiY2hlY2tlZCIpOwogIHZhciBtYXNrSWQgPSAwOwogIHZhciByYWRpb0Jhc2VDbGFzcyA9IG1peGluQ29uc3RyYWludFZhbGlkYXRpb24obWl4aW5Gb3JtQXNzb2NpYXRlZChtaXhpbkVsZW1lbnRJbnRlcm5hbHMobWl4aW5Gb2N1c2FibGUoaTQpKSkpOwogIHZhciBSYWRpbyA9IGNsYXNzIGV4dGVuZHMgcmFkaW9CYXNlQ2xhc3MgewogICAgLyoqCiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgcmFkaW8gaXMgc2VsZWN0ZWQuCiAgICAgKi8KICAgIGdldCBjaGVja2VkKCkgewogICAgICByZXR1cm4gdGhpc1tDSEVDS0VEXTsKICAgIH0KICAgIHNldCBjaGVja2VkKGNoZWNrZWQpIHsKICAgICAgY29uc3Qgd2FzQ2hlY2tlZCA9IHRoaXMuY2hlY2tlZDsKICAgICAgaWYgKHdhc0NoZWNrZWQgPT09IGNoZWNrZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpc1tDSEVDS0VEXSA9IGNoZWNrZWQ7CiAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgiY2hlY2tlZCIsIHdhc0NoZWNrZWQpOwogICAgICB0aGlzLnNlbGVjdGlvbkNvbnRyb2xsZXIuaGFuZGxlQ2hlY2tlZENoYW5nZSgpOwogICAgfQogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMubWFza0lkID0gYGN1dG91dCR7KyttYXNrSWR9YDsKICAgICAgdGhpc1tfYV0gPSBmYWxzZTsKICAgICAgdGhpcy5yZXF1aXJlZCA9IGZhbHNlOwogICAgICB0aGlzLnZhbHVlID0gIm9uIjsKICAgICAgdGhpcy5zZWxlY3Rpb25Db250cm9sbGVyID0gbmV3IFNpbmdsZVNlbGVjdGlvbkNvbnRyb2xsZXIodGhpcyk7CiAgICAgIHRoaXMuYWRkQ29udHJvbGxlcih0aGlzLnNlbGVjdGlvbkNvbnRyb2xsZXIpOwogICAgICBpZiAoIW83KSB7CiAgICAgICAgdGhpc1tpbnRlcm5hbHNdLnJvbGUgPSAicmFkaW8iOwogICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcykpOwogICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIHRoaXMuaGFuZGxlS2V5ZG93bi5iaW5kKHRoaXMpKTsKICAgICAgfQogICAgfQogICAgcmVuZGVyKCkgewogICAgICBjb25zdCBjbGFzc2VzID0geyAiY2hlY2tlZCI6IHRoaXMuY2hlY2tlZCB9OwogICAgICByZXR1cm4geGAKICAgICAgPGRpdiBjbGFzcz0iY29udGFpbmVyICR7ZTcoY2xhc3Nlcyl9IiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgICAgPG1kLXJpcHBsZQogICAgICAgICAgcGFydD0icmlwcGxlIgogICAgICAgICAgLmNvbnRyb2w9JHt0aGlzfQogICAgICAgICAgP2Rpc2FibGVkPSR7dGhpcy5kaXNhYmxlZH0+PC9tZC1yaXBwbGU+CiAgICAgICAgPG1kLWZvY3VzLXJpbmcgcGFydD0iZm9jdXMtcmluZyIgLmNvbnRyb2w9JHt0aGlzfT48L21kLWZvY3VzLXJpbmc+CiAgICAgICAgPHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDIwIDIwIj4KICAgICAgICAgIDxtYXNrIGlkPSIke3RoaXMubWFza0lkfSI+CiAgICAgICAgICAgIDxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IndoaXRlIiAvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSIxMCIgY3k9IjEwIiByPSI4IiBmaWxsPSJibGFjayIgLz4KICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgIDxjaXJjbGUKICAgICAgICAgICAgY2xhc3M9Im91dGVyIGNpcmNsZSIKICAgICAgICAgICAgY3g9IjEwIgogICAgICAgICAgICBjeT0iMTAiCiAgICAgICAgICAgIHI9IjEwIgogICAgICAgICAgICBtYXNrPSJ1cmwoIyR7dGhpcy5tYXNrSWR9KSIgLz4KICAgICAgICAgIDxjaXJjbGUgY2xhc3M9ImlubmVyIGNpcmNsZSIgY3g9IjEwIiBjeT0iMTAiIHI9IjUiIC8+CiAgICAgICAgPC9zdmc+CgogICAgICAgIDxkaXYgY2xhc3M9InRvdWNoLXRhcmdldCI+PC9kaXY+CiAgICAgIDwvZGl2PgogICAgYDsKICAgIH0KICAgIHVwZGF0ZWQoKSB7CiAgICAgIHRoaXNbaW50ZXJuYWxzXS5hcmlhQ2hlY2tlZCA9IFN0cmluZyh0aGlzLmNoZWNrZWQpOwogICAgfQogICAgYXN5bmMgaGFuZGxlQ2xpY2soZXZlbnQpIHsKICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgYXdhaXQgMDsKICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKGlzQWN0aXZhdGlvbkNsaWNrKGV2ZW50KSkgewogICAgICAgIHRoaXMuZm9jdXMoKTsKICAgICAgfQogICAgICB0aGlzLmNoZWNrZWQgPSB0cnVlOwogICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJjaGFuZ2UiLCB7IGJ1YmJsZXM6IHRydWUgfSkpOwogICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IElucHV0RXZlbnQoImlucHV0IiwgeyBidWJibGVzOiB0cnVlLCBjb21wb3NlZDogdHJ1ZSB9KSk7CiAgICB9CiAgICBhc3luYyBoYW5kbGVLZXlkb3duKGV2ZW50KSB7CiAgICAgIGF3YWl0IDA7CiAgICAgIGlmIChldmVudC5rZXkgIT09ICIgIiB8fCBldmVudC5kZWZhdWx0UHJldmVudGVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuY2xpY2soKTsKICAgIH0KICAgIFsoX2EgPSBDSEVDS0VELCBnZXRGb3JtVmFsdWUpXSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY2hlY2tlZCA/IHRoaXMudmFsdWUgOiBudWxsOwogICAgfQogICAgW2dldEZvcm1TdGF0ZV0oKSB7CiAgICAgIHJldHVybiBTdHJpbmcodGhpcy5jaGVja2VkKTsKICAgIH0KICAgIGZvcm1SZXNldENhbGxiYWNrKCkgewogICAgICB0aGlzLmNoZWNrZWQgPSB0aGlzLmhhc0F0dHJpYnV0ZSgiY2hlY2tlZCIpOwogICAgfQogICAgZm9ybVN0YXRlUmVzdG9yZUNhbGxiYWNrKHN0YXRlKSB7CiAgICAgIHRoaXMuY2hlY2tlZCA9IHN0YXRlID09PSAidHJ1ZSI7CiAgICB9CiAgICBbY3JlYXRlVmFsaWRhdG9yXSgpIHsKICAgICAgcmV0dXJuIG5ldyBSYWRpb1ZhbGlkYXRvcigoKSA9PiB7CiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGlvbkNvbnRyb2xsZXIpIHsKICAgICAgICAgIHJldHVybiBbdGhpc107CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbkNvbnRyb2xsZXIuY29udHJvbHM7CiAgICAgIH0pOwogICAgfQogICAgW2dldFZhbGlkaXR5QW5jaG9yXSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyOwogICAgfQogIH07CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHR5cGU6IEJvb2xlYW4gfSkKICBdLCBSYWRpby5wcm90b3R5cGUsICJjaGVja2VkIiwgbnVsbCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHR5cGU6IEJvb2xlYW4gfSkKICBdLCBSYWRpby5wcm90b3R5cGUsICJyZXF1aXJlZCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMygpCiAgXSwgUmFkaW8ucHJvdG90eXBlLCAidmFsdWUiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgZTQoIi5jb250YWluZXIiKQogIF0sIFJhZGlvLnByb3RvdHlwZSwgImNvbnRhaW5lciIsIHZvaWQgMCk7CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL3JhZGlvL2ludGVybmFsL3JhZGlvLXN0eWxlcy5qcwogIHZhciBzdHlsZXM3ID0gaWBAbGF5ZXJ7Omhvc3R7ZGlzcGxheTppbmxpbmUtZmxleDtoZWlnaHQ6dmFyKC0tbWQtcmFkaW8taWNvbi1zaXplLCAyMHB4KTtvdXRsaW5lOm5vbmU7cG9zaXRpb246cmVsYXRpdmU7dmVydGljYWwtYWxpZ246dG9wO3dpZHRoOnZhcigtLW1kLXJhZGlvLWljb24tc2l6ZSwgMjBweCk7LXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOnJnYmEoMCwwLDAsMCk7Y3Vyc29yOnBvaW50ZXI7LS1tZC1yaXBwbGUtaG92ZXItY29sb3I6IHZhcigtLW1kLXJhZGlvLWhvdmVyLXN0YXRlLWxheWVyLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpOy0tbWQtcmlwcGxlLWhvdmVyLW9wYWNpdHk6IHZhcigtLW1kLXJhZGlvLWhvdmVyLXN0YXRlLWxheWVyLW9wYWNpdHksIDAuMDgpOy0tbWQtcmlwcGxlLXByZXNzZWQtY29sb3I6IHZhcigtLW1kLXJhZGlvLXByZXNzZWQtc3RhdGUtbGF5ZXItY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1wcmltYXJ5LCAjNjc1MGE0KSk7LS1tZC1yaXBwbGUtcHJlc3NlZC1vcGFjaXR5OiB2YXIoLS1tZC1yYWRpby1wcmVzc2VkLXN0YXRlLWxheWVyLW9wYWNpdHksIDAuMTIpfTpob3N0KFtkaXNhYmxlZF0pe2N1cnNvcjpkZWZhdWx0fTpob3N0KFt0b3VjaC10YXJnZXQ9d3JhcHBlcl0pe21hcmdpbjptYXgoMHB4LCg0OHB4IC0gdmFyKC0tbWQtcmFkaW8taWNvbi1zaXplLCAyMHB4KSkvMil9LmNvbnRhaW5lcntkaXNwbGF5OmZsZXg7aGVpZ2h0OjEwMCU7cGxhY2UtY29udGVudDpjZW50ZXI7cGxhY2UtaXRlbXM6Y2VudGVyO3dpZHRoOjEwMCV9bWQtZm9jdXMtcmluZ3toZWlnaHQ6NDRweDtpbnNldDp1bnNldDt3aWR0aDo0NHB4fS5jaGVja2Vkey0tbWQtcmlwcGxlLWhvdmVyLWNvbG9yOiB2YXIoLS1tZC1yYWRpby1zZWxlY3RlZC1ob3Zlci1zdGF0ZS1sYXllci1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXByaW1hcnksICM2NzUwYTQpKTstLW1kLXJpcHBsZS1ob3Zlci1vcGFjaXR5OiB2YXIoLS1tZC1yYWRpby1zZWxlY3RlZC1ob3Zlci1zdGF0ZS1sYXllci1vcGFjaXR5LCAwLjA4KTstLW1kLXJpcHBsZS1wcmVzc2VkLWNvbG9yOiB2YXIoLS1tZC1yYWRpby1zZWxlY3RlZC1wcmVzc2VkLXN0YXRlLWxheWVyLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpOy0tbWQtcmlwcGxlLXByZXNzZWQtb3BhY2l0eTogdmFyKC0tbWQtcmFkaW8tc2VsZWN0ZWQtcHJlc3NlZC1zdGF0ZS1sYXllci1vcGFjaXR5LCAwLjEyKX0udG91Y2gtdGFyZ2V0e2hlaWdodDo0OHB4O3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjQ4cHh9Omhvc3QoW3RvdWNoLXRhcmdldD1ub25lXSkgLnRvdWNoLXRhcmdldHtkaXNwbGF5Om5vbmV9bWQtcmlwcGxle2JvcmRlci1yYWRpdXM6NTAlO2hlaWdodDp2YXIoLS1tZC1yYWRpby1zdGF0ZS1sYXllci1zaXplLCA0MHB4KTtpbnNldDp1bnNldDt3aWR0aDp2YXIoLS1tZC1yYWRpby1zdGF0ZS1sYXllci1zaXplLCA0MHB4KX0uaWNvbntmaWxsOnZhcigtLW1kLXJhZGlvLWljb24tY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLXZhcmlhbnQsICM0OTQ1NGYpKTtpbnNldDowO3Bvc2l0aW9uOmFic29sdXRlfS5vdXRlci5jaXJjbGV7dHJhbnNpdGlvbjpmaWxsIDUwbXMgbGluZWFyfS5pbm5lci5jaXJjbGV7b3BhY2l0eTowO3RyYW5zZm9ybS1vcmlnaW46Y2VudGVyO3RyYW5zaXRpb246b3BhY2l0eSA1MG1zIGxpbmVhcn0uY2hlY2tlZCAuaWNvbntmaWxsOnZhcigtLW1kLXJhZGlvLXNlbGVjdGVkLWljb24tY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1wcmltYXJ5LCAjNjc1MGE0KSl9LmNoZWNrZWQgLmlubmVyLmNpcmNsZXthbmltYXRpb246aW5uZXItY2lyY2xlLWdyb3cgMzAwbXMgY3ViaWMtYmV6aWVyKDAuMDUsIDAuNywgMC4xLCAxKTtvcGFjaXR5OjF9QGtleWZyYW1lcyBpbm5lci1jaXJjbGUtZ3Jvd3tmcm9te3RyYW5zZm9ybTpzY2FsZSgwKX10b3t0cmFuc2Zvcm06c2NhbGUoMSl9fTpob3N0KFtkaXNhYmxlZF0pIC5jaXJjbGV7YW5pbWF0aW9uLWR1cmF0aW9uOjBzO3RyYW5zaXRpb24tZHVyYXRpb246MHN9Omhvc3QoOmhvdmVyKSAuaWNvbntmaWxsOnZhcigtLW1kLXJhZGlvLWhvdmVyLWljb24tY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSl9Omhvc3QoOmZvY3VzLXdpdGhpbikgLmljb257ZmlsbDp2YXIoLS1tZC1yYWRpby1mb2N1cy1pY29uLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpfTpob3N0KDphY3RpdmUpIC5pY29ue2ZpbGw6dmFyKC0tbWQtcmFkaW8tcHJlc3NlZC1pY29uLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpfTpob3N0KFtkaXNhYmxlZF0pIC5pY29ue2ZpbGw6dmFyKC0tbWQtcmFkaW8tZGlzYWJsZWQtdW5zZWxlY3RlZC1pY29uLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpO29wYWNpdHk6dmFyKC0tbWQtcmFkaW8tZGlzYWJsZWQtdW5zZWxlY3RlZC1pY29uLW9wYWNpdHksIDAuMzgpfTpob3N0KDpob3ZlcikgLmNoZWNrZWQgLmljb257ZmlsbDp2YXIoLS1tZC1yYWRpby1zZWxlY3RlZC1ob3Zlci1pY29uLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItcHJpbWFyeSwgIzY3NTBhNCkpfTpob3N0KDpmb2N1cy13aXRoaW4pIC5jaGVja2VkIC5pY29ue2ZpbGw6dmFyKC0tbWQtcmFkaW8tc2VsZWN0ZWQtZm9jdXMtaWNvbi1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXByaW1hcnksICM2NzUwYTQpKX06aG9zdCg6YWN0aXZlKSAuY2hlY2tlZCAuaWNvbntmaWxsOnZhcigtLW1kLXJhZGlvLXNlbGVjdGVkLXByZXNzZWQtaWNvbi1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXByaW1hcnksICM2NzUwYTQpKX06aG9zdChbZGlzYWJsZWRdKSAuY2hlY2tlZCAuaWNvbntmaWxsOnZhcigtLW1kLXJhZGlvLWRpc2FibGVkLXNlbGVjdGVkLWljb24tY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7b3BhY2l0eTp2YXIoLS1tZC1yYWRpby1kaXNhYmxlZC1zZWxlY3RlZC1pY29uLW9wYWNpdHksIDAuMzgpfX1AbGF5ZXIgaGNte0BtZWRpYShmb3JjZWQtY29sb3JzOiBhY3RpdmUpey5pY29ue2ZpbGw6Q2FudmFzVGV4dH06aG9zdChbZGlzYWJsZWRdKSAuaWNvbntmaWxsOkdyYXlUZXh0O29wYWNpdHk6MX19fQpgOwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9yYWRpby9yYWRpby5qcwogIHZhciBNZFJhZGlvID0gY2xhc3MgTWRSYWRpbzIgZXh0ZW5kcyBSYWRpbyB7CiAgfTsKICBNZFJhZGlvLnN0eWxlcyA9IFtzdHlsZXM3XTsKICBNZFJhZGlvID0gX19kZWNvcmF0ZShbCiAgICB0KCJtZC1yYWRpbyIpCiAgXSwgTWRSYWRpbyk7CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL2ludGVybmFsL2V2ZW50cy9yZWRpc3BhdGNoLWV2ZW50LmpzCiAgZnVuY3Rpb24gcmVkaXNwYXRjaEV2ZW50KGVsZW1lbnQsIGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuYnViYmxlcyAmJiAoIWVsZW1lbnQuc2hhZG93Um9vdCB8fCBldmVudC5jb21wb3NlZCkpIHsKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICB9CiAgICBjb25zdCBjb3B5ID0gUmVmbGVjdC5jb25zdHJ1Y3QoZXZlbnQuY29uc3RydWN0b3IsIFtldmVudC50eXBlLCBldmVudF0pOwogICAgY29uc3QgZGlzcGF0Y2hlZCA9IGVsZW1lbnQuZGlzcGF0Y2hFdmVudChjb3B5KTsKICAgIGlmICghZGlzcGF0Y2hlZCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgfQogICAgcmV0dXJuIGRpc3BhdGNoZWQ7CiAgfQoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9sYWJzL2JlaGF2aW9ycy92YWxpZGF0b3JzL2NoZWNrYm94LXZhbGlkYXRvci5qcwogIHZhciBDaGVja2JveFZhbGlkYXRvciA9IGNsYXNzIGV4dGVuZHMgVmFsaWRhdG9yIHsKICAgIGNvbXB1dGVWYWxpZGl0eShzdGF0ZSkgewogICAgICBpZiAoIXRoaXMuY2hlY2tib3hDb250cm9sKSB7CiAgICAgICAgdGhpcy5jaGVja2JveENvbnRyb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgICAgIHRoaXMuY2hlY2tib3hDb250cm9sLnR5cGUgPSAiY2hlY2tib3giOwogICAgICB9CiAgICAgIHRoaXMuY2hlY2tib3hDb250cm9sLmNoZWNrZWQgPSBzdGF0ZS5jaGVja2VkOwogICAgICB0aGlzLmNoZWNrYm94Q29udHJvbC5yZXF1aXJlZCA9IHN0YXRlLnJlcXVpcmVkOwogICAgICByZXR1cm4gewogICAgICAgIHZhbGlkaXR5OiB0aGlzLmNoZWNrYm94Q29udHJvbC52YWxpZGl0eSwKICAgICAgICB2YWxpZGF0aW9uTWVzc2FnZTogdGhpcy5jaGVja2JveENvbnRyb2wudmFsaWRhdGlvbk1lc3NhZ2UKICAgICAgfTsKICAgIH0KICAgIGVxdWFscyhwcmV2LCBuZXh0KSB7CiAgICAgIHJldHVybiBwcmV2LmNoZWNrZWQgPT09IG5leHQuY2hlY2tlZCAmJiBwcmV2LnJlcXVpcmVkID09PSBuZXh0LnJlcXVpcmVkOwogICAgfQogICAgY29weSh7IGNoZWNrZWQsIHJlcXVpcmVkIH0pIHsKICAgICAgcmV0dXJuIHsgY2hlY2tlZCwgcmVxdWlyZWQgfTsKICAgIH0KICB9OwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9jaGVja2JveC9pbnRlcm5hbC9jaGVja2JveC5qcwogIHZhciBjaGVja2JveEJhc2VDbGFzcyA9IG1peGluRGVsZWdhdGVzQXJpYShtaXhpbkNvbnN0cmFpbnRWYWxpZGF0aW9uKG1peGluRm9ybUFzc29jaWF0ZWQobWl4aW5FbGVtZW50SW50ZXJuYWxzKGk0KSkpKTsKICB2YXIgQ2hlY2tib3ggPSBjbGFzcyBleHRlbmRzIGNoZWNrYm94QmFzZUNsYXNzIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICBzdXBlcigpOwogICAgICB0aGlzLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgdGhpcy5pbmRldGVybWluYXRlID0gZmFsc2U7CiAgICAgIHRoaXMucmVxdWlyZWQgPSBmYWxzZTsKICAgICAgdGhpcy52YWx1ZSA9ICJvbiI7CiAgICAgIHRoaXMucHJldkNoZWNrZWQgPSBmYWxzZTsKICAgICAgdGhpcy5wcmV2RGlzYWJsZWQgPSBmYWxzZTsKICAgICAgdGhpcy5wcmV2SW5kZXRlcm1pbmF0ZSA9IGZhbHNlOwogICAgICBpZiAoIW83KSB7CiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChldmVudCkgPT4gewogICAgICAgICAgaWYgKCFpc0FjdGl2YXRpb25DbGljayhldmVudCkgfHwgIXRoaXMuaW5wdXQpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5mb2N1cygpOwogICAgICAgICAgZGlzcGF0Y2hBY3RpdmF0aW9uQ2xpY2sodGhpcy5pbnB1dCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICAgIHVwZGF0ZShjaGFuZ2VkKSB7CiAgICAgIGlmIChjaGFuZ2VkLmhhcygiY2hlY2tlZCIpIHx8IGNoYW5nZWQuaGFzKCJkaXNhYmxlZCIpIHx8IGNoYW5nZWQuaGFzKCJpbmRldGVybWluYXRlIikpIHsKICAgICAgICB0aGlzLnByZXZDaGVja2VkID0gY2hhbmdlZC5nZXQoImNoZWNrZWQiKSA/PyB0aGlzLmNoZWNrZWQ7CiAgICAgICAgdGhpcy5wcmV2RGlzYWJsZWQgPSBjaGFuZ2VkLmdldCgiZGlzYWJsZWQiKSA/PyB0aGlzLmRpc2FibGVkOwogICAgICAgIHRoaXMucHJldkluZGV0ZXJtaW5hdGUgPSBjaGFuZ2VkLmdldCgiaW5kZXRlcm1pbmF0ZSIpID8/IHRoaXMuaW5kZXRlcm1pbmF0ZTsKICAgICAgfQogICAgICBzdXBlci51cGRhdGUoY2hhbmdlZCk7CiAgICB9CiAgICByZW5kZXIoKSB7CiAgICAgIGNvbnN0IHByZXZOb25lID0gIXRoaXMucHJldkNoZWNrZWQgJiYgIXRoaXMucHJldkluZGV0ZXJtaW5hdGU7CiAgICAgIGNvbnN0IHByZXZDaGVja2VkID0gdGhpcy5wcmV2Q2hlY2tlZCAmJiAhdGhpcy5wcmV2SW5kZXRlcm1pbmF0ZTsKICAgICAgY29uc3QgcHJldkluZGV0ZXJtaW5hdGUgPSB0aGlzLnByZXZJbmRldGVybWluYXRlOwogICAgICBjb25zdCBpc0NoZWNrZWQgPSB0aGlzLmNoZWNrZWQgJiYgIXRoaXMuaW5kZXRlcm1pbmF0ZTsKICAgICAgY29uc3QgaXNJbmRldGVybWluYXRlID0gdGhpcy5pbmRldGVybWluYXRlOwogICAgICBjb25zdCBjb250YWluZXJDbGFzc2VzID0gZTcoewogICAgICAgICJkaXNhYmxlZCI6IHRoaXMuZGlzYWJsZWQsCiAgICAgICAgInNlbGVjdGVkIjogaXNDaGVja2VkIHx8IGlzSW5kZXRlcm1pbmF0ZSwKICAgICAgICAidW5zZWxlY3RlZCI6ICFpc0NoZWNrZWQgJiYgIWlzSW5kZXRlcm1pbmF0ZSwKICAgICAgICAiY2hlY2tlZCI6IGlzQ2hlY2tlZCwKICAgICAgICAiaW5kZXRlcm1pbmF0ZSI6IGlzSW5kZXRlcm1pbmF0ZSwKICAgICAgICAicHJldi11bnNlbGVjdGVkIjogcHJldk5vbmUsCiAgICAgICAgInByZXYtY2hlY2tlZCI6IHByZXZDaGVja2VkLAogICAgICAgICJwcmV2LWluZGV0ZXJtaW5hdGUiOiBwcmV2SW5kZXRlcm1pbmF0ZSwKICAgICAgICAicHJldi1kaXNhYmxlZCI6IHRoaXMucHJldkRpc2FibGVkCiAgICAgIH0pOwogICAgICBjb25zdCB7IGFyaWFMYWJlbCwgYXJpYUludmFsaWQgfSA9IHRoaXM7CiAgICAgIHJldHVybiB4YAogICAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIgJHtjb250YWluZXJDbGFzc2VzfSI+CiAgICAgICAgPGlucHV0CiAgICAgICAgICB0eXBlPSJjaGVja2JveCIKICAgICAgICAgIGlkPSJpbnB1dCIKICAgICAgICAgIGFyaWEtY2hlY2tlZD0ke2lzSW5kZXRlcm1pbmF0ZSA/ICJtaXhlZCIgOiBFfQogICAgICAgICAgYXJpYS1sYWJlbD0ke2FyaWFMYWJlbCB8fCBFfQogICAgICAgICAgYXJpYS1pbnZhbGlkPSR7YXJpYUludmFsaWQgfHwgRX0KICAgICAgICAgID9kaXNhYmxlZD0ke3RoaXMuZGlzYWJsZWR9CiAgICAgICAgICA/cmVxdWlyZWQ9JHt0aGlzLnJlcXVpcmVkfQogICAgICAgICAgLmluZGV0ZXJtaW5hdGU9JHt0aGlzLmluZGV0ZXJtaW5hdGV9CiAgICAgICAgICAuY2hlY2tlZD0ke3RoaXMuY2hlY2tlZH0KICAgICAgICAgIEBpbnB1dD0ke3RoaXMuaGFuZGxlSW5wdXR9CiAgICAgICAgICBAY2hhbmdlPSR7dGhpcy5oYW5kbGVDaGFuZ2V9IC8+CgogICAgICAgIDxkaXYgY2xhc3M9Im91dGxpbmUiPjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImJhY2tncm91bmQiPjwvZGl2PgogICAgICAgIDxtZC1mb2N1cy1yaW5nIHBhcnQ9ImZvY3VzLXJpbmciIGZvcj0iaW5wdXQiPjwvbWQtZm9jdXMtcmluZz4KICAgICAgICA8bWQtcmlwcGxlIGZvcj0iaW5wdXQiID9kaXNhYmxlZD0ke3RoaXMuZGlzYWJsZWR9PjwvbWQtcmlwcGxlPgogICAgICAgIDxzdmcgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxOCAxOCIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgPHJlY3QgY2xhc3M9Im1hcmsgc2hvcnQiIC8+CiAgICAgICAgICA8cmVjdCBjbGFzcz0ibWFyayBsb25nIiAvPgogICAgICAgIDwvc3ZnPgogICAgICA8L2Rpdj4KICAgIGA7CiAgICB9CiAgICBoYW5kbGVJbnB1dChldmVudCkgewogICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7CiAgICAgIHRoaXMuY2hlY2tlZCA9IHRhcmdldC5jaGVja2VkOwogICAgICB0aGlzLmluZGV0ZXJtaW5hdGUgPSB0YXJnZXQuaW5kZXRlcm1pbmF0ZTsKICAgIH0KICAgIGhhbmRsZUNoYW5nZShldmVudCkgewogICAgICByZWRpc3BhdGNoRXZlbnQodGhpcywgZXZlbnQpOwogICAgfQogICAgW2dldEZvcm1WYWx1ZV0oKSB7CiAgICAgIGlmICghdGhpcy5jaGVja2VkIHx8IHRoaXMuaW5kZXRlcm1pbmF0ZSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnZhbHVlOwogICAgfQogICAgW2dldEZvcm1TdGF0ZV0oKSB7CiAgICAgIHJldHVybiBTdHJpbmcodGhpcy5jaGVja2VkKTsKICAgIH0KICAgIGZvcm1SZXNldENhbGxiYWNrKCkgewogICAgICB0aGlzLmNoZWNrZWQgPSB0aGlzLmhhc0F0dHJpYnV0ZSgiY2hlY2tlZCIpOwogICAgfQogICAgZm9ybVN0YXRlUmVzdG9yZUNhbGxiYWNrKHN0YXRlKSB7CiAgICAgIHRoaXMuY2hlY2tlZCA9IHN0YXRlID09PSAidHJ1ZSI7CiAgICB9CiAgICBbY3JlYXRlVmFsaWRhdG9yXSgpIHsKICAgICAgcmV0dXJuIG5ldyBDaGVja2JveFZhbGlkYXRvcigoKSA9PiB0aGlzKTsKICAgIH0KICAgIFtnZXRWYWxpZGl0eUFuY2hvcl0oKSB7CiAgICAgIHJldHVybiB0aGlzLmlucHV0OwogICAgfQogIH07CiAgQ2hlY2tib3guc2hhZG93Um9vdE9wdGlvbnMgPSB7CiAgICAuLi5pNC5zaGFkb3dSb290T3B0aW9ucywKICAgIGRlbGVnYXRlc0ZvY3VzOiB0cnVlCiAgfTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgdHlwZTogQm9vbGVhbiB9KQogIF0sIENoZWNrYm94LnByb3RvdHlwZSwgImNoZWNrZWQiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBCb29sZWFuIH0pCiAgXSwgQ2hlY2tib3gucHJvdG90eXBlLCAiaW5kZXRlcm1pbmF0ZSIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHR5cGU6IEJvb2xlYW4gfSkKICBdLCBDaGVja2JveC5wcm90b3R5cGUsICJyZXF1aXJlZCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMygpCiAgXSwgQ2hlY2tib3gucHJvdG90eXBlLCAidmFsdWUiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgcjQoKQogIF0sIENoZWNrYm94LnByb3RvdHlwZSwgInByZXZDaGVja2VkIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIHI0KCkKICBdLCBDaGVja2JveC5wcm90b3R5cGUsICJwcmV2RGlzYWJsZWQiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgcjQoKQogIF0sIENoZWNrYm94LnByb3RvdHlwZSwgInByZXZJbmRldGVybWluYXRlIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIGU0KCJpbnB1dCIpCiAgXSwgQ2hlY2tib3gucHJvdG90eXBlLCAiaW5wdXQiLCB2b2lkIDApOwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9jaGVja2JveC9pbnRlcm5hbC9jaGVja2JveC1zdHlsZXMuanMKICB2YXIgc3R5bGVzOCA9IGlgOmhvc3R7Ym9yZGVyLXN0YXJ0LXN0YXJ0LXJhZGl1czp2YXIoLS1tZC1jaGVja2JveC1jb250YWluZXItc2hhcGUtc3RhcnQtc3RhcnQsIHZhcigtLW1kLWNoZWNrYm94LWNvbnRhaW5lci1zaGFwZSwgMnB4KSk7Ym9yZGVyLXN0YXJ0LWVuZC1yYWRpdXM6dmFyKC0tbWQtY2hlY2tib3gtY29udGFpbmVyLXNoYXBlLXN0YXJ0LWVuZCwgdmFyKC0tbWQtY2hlY2tib3gtY29udGFpbmVyLXNoYXBlLCAycHgpKTtib3JkZXItZW5kLWVuZC1yYWRpdXM6dmFyKC0tbWQtY2hlY2tib3gtY29udGFpbmVyLXNoYXBlLWVuZC1lbmQsIHZhcigtLW1kLWNoZWNrYm94LWNvbnRhaW5lci1zaGFwZSwgMnB4KSk7Ym9yZGVyLWVuZC1zdGFydC1yYWRpdXM6dmFyKC0tbWQtY2hlY2tib3gtY29udGFpbmVyLXNoYXBlLWVuZC1zdGFydCwgdmFyKC0tbWQtY2hlY2tib3gtY29udGFpbmVyLXNoYXBlLCAycHgpKTtkaXNwbGF5OmlubGluZS1mbGV4O2hlaWdodDp2YXIoLS1tZC1jaGVja2JveC1jb250YWluZXItc2l6ZSwgMThweCk7cG9zaXRpb246cmVsYXRpdmU7dmVydGljYWwtYWxpZ246dG9wO3dpZHRoOnZhcigtLW1kLWNoZWNrYm94LWNvbnRhaW5lci1zaXplLCAxOHB4KTstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6cmdiYSgwLDAsMCwwKTtjdXJzb3I6cG9pbnRlcn06aG9zdChbZGlzYWJsZWRdKXtjdXJzb3I6ZGVmYXVsdH06aG9zdChbdG91Y2gtdGFyZ2V0PXdyYXBwZXJdKXttYXJnaW46bWF4KDBweCwoNDhweCAtIHZhcigtLW1kLWNoZWNrYm94LWNvbnRhaW5lci1zaXplLCAxOHB4KSkvMil9bWQtZm9jdXMtcmluZ3toZWlnaHQ6NDRweDtpbnNldDp1bnNldDt3aWR0aDo0NHB4fWlucHV0e2FwcGVhcmFuY2U6bm9uZTtoZWlnaHQ6NDhweDttYXJnaW46MDtvcGFjaXR5OjA7b3V0bGluZTpub25lO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjQ4cHg7ei1pbmRleDoxO2N1cnNvcjppbmhlcml0fTpob3N0KFt0b3VjaC10YXJnZXQ9bm9uZV0pIGlucHV0e2hlaWdodDoxMDAlO3dpZHRoOjEwMCV9LmNvbnRhaW5lcntib3JkZXItcmFkaXVzOmluaGVyaXQ7ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlO3BsYWNlLWNvbnRlbnQ6Y2VudGVyO3BsYWNlLWl0ZW1zOmNlbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlfS5vdXRsaW5lLC5iYWNrZ3JvdW5kLC5pY29ue2luc2V0OjA7cG9zaXRpb246YWJzb2x1dGV9Lm91dGxpbmUsLmJhY2tncm91bmR7Ym9yZGVyLXJhZGl1czppbmhlcml0fS5vdXRsaW5le2JvcmRlci1jb2xvcjp2YXIoLS1tZC1jaGVja2JveC1vdXRsaW5lLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZS12YXJpYW50LCAjNDk0NTRmKSk7Ym9yZGVyLXN0eWxlOnNvbGlkO2JvcmRlci13aWR0aDp2YXIoLS1tZC1jaGVja2JveC1vdXRsaW5lLXdpZHRoLCAycHgpO2JveC1zaXppbmc6Ym9yZGVyLWJveH0uYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLW1kLWNoZWNrYm94LXNlbGVjdGVkLWNvbnRhaW5lci1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXByaW1hcnksICM2NzUwYTQpKX0uYmFja2dyb3VuZCwuaWNvbntvcGFjaXR5OjA7dHJhbnNpdGlvbi1kdXJhdGlvbjoxNTBtcyw1MG1zO3RyYW5zaXRpb24tcHJvcGVydHk6dHJhbnNmb3JtLG9wYWNpdHk7dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMywgMCwgMC44LCAwLjE1KSxsaW5lYXI7dHJhbnNmb3JtOnNjYWxlKDAuNil9OndoZXJlKC5zZWxlY3RlZCkgOmlzKC5iYWNrZ3JvdW5kLC5pY29uKXtvcGFjaXR5OjE7dHJhbnNpdGlvbi1kdXJhdGlvbjozNTBtcyw1MG1zO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjA1LCAwLjcsIDAuMSwgMSksbGluZWFyO3RyYW5zZm9ybTpzY2FsZSgxKX1tZC1yaXBwbGV7Ym9yZGVyLXJhZGl1czp2YXIoLS1tZC1jaGVja2JveC1zdGF0ZS1sYXllci1zaGFwZSwgdmFyKC0tbWQtc3lzLXNoYXBlLWNvcm5lci1mdWxsLCA5OTk5cHgpKTtoZWlnaHQ6dmFyKC0tbWQtY2hlY2tib3gtc3RhdGUtbGF5ZXItc2l6ZSwgNDBweCk7aW5zZXQ6dW5zZXQ7d2lkdGg6dmFyKC0tbWQtY2hlY2tib3gtc3RhdGUtbGF5ZXItc2l6ZSwgNDBweCk7LS1tZC1yaXBwbGUtaG92ZXItY29sb3I6IHZhcigtLW1kLWNoZWNrYm94LWhvdmVyLXN0YXRlLWxheWVyLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpOy0tbWQtcmlwcGxlLWhvdmVyLW9wYWNpdHk6IHZhcigtLW1kLWNoZWNrYm94LWhvdmVyLXN0YXRlLWxheWVyLW9wYWNpdHksIDAuMDgpOy0tbWQtcmlwcGxlLXByZXNzZWQtY29sb3I6IHZhcigtLW1kLWNoZWNrYm94LXByZXNzZWQtc3RhdGUtbGF5ZXItY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1wcmltYXJ5LCAjNjc1MGE0KSk7LS1tZC1yaXBwbGUtcHJlc3NlZC1vcGFjaXR5OiB2YXIoLS1tZC1jaGVja2JveC1wcmVzc2VkLXN0YXRlLWxheWVyLW9wYWNpdHksIDAuMTIpfS5zZWxlY3RlZCBtZC1yaXBwbGV7LS1tZC1yaXBwbGUtaG92ZXItY29sb3I6IHZhcigtLW1kLWNoZWNrYm94LXNlbGVjdGVkLWhvdmVyLXN0YXRlLWxheWVyLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItcHJpbWFyeSwgIzY3NTBhNCkpOy0tbWQtcmlwcGxlLWhvdmVyLW9wYWNpdHk6IHZhcigtLW1kLWNoZWNrYm94LXNlbGVjdGVkLWhvdmVyLXN0YXRlLWxheWVyLW9wYWNpdHksIDAuMDgpOy0tbWQtcmlwcGxlLXByZXNzZWQtY29sb3I6IHZhcigtLW1kLWNoZWNrYm94LXNlbGVjdGVkLXByZXNzZWQtc3RhdGUtbGF5ZXItY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1tZC1yaXBwbGUtcHJlc3NlZC1vcGFjaXR5OiB2YXIoLS1tZC1jaGVja2JveC1zZWxlY3RlZC1wcmVzc2VkLXN0YXRlLWxheWVyLW9wYWNpdHksIDAuMTIpfS5pY29ue2ZpbGw6dmFyKC0tbWQtY2hlY2tib3gtc2VsZWN0ZWQtaWNvbi1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXByaW1hcnksICNmZmYpKTtoZWlnaHQ6dmFyKC0tbWQtY2hlY2tib3gtaWNvbi1zaXplLCAxOHB4KTt3aWR0aDp2YXIoLS1tZC1jaGVja2JveC1pY29uLXNpemUsIDE4cHgpfS5tYXJrLnNob3J0e2hlaWdodDoycHg7dHJhbnNpdGlvbi1wcm9wZXJ0eTp0cmFuc2Zvcm0saGVpZ2h0O3dpZHRoOjJweH0ubWFyay5sb25ne2hlaWdodDoycHg7dHJhbnNpdGlvbi1wcm9wZXJ0eTp0cmFuc2Zvcm0sd2lkdGg7d2lkdGg6MTBweH0ubWFya3thbmltYXRpb24tZHVyYXRpb246MTUwbXM7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC4zLCAwLCAwLjgsIDAuMTUpO3RyYW5zaXRpb24tZHVyYXRpb246MTUwbXM7dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMywgMCwgMC44LCAwLjE1KX0uc2VsZWN0ZWQgLm1hcmt7YW5pbWF0aW9uLWR1cmF0aW9uOjM1MG1zO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMDUsIDAuNywgMC4xLCAxKTt0cmFuc2l0aW9uLWR1cmF0aW9uOjM1MG1zO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjA1LCAwLjcsIDAuMSwgMSl9LmNoZWNrZWQgLm1hcmssLnByZXYtY2hlY2tlZC51bnNlbGVjdGVkIC5tYXJre3RyYW5zZm9ybTpzY2FsZVkoLTEpIHRyYW5zbGF0ZSg3cHgsIC0xNHB4KSByb3RhdGUoNDVkZWcpfS5jaGVja2VkIC5tYXJrLnNob3J0LC5wcmV2LWNoZWNrZWQudW5zZWxlY3RlZCAubWFyay5zaG9ydHtoZWlnaHQ6NS42NTY4NTQyNDk1cHh9LmNoZWNrZWQgLm1hcmsubG9uZywucHJldi1jaGVja2VkLnVuc2VsZWN0ZWQgLm1hcmsubG9uZ3t3aWR0aDoxMS4zMTM3MDg0OTlweH0uaW5kZXRlcm1pbmF0ZSAubWFyaywucHJldi1pbmRldGVybWluYXRlLnVuc2VsZWN0ZWQgLm1hcmt7dHJhbnNmb3JtOnNjYWxlWSgtMSkgdHJhbnNsYXRlKDRweCwgLTEwcHgpIHJvdGF0ZSgwZGVnKX0ucHJldi11bnNlbGVjdGVkIC5tYXJre3RyYW5zaXRpb24tcHJvcGVydHk6bm9uZX0ucHJldi11bnNlbGVjdGVkLmNoZWNrZWQgLm1hcmsubG9uZ3thbmltYXRpb24tbmFtZTpwcmV2LXVuc2VsZWN0ZWQtdG8tY2hlY2tlZH1Aa2V5ZnJhbWVzIHByZXYtdW5zZWxlY3RlZC10by1jaGVja2Vke2Zyb217d2lkdGg6MH19OndoZXJlKDpob3ZlcikgLm91dGxpbmV7Ym9yZGVyLWNvbG9yOnZhcigtLW1kLWNoZWNrYm94LWhvdmVyLW91dGxpbmUtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7Ym9yZGVyLXdpZHRoOnZhcigtLW1kLWNoZWNrYm94LWhvdmVyLW91dGxpbmUtd2lkdGgsIDJweCl9OndoZXJlKDpob3ZlcikgLmJhY2tncm91bmR7YmFja2dyb3VuZDp2YXIoLS1tZC1jaGVja2JveC1zZWxlY3RlZC1ob3Zlci1jb250YWluZXItY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1wcmltYXJ5LCAjNjc1MGE0KSl9OndoZXJlKDpob3ZlcikgLmljb257ZmlsbDp2YXIoLS1tZC1jaGVja2JveC1zZWxlY3RlZC1ob3Zlci1pY29uLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tcHJpbWFyeSwgI2ZmZikpfTp3aGVyZSg6Zm9jdXMtd2l0aGluKSAub3V0bGluZXtib3JkZXItY29sb3I6dmFyKC0tbWQtY2hlY2tib3gtZm9jdXMtb3V0bGluZS1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UsICMxZDFiMjApKTtib3JkZXItd2lkdGg6dmFyKC0tbWQtY2hlY2tib3gtZm9jdXMtb3V0bGluZS13aWR0aCwgMnB4KX06d2hlcmUoOmZvY3VzLXdpdGhpbikgLmJhY2tncm91bmR7YmFja2dyb3VuZDp2YXIoLS1tZC1jaGVja2JveC1zZWxlY3RlZC1mb2N1cy1jb250YWluZXItY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1wcmltYXJ5LCAjNjc1MGE0KSl9OndoZXJlKDpmb2N1cy13aXRoaW4pIC5pY29ue2ZpbGw6dmFyKC0tbWQtY2hlY2tib3gtc2VsZWN0ZWQtZm9jdXMtaWNvbi1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXByaW1hcnksICNmZmYpKX06d2hlcmUoOmFjdGl2ZSkgLm91dGxpbmV7Ym9yZGVyLWNvbG9yOnZhcigtLW1kLWNoZWNrYm94LXByZXNzZWQtb3V0bGluZS1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UsICMxZDFiMjApKTtib3JkZXItd2lkdGg6dmFyKC0tbWQtY2hlY2tib3gtcHJlc3NlZC1vdXRsaW5lLXdpZHRoLCAycHgpfTp3aGVyZSg6YWN0aXZlKSAuYmFja2dyb3VuZHtiYWNrZ3JvdW5kOnZhcigtLW1kLWNoZWNrYm94LXNlbGVjdGVkLXByZXNzZWQtY29udGFpbmVyLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItcHJpbWFyeSwgIzY3NTBhNCkpfTp3aGVyZSg6YWN0aXZlKSAuaWNvbntmaWxsOnZhcigtLW1kLWNoZWNrYm94LXNlbGVjdGVkLXByZXNzZWQtaWNvbi1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXByaW1hcnksICNmZmYpKX06d2hlcmUoLmRpc2FibGVkLC5wcmV2LWRpc2FibGVkKSA6aXMoLmJhY2tncm91bmQsLmljb24sLm1hcmspe2FuaW1hdGlvbi1kdXJhdGlvbjowczt0cmFuc2l0aW9uLWR1cmF0aW9uOjBzfTp3aGVyZSguZGlzYWJsZWQpIC5vdXRsaW5le2JvcmRlci1jb2xvcjp2YXIoLS1tZC1jaGVja2JveC1kaXNhYmxlZC1vdXRsaW5lLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpO2JvcmRlci13aWR0aDp2YXIoLS1tZC1jaGVja2JveC1kaXNhYmxlZC1vdXRsaW5lLXdpZHRoLCAycHgpO29wYWNpdHk6dmFyKC0tbWQtY2hlY2tib3gtZGlzYWJsZWQtY29udGFpbmVyLW9wYWNpdHksIDAuMzgpfTp3aGVyZSguc2VsZWN0ZWQuZGlzYWJsZWQpIC5vdXRsaW5le3Zpc2liaWxpdHk6aGlkZGVufTp3aGVyZSguc2VsZWN0ZWQuZGlzYWJsZWQpIC5iYWNrZ3JvdW5ke2JhY2tncm91bmQ6dmFyKC0tbWQtY2hlY2tib3gtc2VsZWN0ZWQtZGlzYWJsZWQtY29udGFpbmVyLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpO29wYWNpdHk6dmFyKC0tbWQtY2hlY2tib3gtc2VsZWN0ZWQtZGlzYWJsZWQtY29udGFpbmVyLW9wYWNpdHksIDAuMzgpfTp3aGVyZSguZGlzYWJsZWQpIC5pY29ue2ZpbGw6dmFyKC0tbWQtY2hlY2tib3gtc2VsZWN0ZWQtZGlzYWJsZWQtaWNvbi1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXN1cmZhY2UsICNmZWY3ZmYpKX1AbWVkaWEoZm9yY2VkLWNvbG9yczogYWN0aXZlKXsuYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOkNhbnZhc1RleHR9LnNlbGVjdGVkLmRpc2FibGVkIC5iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6R3JheVRleHQ7b3BhY2l0eToxfS5vdXRsaW5le2JvcmRlci1jb2xvcjpDYW52YXNUZXh0fS5kaXNhYmxlZCAub3V0bGluZXtib3JkZXItY29sb3I6R3JheVRleHQ7b3BhY2l0eToxfS5pY29ue2ZpbGw6Q2FudmFzfX0KYDsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvY2hlY2tib3gvY2hlY2tib3guanMKICB2YXIgTWRDaGVja2JveCA9IGNsYXNzIE1kQ2hlY2tib3gyIGV4dGVuZHMgQ2hlY2tib3ggewogIH07CiAgTWRDaGVja2JveC5zdHlsZXMgPSBbc3R5bGVzOF07CiAgTWRDaGVja2JveCA9IF9fZGVjb3JhdGUoWwogICAgdCgibWQtY2hlY2tib3giKQogIF0sIE1kQ2hlY2tib3gpOwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9maWVsZC9pbnRlcm5hbC9maWVsZC5qcwogIHZhciBGaWVsZCA9IGNsYXNzIGV4dGVuZHMgaTQgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7CiAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgdGhpcy5lcnJvciA9IGZhbHNlOwogICAgICB0aGlzLmZvY3VzZWQgPSBmYWxzZTsKICAgICAgdGhpcy5sYWJlbCA9ICIiOwogICAgICB0aGlzLm5vQXN0ZXJpc2sgPSBmYWxzZTsKICAgICAgdGhpcy5wb3B1bGF0ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5yZXF1aXJlZCA9IGZhbHNlOwogICAgICB0aGlzLnJlc2l6YWJsZSA9IGZhbHNlOwogICAgICB0aGlzLnN1cHBvcnRpbmdUZXh0ID0gIiI7CiAgICAgIHRoaXMuZXJyb3JUZXh0ID0gIiI7CiAgICAgIHRoaXMuY291bnQgPSAtMTsKICAgICAgdGhpcy5tYXggPSAtMTsKICAgICAgdGhpcy5oYXNTdGFydCA9IGZhbHNlOwogICAgICB0aGlzLmhhc0VuZCA9IGZhbHNlOwogICAgICB0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7CiAgICAgIHRoaXMucmVmcmVzaEVycm9yQWxlcnQgPSBmYWxzZTsKICAgICAgdGhpcy5kaXNhYmxlVHJhbnNpdGlvbnMgPSBmYWxzZTsKICAgIH0KICAgIGdldCBjb3VudGVyVGV4dCgpIHsKICAgICAgY29uc3QgY291bnRBc051bWJlciA9IHRoaXMuY291bnQgPz8gLTE7CiAgICAgIGNvbnN0IG1heEFzTnVtYmVyID0gdGhpcy5tYXggPz8gLTE7CiAgICAgIGlmIChjb3VudEFzTnVtYmVyIDwgMCB8fCBtYXhBc051bWJlciA8PSAwKSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICAgIHJldHVybiBgJHtjb3VudEFzTnVtYmVyfSAvICR7bWF4QXNOdW1iZXJ9YDsKICAgIH0KICAgIGdldCBzdXBwb3J0aW5nT3JFcnJvclRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLmVycm9yICYmIHRoaXMuZXJyb3JUZXh0ID8gdGhpcy5lcnJvclRleHQgOiB0aGlzLnN1cHBvcnRpbmdUZXh0OwogICAgfQogICAgLyoqCiAgICAgKiBSZS1hbm5vdW5jZXMgdGhlIGZpZWxkJ3MgZXJyb3Igc3VwcG9ydGluZyB0ZXh0IHRvIHNjcmVlbiByZWFkZXJzLgogICAgICoKICAgICAqIEVycm9yIHRleHQgYW5ub3VuY2VzIHRvIHNjcmVlbiByZWFkZXJzIGFueXRpbWUgaXQgaXMgdmlzaWJsZSBhbmQgY2hhbmdlcy4KICAgICAqIFVzZSB0aGUgbWV0aG9kIHRvIHJlLWFubm91bmNlIHRoZSBtZXNzYWdlIHdoZW4gdGhlIHRleHQgaGFzIG5vdCBjaGFuZ2VkLAogICAgICogYnV0IGFubm91bmNlbWVudCBpcyBzdGlsbCBuZWVkZWQgKHN1Y2ggYXMgZm9yIGByZXBvcnRWYWxpZGl0eSgpYCkuCiAgICAgKi8KICAgIHJlYW5ub3VuY2VFcnJvcigpIHsKICAgICAgdGhpcy5yZWZyZXNoRXJyb3JBbGVydCA9IHRydWU7CiAgICB9CiAgICB1cGRhdGUocHJvcHMpIHsKICAgICAgY29uc3QgaXNEaXNhYmxlZENoYW5naW5nID0gcHJvcHMuaGFzKCJkaXNhYmxlZCIpICYmIHByb3BzLmdldCgiZGlzYWJsZWQiKSAhPT0gdm9pZCAwOwogICAgICBpZiAoaXNEaXNhYmxlZENoYW5naW5nKSB7CiAgICAgICAgdGhpcy5kaXNhYmxlVHJhbnNpdGlvbnMgPSB0cnVlOwogICAgICB9CiAgICAgIGlmICh0aGlzLmRpc2FibGVkICYmIHRoaXMuZm9jdXNlZCkgewogICAgICAgIHByb3BzLnNldCgiZm9jdXNlZCIsIHRydWUpOwogICAgICAgIHRoaXMuZm9jdXNlZCA9IGZhbHNlOwogICAgICB9CiAgICAgIHRoaXMuYW5pbWF0ZUxhYmVsSWZOZWVkZWQoewogICAgICAgIHdhc0ZvY3VzZWQ6IHByb3BzLmdldCgiZm9jdXNlZCIpLAogICAgICAgIHdhc1BvcHVsYXRlZDogcHJvcHMuZ2V0KCJwb3B1bGF0ZWQiKQogICAgICB9KTsKICAgICAgc3VwZXIudXBkYXRlKHByb3BzKTsKICAgIH0KICAgIHJlbmRlcigpIHsKICAgICAgY29uc3QgZmxvYXRpbmdMYWJlbCA9IHRoaXMucmVuZGVyTGFiZWwoCiAgICAgICAgLyppc0Zsb2F0aW5nKi8KICAgICAgICB0cnVlCiAgICAgICk7CiAgICAgIGNvbnN0IHJlc3RpbmdMYWJlbCA9IHRoaXMucmVuZGVyTGFiZWwoCiAgICAgICAgLyppc0Zsb2F0aW5nKi8KICAgICAgICBmYWxzZQogICAgICApOwogICAgICBjb25zdCBvdXRsaW5lID0gdGhpcy5yZW5kZXJPdXRsaW5lPy4oZmxvYXRpbmdMYWJlbCk7CiAgICAgIGNvbnN0IGNsYXNzZXMgPSB7CiAgICAgICAgImRpc2FibGVkIjogdGhpcy5kaXNhYmxlZCwKICAgICAgICAiZGlzYWJsZS10cmFuc2l0aW9ucyI6IHRoaXMuZGlzYWJsZVRyYW5zaXRpb25zLAogICAgICAgICJlcnJvciI6IHRoaXMuZXJyb3IgJiYgIXRoaXMuZGlzYWJsZWQsCiAgICAgICAgImZvY3VzZWQiOiB0aGlzLmZvY3VzZWQsCiAgICAgICAgIndpdGgtc3RhcnQiOiB0aGlzLmhhc1N0YXJ0LAogICAgICAgICJ3aXRoLWVuZCI6IHRoaXMuaGFzRW5kLAogICAgICAgICJwb3B1bGF0ZWQiOiB0aGlzLnBvcHVsYXRlZCwKICAgICAgICAicmVzaXphYmxlIjogdGhpcy5yZXNpemFibGUsCiAgICAgICAgInJlcXVpcmVkIjogdGhpcy5yZXF1aXJlZCwKICAgICAgICAibm8tbGFiZWwiOiAhdGhpcy5sYWJlbAogICAgICB9OwogICAgICByZXR1cm4geGAKICAgICAgPGRpdiBjbGFzcz0iZmllbGQgJHtlNyhjbGFzc2VzKX0iPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lci1vdmVyZmxvdyI+CiAgICAgICAgICAke3RoaXMucmVuZGVyQmFja2dyb3VuZD8uKCl9CiAgICAgICAgICA8c2xvdCBuYW1lPSJjb250YWluZXIiPjwvc2xvdD4KICAgICAgICAgICR7dGhpcy5yZW5kZXJTdGF0ZUxheWVyPy4oKX0gJHt0aGlzLnJlbmRlckluZGljYXRvcj8uKCl9ICR7b3V0bGluZX0KICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXJ0Ij4KICAgICAgICAgICAgICA8c2xvdCBuYW1lPSJzdGFydCI+PC9zbG90PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWlkZGxlIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJsYWJlbC13cmFwcGVyIj4KICAgICAgICAgICAgICAgICR7cmVzdGluZ0xhYmVsfSAke291dGxpbmUgPyBFIDogZmxvYXRpbmdMYWJlbH0KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50Ij4KICAgICAgICAgICAgICAgIDxzbG90Pjwvc2xvdD4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVuZCI+CiAgICAgICAgICAgICAgPHNsb3QgbmFtZT0iZW5kIj48L3Nsb3Q+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgJHt0aGlzLnJlbmRlclN1cHBvcnRpbmdUZXh0KCl9CiAgICAgIDwvZGl2PgogICAgYDsKICAgIH0KICAgIHVwZGF0ZWQoY2hhbmdlZCkgewogICAgICBpZiAoY2hhbmdlZC5oYXMoInN1cHBvcnRpbmdUZXh0IikgfHwgY2hhbmdlZC5oYXMoImVycm9yVGV4dCIpIHx8IGNoYW5nZWQuaGFzKCJjb3VudCIpIHx8IGNoYW5nZWQuaGFzKCJtYXgiKSkgewogICAgICAgIHRoaXMudXBkYXRlU2xvdHRlZEFyaWFEZXNjcmliZWRCeSgpOwogICAgICB9CiAgICAgIGlmICh0aGlzLnJlZnJlc2hFcnJvckFsZXJ0KSB7CiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKICAgICAgICAgIHRoaXMucmVmcmVzaEVycm9yQWxlcnQgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQogICAgICBpZiAodGhpcy5kaXNhYmxlVHJhbnNpdGlvbnMpIHsKICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewogICAgICAgICAgdGhpcy5kaXNhYmxlVHJhbnNpdGlvbnMgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogICAgcmVuZGVyU3VwcG9ydGluZ1RleHQoKSB7CiAgICAgIGNvbnN0IHsgc3VwcG9ydGluZ09yRXJyb3JUZXh0LCBjb3VudGVyVGV4dCB9ID0gdGhpczsKICAgICAgaWYgKCFzdXBwb3J0aW5nT3JFcnJvclRleHQgJiYgIWNvdW50ZXJUZXh0KSB7CiAgICAgICAgcmV0dXJuIEU7CiAgICAgIH0KICAgICAgY29uc3Qgc3RhcnQgPSB4YDxzcGFuPiR7c3VwcG9ydGluZ09yRXJyb3JUZXh0fTwvc3Bhbj5gOwogICAgICBjb25zdCBlbmQgPSBjb3VudGVyVGV4dCA/IHhgPHNwYW4gY2xhc3M9ImNvdW50ZXIiPiR7Y291bnRlclRleHR9PC9zcGFuPmAgOiBFOwogICAgICBjb25zdCBzaG91bGRFcnJvckFubm91bmNlID0gdGhpcy5lcnJvciAmJiB0aGlzLmVycm9yVGV4dCAmJiAhdGhpcy5yZWZyZXNoRXJyb3JBbGVydDsKICAgICAgY29uc3Qgcm9sZSA9IHNob3VsZEVycm9yQW5ub3VuY2UgPyAiYWxlcnQiIDogRTsKICAgICAgcmV0dXJuIHhgCiAgICAgIDxkaXYgY2xhc3M9InN1cHBvcnRpbmctdGV4dCIgcm9sZT0ke3JvbGV9PiR7c3RhcnR9JHtlbmR9PC9kaXY+CiAgICAgIDxzbG90CiAgICAgICAgbmFtZT0iYXJpYS1kZXNjcmliZWRieSIKICAgICAgICBAc2xvdGNoYW5nZT0ke3RoaXMudXBkYXRlU2xvdHRlZEFyaWFEZXNjcmliZWRCeX0+PC9zbG90PgogICAgYDsKICAgIH0KICAgIHVwZGF0ZVNsb3R0ZWRBcmlhRGVzY3JpYmVkQnkoKSB7CiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLnNsb3R0ZWRBcmlhRGVzY3JpYmVkQnkpIHsKICAgICAgICBCKHhgJHt0aGlzLnN1cHBvcnRpbmdPckVycm9yVGV4dH0gJHt0aGlzLmNvdW50ZXJUZXh0fWAsIGVsZW1lbnQpOwogICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJoaWRkZW4iLCAiIik7CiAgICAgIH0KICAgIH0KICAgIHJlbmRlckxhYmVsKGlzRmxvYXRpbmcpIHsKICAgICAgaWYgKCF0aGlzLmxhYmVsKSB7CiAgICAgICAgcmV0dXJuIEU7CiAgICAgIH0KICAgICAgbGV0IHZpc2libGU7CiAgICAgIGlmIChpc0Zsb2F0aW5nKSB7CiAgICAgICAgdmlzaWJsZSA9IHRoaXMuZm9jdXNlZCB8fCB0aGlzLnBvcHVsYXRlZCB8fCB0aGlzLmlzQW5pbWF0aW5nOwogICAgICB9IGVsc2UgewogICAgICAgIHZpc2libGUgPSAhdGhpcy5mb2N1c2VkICYmICF0aGlzLnBvcHVsYXRlZCAmJiAhdGhpcy5pc0FuaW1hdGluZzsKICAgICAgfQogICAgICBjb25zdCBjbGFzc2VzID0gewogICAgICAgICJoaWRkZW4iOiAhdmlzaWJsZSwKICAgICAgICAiZmxvYXRpbmciOiBpc0Zsb2F0aW5nLAogICAgICAgICJyZXN0aW5nIjogIWlzRmxvYXRpbmcKICAgICAgfTsKICAgICAgY29uc3QgbGFiZWxUZXh0ID0gYCR7dGhpcy5sYWJlbH0ke3RoaXMucmVxdWlyZWQgJiYgIXRoaXMubm9Bc3RlcmlzayA/ICIqIiA6ICIifWA7CiAgICAgIHJldHVybiB4YAogICAgICA8c3BhbiBjbGFzcz0ibGFiZWwgJHtlNyhjbGFzc2VzKX0iIGFyaWEtaGlkZGVuPSR7IXZpc2libGV9CiAgICAgICAgPiR7bGFiZWxUZXh0fTwvc3BhbgogICAgICA+CiAgICBgOwogICAgfQogICAgYW5pbWF0ZUxhYmVsSWZOZWVkZWQoeyB3YXNGb2N1c2VkLCB3YXNQb3B1bGF0ZWQgfSkgewogICAgICBpZiAoIXRoaXMubGFiZWwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgd2FzRm9jdXNlZCA/Pz0gdGhpcy5mb2N1c2VkOwogICAgICB3YXNQb3B1bGF0ZWQgPz89IHRoaXMucG9wdWxhdGVkOwogICAgICBjb25zdCB3YXNGbG9hdGluZyA9IHdhc0ZvY3VzZWQgfHwgd2FzUG9wdWxhdGVkOwogICAgICBjb25zdCBzaG91bGRCZUZsb2F0aW5nID0gdGhpcy5mb2N1c2VkIHx8IHRoaXMucG9wdWxhdGVkOwogICAgICBpZiAod2FzRmxvYXRpbmcgPT09IHNob3VsZEJlRmxvYXRpbmcpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IHRydWU7CiAgICAgIHRoaXMubGFiZWxBbmltYXRpb24/LmNhbmNlbCgpOwogICAgICB0aGlzLmxhYmVsQW5pbWF0aW9uID0gdGhpcy5mbG9hdGluZ0xhYmVsRWw/LmFuaW1hdGUodGhpcy5nZXRMYWJlbEtleWZyYW1lcygpLCB7IGR1cmF0aW9uOiAxNTAsIGVhc2luZzogRUFTSU5HLlNUQU5EQVJEIH0pOwogICAgICB0aGlzLmxhYmVsQW5pbWF0aW9uPy5hZGRFdmVudExpc3RlbmVyKCJmaW5pc2giLCAoKSA9PiB7CiAgICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICAgIGdldExhYmVsS2V5ZnJhbWVzKCkgewogICAgICBjb25zdCB7IGZsb2F0aW5nTGFiZWxFbCwgcmVzdGluZ0xhYmVsRWwgfSA9IHRoaXM7CiAgICAgIGlmICghZmxvYXRpbmdMYWJlbEVsIHx8ICFyZXN0aW5nTGFiZWxFbCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgICBjb25zdCB7IHg6IGZsb2F0aW5nWCwgeTogZmxvYXRpbmdZLCBoZWlnaHQ6IGZsb2F0aW5nSGVpZ2h0IH0gPSBmbG9hdGluZ0xhYmVsRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIGNvbnN0IHsgeDogcmVzdGluZ1gsIHk6IHJlc3RpbmdZLCBoZWlnaHQ6IHJlc3RpbmdIZWlnaHQgfSA9IHJlc3RpbmdMYWJlbEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICBjb25zdCBmbG9hdGluZ1Njcm9sbFdpZHRoID0gZmxvYXRpbmdMYWJlbEVsLnNjcm9sbFdpZHRoOwogICAgICBjb25zdCByZXN0aW5nU2Nyb2xsV2lkdGggPSByZXN0aW5nTGFiZWxFbC5zY3JvbGxXaWR0aDsKICAgICAgY29uc3Qgc2NhbGUgPSByZXN0aW5nU2Nyb2xsV2lkdGggLyBmbG9hdGluZ1Njcm9sbFdpZHRoOwogICAgICBjb25zdCB4RGVsdGEgPSByZXN0aW5nWCAtIGZsb2F0aW5nWDsKICAgICAgY29uc3QgeURlbHRhID0gcmVzdGluZ1kgLSBmbG9hdGluZ1kgKyBNYXRoLnJvdW5kKChyZXN0aW5nSGVpZ2h0IC0gZmxvYXRpbmdIZWlnaHQgKiBzY2FsZSkgLyAyKTsKICAgICAgY29uc3QgcmVzdFRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7eERlbHRhfXB4KSB0cmFuc2xhdGVZKCR7eURlbHRhfXB4KSBzY2FsZSgke3NjYWxlfSlgOwogICAgICBjb25zdCBmbG9hdFRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKDApIHRyYW5zbGF0ZVkoMCkgc2NhbGUoMSlgOwogICAgICBjb25zdCByZXN0aW5nQ2xpZW50V2lkdGggPSByZXN0aW5nTGFiZWxFbC5jbGllbnRXaWR0aDsKICAgICAgY29uc3QgaXNSZXN0aW5nQ2xpcHBlZCA9IHJlc3RpbmdTY3JvbGxXaWR0aCA+IHJlc3RpbmdDbGllbnRXaWR0aDsKICAgICAgY29uc3Qgd2lkdGggPSBpc1Jlc3RpbmdDbGlwcGVkID8gYCR7cmVzdGluZ0NsaWVudFdpZHRoIC8gc2NhbGV9cHhgIDogIiI7CiAgICAgIGlmICh0aGlzLmZvY3VzZWQgfHwgdGhpcy5wb3B1bGF0ZWQpIHsKICAgICAgICByZXR1cm4gWwogICAgICAgICAgeyB0cmFuc2Zvcm06IHJlc3RUcmFuc2Zvcm0sIHdpZHRoIH0sCiAgICAgICAgICB7IHRyYW5zZm9ybTogZmxvYXRUcmFuc2Zvcm0sIHdpZHRoIH0KICAgICAgICBdOwogICAgICB9CiAgICAgIHJldHVybiBbCiAgICAgICAgeyB0cmFuc2Zvcm06IGZsb2F0VHJhbnNmb3JtLCB3aWR0aCB9LAogICAgICAgIHsgdHJhbnNmb3JtOiByZXN0VHJhbnNmb3JtLCB3aWR0aCB9CiAgICAgIF07CiAgICB9CiAgICBnZXRTdXJmYWNlUG9zaXRpb25DbGllbnRSZWN0KCkgewogICAgICByZXR1cm4gdGhpcy5jb250YWluZXJFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgIH0KICB9OwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBCb29sZWFuIH0pCiAgXSwgRmllbGQucHJvdG90eXBlLCAiZGlzYWJsZWQiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBCb29sZWFuIH0pCiAgXSwgRmllbGQucHJvdG90eXBlLCAiZXJyb3IiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBCb29sZWFuIH0pCiAgXSwgRmllbGQucHJvdG90eXBlLCAiZm9jdXNlZCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMygpCiAgXSwgRmllbGQucHJvdG90eXBlLCAibGFiZWwiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBCb29sZWFuLCBhdHRyaWJ1dGU6ICJuby1hc3RlcmlzayIgfSkKICBdLCBGaWVsZC5wcm90b3R5cGUsICJub0FzdGVyaXNrIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgdHlwZTogQm9vbGVhbiB9KQogIF0sIEZpZWxkLnByb3RvdHlwZSwgInBvcHVsYXRlZCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHR5cGU6IEJvb2xlYW4gfSkKICBdLCBGaWVsZC5wcm90b3R5cGUsICJyZXF1aXJlZCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHR5cGU6IEJvb2xlYW4gfSkKICBdLCBGaWVsZC5wcm90b3R5cGUsICJyZXNpemFibGUiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyBhdHRyaWJ1dGU6ICJzdXBwb3J0aW5nLXRleHQiIH0pCiAgXSwgRmllbGQucHJvdG90eXBlLCAic3VwcG9ydGluZ1RleHQiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyBhdHRyaWJ1dGU6ICJlcnJvci10ZXh0IiB9KQogIF0sIEZpZWxkLnByb3RvdHlwZSwgImVycm9yVGV4dCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHR5cGU6IE51bWJlciB9KQogIF0sIEZpZWxkLnByb3RvdHlwZSwgImNvdW50Iiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgdHlwZTogTnVtYmVyIH0pCiAgXSwgRmllbGQucHJvdG90eXBlLCAibWF4Iiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiAiaGFzLXN0YXJ0IiB9KQogIF0sIEZpZWxkLnByb3RvdHlwZSwgImhhc1N0YXJ0Iiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiAiaGFzLWVuZCIgfSkKICBdLCBGaWVsZC5wcm90b3R5cGUsICJoYXNFbmQiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbzQoeyBzbG90OiAiYXJpYS1kZXNjcmliZWRieSIgfSkKICBdLCBGaWVsZC5wcm90b3R5cGUsICJzbG90dGVkQXJpYURlc2NyaWJlZEJ5Iiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIHI0KCkKICBdLCBGaWVsZC5wcm90b3R5cGUsICJpc0FuaW1hdGluZyIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICByNCgpCiAgXSwgRmllbGQucHJvdG90eXBlLCAicmVmcmVzaEVycm9yQWxlcnQiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgcjQoKQogIF0sIEZpZWxkLnByb3RvdHlwZSwgImRpc2FibGVUcmFuc2l0aW9ucyIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBlNCgiLmxhYmVsLmZsb2F0aW5nIikKICBdLCBGaWVsZC5wcm90b3R5cGUsICJmbG9hdGluZ0xhYmVsRWwiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgZTQoIi5sYWJlbC5yZXN0aW5nIikKICBdLCBGaWVsZC5wcm90b3R5cGUsICJyZXN0aW5nTGFiZWxFbCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBlNCgiLmNvbnRhaW5lciIpCiAgXSwgRmllbGQucHJvdG90eXBlLCAiY29udGFpbmVyRWwiLCB2b2lkIDApOwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9maWVsZC9pbnRlcm5hbC9vdXRsaW5lZC1maWVsZC5qcwogIHZhciBPdXRsaW5lZEZpZWxkID0gY2xhc3MgZXh0ZW5kcyBGaWVsZCB7CiAgICByZW5kZXJPdXRsaW5lKGZsb2F0aW5nTGFiZWwpIHsKICAgICAgcmV0dXJuIHhgCiAgICAgIDxkaXYgY2xhc3M9Im91dGxpbmUiPgogICAgICAgIDxkaXYgY2xhc3M9Im91dGxpbmUtc3RhcnQiPjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im91dGxpbmUtbm90Y2giPgogICAgICAgICAgPGRpdiBjbGFzcz0ib3V0bGluZS1wYW5lbC1pbmFjdGl2ZSI+PC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJvdXRsaW5lLXBhbmVsLWFjdGl2ZSI+PC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJvdXRsaW5lLWxhYmVsIj4ke2Zsb2F0aW5nTGFiZWx9PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ib3V0bGluZS1lbmQiPjwvZGl2PgogICAgICA8L2Rpdj4KICAgIGA7CiAgICB9CiAgfTsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvZmllbGQvaW50ZXJuYWwvb3V0bGluZWQtc3R5bGVzLmpzCiAgdmFyIHN0eWxlczkgPSBpYEBsYXllciBzdHlsZXN7Omhvc3R7LS1fYm90dG9tLXNwYWNlOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1ib3R0b20tc3BhY2UsIDE2cHgpOy0tX2NvbnRlbnQtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWNvbnRlbnQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1fY29udGVudC1mb250OiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1jb250ZW50LWZvbnQsIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1sYXJnZS1mb250LCB2YXIoLS1tZC1yZWYtdHlwZWZhY2UtcGxhaW4sIFJvYm90bykpKTstLV9jb250ZW50LWxpbmUtaGVpZ2h0OiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1jb250ZW50LWxpbmUtaGVpZ2h0LCB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWJvZHktbGFyZ2UtbGluZS1oZWlnaHQsIDEuNXJlbSkpOy0tX2NvbnRlbnQtc2l6ZTogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtY29udGVudC1zaXplLCB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWJvZHktbGFyZ2Utc2l6ZSwgMXJlbSkpOy0tX2NvbnRlbnQtc3BhY2U6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWNvbnRlbnQtc3BhY2UsIDE2cHgpOy0tX2NvbnRlbnQtd2VpZ2h0OiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1jb250ZW50LXdlaWdodCwgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1ib2R5LWxhcmdlLXdlaWdodCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLXdlaWdodC1yZWd1bGFyLCA0MDApKSk7LS1fZGlzYWJsZWQtY29udGVudC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZGlzYWJsZWQtY29udGVudC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UsICMxZDFiMjApKTstLV9kaXNhYmxlZC1jb250ZW50LW9wYWNpdHk6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWRpc2FibGVkLWNvbnRlbnQtb3BhY2l0eSwgMC4zOCk7LS1fZGlzYWJsZWQtbGFiZWwtdGV4dC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZGlzYWJsZWQtbGFiZWwtdGV4dC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UsICMxZDFiMjApKTstLV9kaXNhYmxlZC1sYWJlbC10ZXh0LW9wYWNpdHk6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWRpc2FibGVkLWxhYmVsLXRleHQtb3BhY2l0eSwgMC4zOCk7LS1fZGlzYWJsZWQtbGVhZGluZy1jb250ZW50LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1kaXNhYmxlZC1sZWFkaW5nLWNvbnRlbnQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1fZGlzYWJsZWQtbGVhZGluZy1jb250ZW50LW9wYWNpdHk6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWRpc2FibGVkLWxlYWRpbmctY29udGVudC1vcGFjaXR5LCAwLjM4KTstLV9kaXNhYmxlZC1vdXRsaW5lLWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1kaXNhYmxlZC1vdXRsaW5lLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpOy0tX2Rpc2FibGVkLW91dGxpbmUtb3BhY2l0eTogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZGlzYWJsZWQtb3V0bGluZS1vcGFjaXR5LCAwLjEyKTstLV9kaXNhYmxlZC1vdXRsaW5lLXdpZHRoOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1kaXNhYmxlZC1vdXRsaW5lLXdpZHRoLCAxcHgpOy0tX2Rpc2FibGVkLXN1cHBvcnRpbmctdGV4dC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZGlzYWJsZWQtc3VwcG9ydGluZy10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpOy0tX2Rpc2FibGVkLXN1cHBvcnRpbmctdGV4dC1vcGFjaXR5OiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1kaXNhYmxlZC1zdXBwb3J0aW5nLXRleHQtb3BhY2l0eSwgMC4zOCk7LS1fZGlzYWJsZWQtdHJhaWxpbmctY29udGVudC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZGlzYWJsZWQtdHJhaWxpbmctY29udGVudC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UsICMxZDFiMjApKTstLV9kaXNhYmxlZC10cmFpbGluZy1jb250ZW50LW9wYWNpdHk6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWRpc2FibGVkLXRyYWlsaW5nLWNvbnRlbnQtb3BhY2l0eSwgMC4zOCk7LS1fZXJyb3ItY29udGVudC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItY29udGVudC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UsICMxZDFiMjApKTstLV9lcnJvci1mb2N1cy1jb250ZW50LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1lcnJvci1mb2N1cy1jb250ZW50LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpOy0tX2Vycm9yLWZvY3VzLWxhYmVsLXRleHQtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWVycm9yLWZvY3VzLWxhYmVsLXRleHQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1lcnJvciwgI2IzMjYxZSkpOy0tX2Vycm9yLWZvY3VzLWxlYWRpbmctY29udGVudC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItZm9jdXMtbGVhZGluZy1jb250ZW50LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZS12YXJpYW50LCAjNDk0NTRmKSk7LS1fZXJyb3ItZm9jdXMtb3V0bGluZS1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItZm9jdXMtb3V0bGluZS1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLWVycm9yLCAjYjMyNjFlKSk7LS1fZXJyb3ItZm9jdXMtc3VwcG9ydGluZy10ZXh0LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1lcnJvci1mb2N1cy1zdXBwb3J0aW5nLXRleHQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1lcnJvciwgI2IzMjYxZSkpOy0tX2Vycm9yLWZvY3VzLXRyYWlsaW5nLWNvbnRlbnQtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWVycm9yLWZvY3VzLXRyYWlsaW5nLWNvbnRlbnQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1lcnJvciwgI2IzMjYxZSkpOy0tX2Vycm9yLWhvdmVyLWNvbnRlbnQtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWVycm9yLWhvdmVyLWNvbnRlbnQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1fZXJyb3ItaG92ZXItbGFiZWwtdGV4dC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItaG92ZXItbGFiZWwtdGV4dC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLWVycm9yLWNvbnRhaW5lciwgIzQxMGUwYikpOy0tX2Vycm9yLWhvdmVyLWxlYWRpbmctY29udGVudC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItaG92ZXItbGVhZGluZy1jb250ZW50LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZS12YXJpYW50LCAjNDk0NTRmKSk7LS1fZXJyb3ItaG92ZXItb3V0bGluZS1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItaG92ZXItb3V0bGluZS1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLWVycm9yLWNvbnRhaW5lciwgIzQxMGUwYikpOy0tX2Vycm9yLWhvdmVyLXN1cHBvcnRpbmctdGV4dC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItaG92ZXItc3VwcG9ydGluZy10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItZXJyb3IsICNiMzI2MWUpKTstLV9lcnJvci1ob3Zlci10cmFpbGluZy1jb250ZW50LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1lcnJvci1ob3Zlci10cmFpbGluZy1jb250ZW50LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tZXJyb3ItY29udGFpbmVyLCAjNDEwZTBiKSk7LS1fZXJyb3ItbGFiZWwtdGV4dC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItbGFiZWwtdGV4dC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLWVycm9yLCAjYjMyNjFlKSk7LS1fZXJyb3ItbGVhZGluZy1jb250ZW50LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1lcnJvci1sZWFkaW5nLWNvbnRlbnQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLXZhcmlhbnQsICM0OTQ1NGYpKTstLV9lcnJvci1vdXRsaW5lLWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1lcnJvci1vdXRsaW5lLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItZXJyb3IsICNiMzI2MWUpKTstLV9lcnJvci1zdXBwb3J0aW5nLXRleHQtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWVycm9yLXN1cHBvcnRpbmctdGV4dC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLWVycm9yLCAjYjMyNjFlKSk7LS1fZXJyb3ItdHJhaWxpbmctY29udGVudC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItdHJhaWxpbmctY29udGVudC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLWVycm9yLCAjYjMyNjFlKSk7LS1fZm9jdXMtY29udGVudC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZm9jdXMtY29udGVudC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UsICMxZDFiMjApKTstLV9mb2N1cy1sYWJlbC10ZXh0LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1mb2N1cy1sYWJlbC10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItcHJpbWFyeSwgIzY3NTBhNCkpOy0tX2ZvY3VzLWxlYWRpbmctY29udGVudC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZm9jdXMtbGVhZGluZy1jb250ZW50LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZS12YXJpYW50LCAjNDk0NTRmKSk7LS1fZm9jdXMtb3V0bGluZS1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZm9jdXMtb3V0bGluZS1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXByaW1hcnksICM2NzUwYTQpKTstLV9mb2N1cy1vdXRsaW5lLXdpZHRoOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1mb2N1cy1vdXRsaW5lLXdpZHRoLCAzcHgpOy0tX2ZvY3VzLXN1cHBvcnRpbmctdGV4dC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZm9jdXMtc3VwcG9ydGluZy10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZS12YXJpYW50LCAjNDk0NTRmKSk7LS1fZm9jdXMtdHJhaWxpbmctY29udGVudC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtZm9jdXMtdHJhaWxpbmctY29udGVudC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UtdmFyaWFudCwgIzQ5NDU0ZikpOy0tX2hvdmVyLWNvbnRlbnQtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWhvdmVyLWNvbnRlbnQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1faG92ZXItbGFiZWwtdGV4dC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtaG92ZXItbGFiZWwtdGV4dC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UsICMxZDFiMjApKTstLV9ob3Zlci1sZWFkaW5nLWNvbnRlbnQtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWhvdmVyLWxlYWRpbmctY29udGVudC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UtdmFyaWFudCwgIzQ5NDU0ZikpOy0tX2hvdmVyLW91dGxpbmUtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWhvdmVyLW91dGxpbmUtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1faG92ZXItb3V0bGluZS13aWR0aDogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtaG92ZXItb3V0bGluZS13aWR0aCwgMXB4KTstLV9ob3Zlci1zdXBwb3J0aW5nLXRleHQtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWhvdmVyLXN1cHBvcnRpbmctdGV4dC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UtdmFyaWFudCwgIzQ5NDU0ZikpOy0tX2hvdmVyLXRyYWlsaW5nLWNvbnRlbnQtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWhvdmVyLXRyYWlsaW5nLWNvbnRlbnQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLXZhcmlhbnQsICM0OTQ1NGYpKTstLV9sYWJlbC10ZXh0LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1sYWJlbC10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZS12YXJpYW50LCAjNDk0NTRmKSk7LS1fbGFiZWwtdGV4dC1mb250OiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1sYWJlbC10ZXh0LWZvbnQsIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1sYXJnZS1mb250LCB2YXIoLS1tZC1yZWYtdHlwZWZhY2UtcGxhaW4sIFJvYm90bykpKTstLV9sYWJlbC10ZXh0LWxpbmUtaGVpZ2h0OiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1sYWJlbC10ZXh0LWxpbmUtaGVpZ2h0LCB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWJvZHktbGFyZ2UtbGluZS1oZWlnaHQsIDEuNXJlbSkpOy0tX2xhYmVsLXRleHQtcGFkZGluZy1ib3R0b206IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWxhYmVsLXRleHQtcGFkZGluZy1ib3R0b20sIDhweCk7LS1fbGFiZWwtdGV4dC1wb3B1bGF0ZWQtbGluZS1oZWlnaHQ6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWxhYmVsLXRleHQtcG9wdWxhdGVkLWxpbmUtaGVpZ2h0LCB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWJvZHktc21hbGwtbGluZS1oZWlnaHQsIDFyZW0pKTstLV9sYWJlbC10ZXh0LXBvcHVsYXRlZC1zaXplOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1sYWJlbC10ZXh0LXBvcHVsYXRlZC1zaXplLCB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWJvZHktc21hbGwtc2l6ZSwgMC43NXJlbSkpOy0tX2xhYmVsLXRleHQtc2l6ZTogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtbGFiZWwtdGV4dC1zaXplLCB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWJvZHktbGFyZ2Utc2l6ZSwgMXJlbSkpOy0tX2xhYmVsLXRleHQtd2VpZ2h0OiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1sYWJlbC10ZXh0LXdlaWdodCwgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1ib2R5LWxhcmdlLXdlaWdodCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLXdlaWdodC1yZWd1bGFyLCA0MDApKSk7LS1fbGVhZGluZy1jb250ZW50LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1sZWFkaW5nLWNvbnRlbnQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLXZhcmlhbnQsICM0OTQ1NGYpKTstLV9sZWFkaW5nLXNwYWNlOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1sZWFkaW5nLXNwYWNlLCAxNnB4KTstLV9vdXRsaW5lLWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1vdXRsaW5lLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb3V0bGluZSwgIzc5NzQ3ZSkpOy0tX291dGxpbmUtbGFiZWwtcGFkZGluZzogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtb3V0bGluZS1sYWJlbC1wYWRkaW5nLCA0cHgpOy0tX291dGxpbmUtd2lkdGg6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLW91dGxpbmUtd2lkdGgsIDFweCk7LS1fc3VwcG9ydGluZy10ZXh0LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1zdXBwb3J0aW5nLXRleHQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLXZhcmlhbnQsICM0OTQ1NGYpKTstLV9zdXBwb3J0aW5nLXRleHQtZm9udDogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtc3VwcG9ydGluZy10ZXh0LWZvbnQsIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1zbWFsbC1mb250LCB2YXIoLS1tZC1yZWYtdHlwZWZhY2UtcGxhaW4sIFJvYm90bykpKTstLV9zdXBwb3J0aW5nLXRleHQtbGVhZGluZy1zcGFjZTogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtc3VwcG9ydGluZy10ZXh0LWxlYWRpbmctc3BhY2UsIDE2cHgpOy0tX3N1cHBvcnRpbmctdGV4dC1saW5lLWhlaWdodDogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtc3VwcG9ydGluZy10ZXh0LWxpbmUtaGVpZ2h0LCB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWJvZHktc21hbGwtbGluZS1oZWlnaHQsIDFyZW0pKTstLV9zdXBwb3J0aW5nLXRleHQtc2l6ZTogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtc3VwcG9ydGluZy10ZXh0LXNpemUsIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1zbWFsbC1zaXplLCAwLjc1cmVtKSk7LS1fc3VwcG9ydGluZy10ZXh0LXRvcC1zcGFjZTogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtc3VwcG9ydGluZy10ZXh0LXRvcC1zcGFjZSwgNHB4KTstLV9zdXBwb3J0aW5nLXRleHQtdHJhaWxpbmctc3BhY2U6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLXN1cHBvcnRpbmctdGV4dC10cmFpbGluZy1zcGFjZSwgMTZweCk7LS1fc3VwcG9ydGluZy10ZXh0LXdlaWdodDogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtc3VwcG9ydGluZy10ZXh0LXdlaWdodCwgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1ib2R5LXNtYWxsLXdlaWdodCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLXdlaWdodC1yZWd1bGFyLCA0MDApKSk7LS1fdG9wLXNwYWNlOiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC10b3Atc3BhY2UsIDE2cHgpOy0tX3RyYWlsaW5nLWNvbnRlbnQtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLXRyYWlsaW5nLWNvbnRlbnQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLXZhcmlhbnQsICM0OTQ1NGYpKTstLV90cmFpbGluZy1zcGFjZTogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtdHJhaWxpbmctc3BhY2UsIDE2cHgpOy0tX3dpdGgtbGVhZGluZy1jb250ZW50LWxlYWRpbmctc3BhY2U6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLXdpdGgtbGVhZGluZy1jb250ZW50LWxlYWRpbmctc3BhY2UsIDEycHgpOy0tX3dpdGgtdHJhaWxpbmctY29udGVudC10cmFpbGluZy1zcGFjZTogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtd2l0aC10cmFpbGluZy1jb250ZW50LXRyYWlsaW5nLXNwYWNlLCAxMnB4KTstLV9jb250YWluZXItc2hhcGUtc3RhcnQtc3RhcnQ6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWNvbnRhaW5lci1zaGFwZS1zdGFydC1zdGFydCwgdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtY29udGFpbmVyLXNoYXBlLCB2YXIoLS1tZC1zeXMtc2hhcGUtY29ybmVyLWV4dHJhLXNtYWxsLCA0cHgpKSk7LS1fY29udGFpbmVyLXNoYXBlLXN0YXJ0LWVuZDogdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtY29udGFpbmVyLXNoYXBlLXN0YXJ0LWVuZCwgdmFyKC0tbWQtb3V0bGluZWQtZmllbGQtY29udGFpbmVyLXNoYXBlLCB2YXIoLS1tZC1zeXMtc2hhcGUtY29ybmVyLWV4dHJhLXNtYWxsLCA0cHgpKSk7LS1fY29udGFpbmVyLXNoYXBlLWVuZC1lbmQ6IHZhcigtLW1kLW91dGxpbmVkLWZpZWxkLWNvbnRhaW5lci1zaGFwZS1lbmQtZW5kLCB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1jb250YWluZXItc2hhcGUsIHZhcigtLW1kLXN5cy1zaGFwZS1jb3JuZXItZXh0cmEtc21hbGwsIDRweCkpKTstLV9jb250YWluZXItc2hhcGUtZW5kLXN0YXJ0OiB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1jb250YWluZXItc2hhcGUtZW5kLXN0YXJ0LCB2YXIoLS1tZC1vdXRsaW5lZC1maWVsZC1jb250YWluZXItc2hhcGUsIHZhcigtLW1kLXN5cy1zaGFwZS1jb3JuZXItZXh0cmEtc21hbGwsIDRweCkpKX0ub3V0bGluZXtib3JkZXItY29sb3I6dmFyKC0tX291dGxpbmUtY29sb3IpO2JvcmRlci1yYWRpdXM6aW5oZXJpdDtkaXNwbGF5OmZsZXg7cG9pbnRlci1ldmVudHM6bm9uZTtoZWlnaHQ6MTAwJTtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO3otaW5kZXg6MX0ub3V0bGluZS1zdGFydDo6YmVmb3JlLC5vdXRsaW5lLXN0YXJ0OjphZnRlciwub3V0bGluZS1wYW5lbC1pbmFjdGl2ZTo6YmVmb3JlLC5vdXRsaW5lLXBhbmVsLWluYWN0aXZlOjphZnRlciwub3V0bGluZS1wYW5lbC1hY3RpdmU6OmJlZm9yZSwub3V0bGluZS1wYW5lbC1hY3RpdmU6OmFmdGVyLC5vdXRsaW5lLWVuZDo6YmVmb3JlLC5vdXRsaW5lLWVuZDo6YWZ0ZXJ7Ym9yZGVyOmluaGVyaXQ7Y29udGVudDoiIjtpbnNldDowO3Bvc2l0aW9uOmFic29sdXRlfS5vdXRsaW5lLXN0YXJ0LC5vdXRsaW5lLWVuZHtib3JkZXI6aW5oZXJpdDtib3JkZXItcmFkaXVzOmluaGVyaXQ7Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlfS5vdXRsaW5lLXN0YXJ0OjpiZWZvcmUsLm91dGxpbmUtc3RhcnQ6OmFmdGVyLC5vdXRsaW5lLWVuZDo6YmVmb3JlLC5vdXRsaW5lLWVuZDo6YWZ0ZXJ7Ym9yZGVyLWJvdHRvbS1zdHlsZTpzb2xpZDtib3JkZXItdG9wLXN0eWxlOnNvbGlkfS5vdXRsaW5lLXN0YXJ0OjphZnRlciwub3V0bGluZS1lbmQ6OmFmdGVye29wYWNpdHk6MDt0cmFuc2l0aW9uOm9wYWNpdHkgMTUwbXMgY3ViaWMtYmV6aWVyKDAuMiwgMCwgMCwgMSl9LmZvY3VzZWQgLm91dGxpbmUtc3RhcnQ6OmFmdGVyLC5mb2N1c2VkIC5vdXRsaW5lLWVuZDo6YWZ0ZXJ7b3BhY2l0eToxfS5vdXRsaW5lLXN0YXJ0OjpiZWZvcmUsLm91dGxpbmUtc3RhcnQ6OmFmdGVye2JvcmRlci1pbmxpbmUtc3RhcnQtc3R5bGU6c29saWQ7Ym9yZGVyLWlubGluZS1lbmQtc3R5bGU6bm9uZTtib3JkZXItc3RhcnQtc3RhcnQtcmFkaXVzOmluaGVyaXQ7Ym9yZGVyLXN0YXJ0LWVuZC1yYWRpdXM6MDtib3JkZXItZW5kLXN0YXJ0LXJhZGl1czppbmhlcml0O2JvcmRlci1lbmQtZW5kLXJhZGl1czowO21hcmdpbi1pbmxpbmUtZW5kOnZhcigtLV9vdXRsaW5lLWxhYmVsLXBhZGRpbmcpfS5vdXRsaW5lLWVuZHtmbGV4LWdyb3c6MTttYXJnaW4taW5saW5lLXN0YXJ0OmNhbGMoLTEqdmFyKC0tX291dGxpbmUtbGFiZWwtcGFkZGluZykpfS5vdXRsaW5lLWVuZDo6YmVmb3JlLC5vdXRsaW5lLWVuZDo6YWZ0ZXJ7Ym9yZGVyLWlubGluZS1zdGFydC1zdHlsZTpub25lO2JvcmRlci1pbmxpbmUtZW5kLXN0eWxlOnNvbGlkO2JvcmRlci1zdGFydC1zdGFydC1yYWRpdXM6MDtib3JkZXItc3RhcnQtZW5kLXJhZGl1czppbmhlcml0O2JvcmRlci1lbmQtc3RhcnQtcmFkaXVzOjA7Ym9yZGVyLWVuZC1lbmQtcmFkaXVzOmluaGVyaXR9Lm91dGxpbmUtbm90Y2h7YWxpZ24taXRlbXM6ZmxleC1zdGFydDtib3JkZXI6aW5oZXJpdDtkaXNwbGF5OmZsZXg7bWFyZ2luLWlubGluZS1zdGFydDpjYWxjKC0xKnZhcigtLV9vdXRsaW5lLWxhYmVsLXBhZGRpbmcpKTttYXJnaW4taW5saW5lLWVuZDp2YXIoLS1fb3V0bGluZS1sYWJlbC1wYWRkaW5nKTttYXgtd2lkdGg6Y2FsYygxMDAlIC0gdmFyKC0tX2xlYWRpbmctc3BhY2UpIC0gdmFyKC0tX3RyYWlsaW5nLXNwYWNlKSk7cGFkZGluZzowIHZhcigtLV9vdXRsaW5lLWxhYmVsLXBhZGRpbmcpO3Bvc2l0aW9uOnJlbGF0aXZlfS5uby1sYWJlbCAub3V0bGluZS1ub3RjaHtkaXNwbGF5Om5vbmV9Lm91dGxpbmUtcGFuZWwtaW5hY3RpdmUsLm91dGxpbmUtcGFuZWwtYWN0aXZle2JvcmRlcjppbmhlcml0O2JvcmRlci1ib3R0b20tc3R5bGU6c29saWQ7aW5zZXQ6MDtwb3NpdGlvbjphYnNvbHV0ZX0ub3V0bGluZS1wYW5lbC1pbmFjdGl2ZTo6YmVmb3JlLC5vdXRsaW5lLXBhbmVsLWluYWN0aXZlOjphZnRlciwub3V0bGluZS1wYW5lbC1hY3RpdmU6OmJlZm9yZSwub3V0bGluZS1wYW5lbC1hY3RpdmU6OmFmdGVye2JvcmRlci10b3Atc3R5bGU6c29saWQ7Ym9yZGVyLWJvdHRvbTpub25lO2JvdHRvbTphdXRvO3RyYW5zZm9ybTpzY2FsZVgoMSk7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMTUwbXMgY3ViaWMtYmV6aWVyKDAuMiwgMCwgMCwgMSl9Lm91dGxpbmUtcGFuZWwtaW5hY3RpdmU6OmJlZm9yZSwub3V0bGluZS1wYW5lbC1hY3RpdmU6OmJlZm9yZXtyaWdodDo1MCU7dHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdH0ub3V0bGluZS1wYW5lbC1pbmFjdGl2ZTo6YWZ0ZXIsLm91dGxpbmUtcGFuZWwtYWN0aXZlOjphZnRlcntsZWZ0OjUwJTt0cmFuc2Zvcm0tb3JpZ2luOnRvcCByaWdodH0ucG9wdWxhdGVkIC5vdXRsaW5lLXBhbmVsLWluYWN0aXZlOjpiZWZvcmUsLnBvcHVsYXRlZCAub3V0bGluZS1wYW5lbC1pbmFjdGl2ZTo6YWZ0ZXIsLnBvcHVsYXRlZCAub3V0bGluZS1wYW5lbC1hY3RpdmU6OmJlZm9yZSwucG9wdWxhdGVkIC5vdXRsaW5lLXBhbmVsLWFjdGl2ZTo6YWZ0ZXIsLmZvY3VzZWQgLm91dGxpbmUtcGFuZWwtaW5hY3RpdmU6OmJlZm9yZSwuZm9jdXNlZCAub3V0bGluZS1wYW5lbC1pbmFjdGl2ZTo6YWZ0ZXIsLmZvY3VzZWQgLm91dGxpbmUtcGFuZWwtYWN0aXZlOjpiZWZvcmUsLmZvY3VzZWQgLm91dGxpbmUtcGFuZWwtYWN0aXZlOjphZnRlcnt0cmFuc2Zvcm06c2NhbGVYKDApfS5vdXRsaW5lLXBhbmVsLWFjdGl2ZXtvcGFjaXR5OjA7dHJhbnNpdGlvbjpvcGFjaXR5IDE1MG1zIGN1YmljLWJlemllcigwLjIsIDAsIDAsIDEpfS5mb2N1c2VkIC5vdXRsaW5lLXBhbmVsLWFjdGl2ZXtvcGFjaXR5OjF9Lm91dGxpbmUtbGFiZWx7ZGlzcGxheTpmbGV4O21heC13aWR0aDoxMDAlO3RyYW5zZm9ybTp0cmFuc2xhdGVZKGNhbGMoLTEwMCUgKyB2YXIoLS1fbGFiZWwtdGV4dC1wYWRkaW5nLWJvdHRvbSkpKX0ub3V0bGluZS1zdGFydCwuZmllbGQ6bm90KC53aXRoLXN0YXJ0KSAuY29udGVudCA6OnNsb3R0ZWQoKil7cGFkZGluZy1pbmxpbmUtc3RhcnQ6bWF4KHZhcigtLV9sZWFkaW5nLXNwYWNlKSxtYXgodmFyKC0tX2NvbnRhaW5lci1zaGFwZS1zdGFydC1zdGFydCksdmFyKC0tX2NvbnRhaW5lci1zaGFwZS1lbmQtc3RhcnQpKSArIHZhcigtLV9vdXRsaW5lLWxhYmVsLXBhZGRpbmcpKX0uZmllbGQ6bm90KC53aXRoLXN0YXJ0KSAubGFiZWwtd3JhcHBlcnttYXJnaW4taW5saW5lLXN0YXJ0Om1heCh2YXIoLS1fbGVhZGluZy1zcGFjZSksbWF4KHZhcigtLV9jb250YWluZXItc2hhcGUtc3RhcnQtc3RhcnQpLHZhcigtLV9jb250YWluZXItc2hhcGUtZW5kLXN0YXJ0KSkgKyB2YXIoLS1fb3V0bGluZS1sYWJlbC1wYWRkaW5nKSl9LmZpZWxkOm5vdCgud2l0aC1lbmQpIC5jb250ZW50IDo6c2xvdHRlZCgqKXtwYWRkaW5nLWlubGluZS1lbmQ6bWF4KHZhcigtLV90cmFpbGluZy1zcGFjZSksbWF4KHZhcigtLV9jb250YWluZXItc2hhcGUtc3RhcnQtZW5kKSx2YXIoLS1fY29udGFpbmVyLXNoYXBlLWVuZC1lbmQpKSl9LmZpZWxkOm5vdCgud2l0aC1lbmQpIC5sYWJlbC13cmFwcGVye21hcmdpbi1pbmxpbmUtZW5kOm1heCh2YXIoLS1fdHJhaWxpbmctc3BhY2UpLG1heCh2YXIoLS1fY29udGFpbmVyLXNoYXBlLXN0YXJ0LWVuZCksdmFyKC0tX2NvbnRhaW5lci1zaGFwZS1lbmQtZW5kKSkpfS5vdXRsaW5lLXN0YXJ0OjpiZWZvcmUsLm91dGxpbmUtZW5kOjpiZWZvcmUsLm91dGxpbmUtcGFuZWwtaW5hY3RpdmUsLm91dGxpbmUtcGFuZWwtaW5hY3RpdmU6OmJlZm9yZSwub3V0bGluZS1wYW5lbC1pbmFjdGl2ZTo6YWZ0ZXJ7Ym9yZGVyLXdpZHRoOnZhcigtLV9vdXRsaW5lLXdpZHRoKX06aG92ZXIgLm91dGxpbmV7Ym9yZGVyLWNvbG9yOnZhcigtLV9ob3Zlci1vdXRsaW5lLWNvbG9yKTtjb2xvcjp2YXIoLS1faG92ZXItb3V0bGluZS1jb2xvcil9OmhvdmVyIC5vdXRsaW5lLXN0YXJ0OjpiZWZvcmUsOmhvdmVyIC5vdXRsaW5lLWVuZDo6YmVmb3JlLDpob3ZlciAub3V0bGluZS1wYW5lbC1pbmFjdGl2ZSw6aG92ZXIgLm91dGxpbmUtcGFuZWwtaW5hY3RpdmU6OmJlZm9yZSw6aG92ZXIgLm91dGxpbmUtcGFuZWwtaW5hY3RpdmU6OmFmdGVye2JvcmRlci13aWR0aDp2YXIoLS1faG92ZXItb3V0bGluZS13aWR0aCl9LmZvY3VzZWQgLm91dGxpbmV7Ym9yZGVyLWNvbG9yOnZhcigtLV9mb2N1cy1vdXRsaW5lLWNvbG9yKTtjb2xvcjp2YXIoLS1fZm9jdXMtb3V0bGluZS1jb2xvcil9Lm91dGxpbmUtc3RhcnQ6OmFmdGVyLC5vdXRsaW5lLWVuZDo6YWZ0ZXIsLm91dGxpbmUtcGFuZWwtYWN0aXZlLC5vdXRsaW5lLXBhbmVsLWFjdGl2ZTo6YmVmb3JlLC5vdXRsaW5lLXBhbmVsLWFjdGl2ZTo6YWZ0ZXJ7Ym9yZGVyLXdpZHRoOnZhcigtLV9mb2N1cy1vdXRsaW5lLXdpZHRoKX0uZGlzYWJsZWQgLm91dGxpbmV7Ym9yZGVyLWNvbG9yOnZhcigtLV9kaXNhYmxlZC1vdXRsaW5lLWNvbG9yKTtjb2xvcjp2YXIoLS1fZGlzYWJsZWQtb3V0bGluZS1jb2xvcil9LmRpc2FibGVkIC5vdXRsaW5lLXN0YXJ0LC5kaXNhYmxlZCAub3V0bGluZS1lbmQsLmRpc2FibGVkIC5vdXRsaW5lLXBhbmVsLWluYWN0aXZle29wYWNpdHk6dmFyKC0tX2Rpc2FibGVkLW91dGxpbmUtb3BhY2l0eSl9LmRpc2FibGVkIC5vdXRsaW5lLXN0YXJ0OjpiZWZvcmUsLmRpc2FibGVkIC5vdXRsaW5lLWVuZDo6YmVmb3JlLC5kaXNhYmxlZCAub3V0bGluZS1wYW5lbC1pbmFjdGl2ZSwuZGlzYWJsZWQgLm91dGxpbmUtcGFuZWwtaW5hY3RpdmU6OmJlZm9yZSwuZGlzYWJsZWQgLm91dGxpbmUtcGFuZWwtaW5hY3RpdmU6OmFmdGVye2JvcmRlci13aWR0aDp2YXIoLS1fZGlzYWJsZWQtb3V0bGluZS13aWR0aCl9LmVycm9yIC5vdXRsaW5le2JvcmRlci1jb2xvcjp2YXIoLS1fZXJyb3Itb3V0bGluZS1jb2xvcik7Y29sb3I6dmFyKC0tX2Vycm9yLW91dGxpbmUtY29sb3IpfS5lcnJvcjpob3ZlciAub3V0bGluZXtib3JkZXItY29sb3I6dmFyKC0tX2Vycm9yLWhvdmVyLW91dGxpbmUtY29sb3IpO2NvbG9yOnZhcigtLV9lcnJvci1ob3Zlci1vdXRsaW5lLWNvbG9yKX0uZXJyb3IuZm9jdXNlZCAub3V0bGluZXtib3JkZXItY29sb3I6dmFyKC0tX2Vycm9yLWZvY3VzLW91dGxpbmUtY29sb3IpO2NvbG9yOnZhcigtLV9lcnJvci1mb2N1cy1vdXRsaW5lLWNvbG9yKX0ucmVzaXphYmxlIC5jb250YWluZXJ7Ym90dG9tOnZhcigtLV9mb2N1cy1vdXRsaW5lLXdpZHRoKTtpbnNldC1pbmxpbmUtZW5kOnZhcigtLV9mb2N1cy1vdXRsaW5lLXdpZHRoKTtjbGlwLXBhdGg6aW5zZXQodmFyKC0tX2ZvY3VzLW91dGxpbmUtd2lkdGgpIDAgMCB2YXIoLS1fZm9jdXMtb3V0bGluZS13aWR0aCkpfS5yZXNpemFibGUgLmNvbnRhaW5lcj4qe3RvcDp2YXIoLS1fZm9jdXMtb3V0bGluZS13aWR0aCk7aW5zZXQtaW5saW5lLXN0YXJ0OnZhcigtLV9mb2N1cy1vdXRsaW5lLXdpZHRoKX0ucmVzaXphYmxlIC5jb250YWluZXI6ZGlyKHJ0bCl7Y2xpcC1wYXRoOmluc2V0KHZhcigtLV9mb2N1cy1vdXRsaW5lLXdpZHRoKSB2YXIoLS1fZm9jdXMtb3V0bGluZS13aWR0aCkgMCAwKX19QGxheWVyIGhjbXtAbWVkaWEoZm9yY2VkLWNvbG9yczogYWN0aXZlKXsuZGlzYWJsZWQgLm91dGxpbmV7Ym9yZGVyLWNvbG9yOkdyYXlUZXh0O2NvbG9yOkdyYXlUZXh0fS5kaXNhYmxlZCA6aXMoLm91dGxpbmUtc3RhcnQsLm91dGxpbmUtZW5kLC5vdXRsaW5lLXBhbmVsLWluYWN0aXZlKXtvcGFjaXR5OjF9fX0KYDsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvZmllbGQvaW50ZXJuYWwvc2hhcmVkLXN0eWxlcy5qcwogIHZhciBzdHlsZXMxMCA9IGlgOmhvc3R7ZGlzcGxheTppbmxpbmUtZmxleDtyZXNpemU6Ym90aH0uZmllbGR7ZGlzcGxheTpmbGV4O2ZsZXg6MTtmbGV4LWRpcmVjdGlvbjpjb2x1bW47d3JpdGluZy1tb2RlOmhvcml6b250YWwtdGI7bWF4LXdpZHRoOjEwMCV9LmNvbnRhaW5lci1vdmVyZmxvd3tib3JkZXItc3RhcnQtc3RhcnQtcmFkaXVzOnZhcigtLV9jb250YWluZXItc2hhcGUtc3RhcnQtc3RhcnQpO2JvcmRlci1zdGFydC1lbmQtcmFkaXVzOnZhcigtLV9jb250YWluZXItc2hhcGUtc3RhcnQtZW5kKTtib3JkZXItZW5kLWVuZC1yYWRpdXM6dmFyKC0tX2NvbnRhaW5lci1zaGFwZS1lbmQtZW5kKTtib3JkZXItZW5kLXN0YXJ0LXJhZGl1czp2YXIoLS1fY29udGFpbmVyLXNoYXBlLWVuZC1zdGFydCk7ZGlzcGxheTpmbGV4O2hlaWdodDoxMDAlO3Bvc2l0aW9uOnJlbGF0aXZlfS5jb250YWluZXJ7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlci1yYWRpdXM6aW5oZXJpdDtkaXNwbGF5OmZsZXg7ZmxleDoxO21heC1oZWlnaHQ6MTAwJTttaW4taGVpZ2h0OjEwMCU7bWluLXdpZHRoOm1pbi1jb250ZW50O3Bvc2l0aW9uOnJlbGF0aXZlfS5maWVsZCwuY29udGFpbmVyLW92ZXJmbG93e3Jlc2l6ZTppbmhlcml0fS5yZXNpemFibGU6bm90KC5kaXNhYmxlZCkgLmNvbnRhaW5lcntyZXNpemU6aW5oZXJpdDtvdmVyZmxvdzpoaWRkZW59LmRpc2FibGVke3BvaW50ZXItZXZlbnRzOm5vbmV9c2xvdFtuYW1lPWNvbnRhaW5lcl17Ym9yZGVyLXJhZGl1czppbmhlcml0fXNsb3RbbmFtZT1jb250YWluZXJdOjpzbG90dGVkKCope2JvcmRlci1yYWRpdXM6aW5oZXJpdDtpbnNldDowO3BvaW50ZXItZXZlbnRzOm5vbmU7cG9zaXRpb246YWJzb2x1dGV9QGxheWVyIHN0eWxlc3suc3RhcnQsLm1pZGRsZSwuZW5ke2Rpc3BsYXk6ZmxleDtib3gtc2l6aW5nOmJvcmRlci1ib3g7aGVpZ2h0OjEwMCU7cG9zaXRpb246cmVsYXRpdmV9LnN0YXJ0e2NvbG9yOnZhcigtLV9sZWFkaW5nLWNvbnRlbnQtY29sb3IpfS5lbmR7Y29sb3I6dmFyKC0tX3RyYWlsaW5nLWNvbnRlbnQtY29sb3IpfS5zdGFydCwuZW5ke2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS53aXRoLXN0YXJ0IC5zdGFydHttYXJnaW4taW5saW5lOnZhcigtLV93aXRoLWxlYWRpbmctY29udGVudC1sZWFkaW5nLXNwYWNlKSB2YXIoLS1fY29udGVudC1zcGFjZSl9LndpdGgtZW5kIC5lbmR7bWFyZ2luLWlubGluZTp2YXIoLS1fY29udGVudC1zcGFjZSkgdmFyKC0tX3dpdGgtdHJhaWxpbmctY29udGVudC10cmFpbGluZy1zcGFjZSl9Lm1pZGRsZXthbGlnbi1pdGVtczpzdHJldGNoO2FsaWduLXNlbGY6YmFzZWxpbmU7ZmxleDoxfS5jb250ZW50e2NvbG9yOnZhcigtLV9jb250ZW50LWNvbG9yKTtkaXNwbGF5OmZsZXg7ZmxleDoxO29wYWNpdHk6MDt0cmFuc2l0aW9uOm9wYWNpdHkgODNtcyBjdWJpYy1iZXppZXIoMC4yLCAwLCAwLCAxKX0ubm8tbGFiZWwgLmNvbnRlbnQsLmZvY3VzZWQgLmNvbnRlbnQsLnBvcHVsYXRlZCAuY29udGVudHtvcGFjaXR5OjE7dHJhbnNpdGlvbi1kZWxheTo2N21zfTppcyguZGlzYWJsZWQsLmRpc2FibGUtdHJhbnNpdGlvbnMpIC5jb250ZW50e3RyYW5zaXRpb246bm9uZX0uY29udGVudCA6OnNsb3R0ZWQoKil7YWxsOnVuc2V0O2NvbG9yOmN1cnJlbnRDb2xvcjtmb250LWZhbWlseTp2YXIoLS1fY29udGVudC1mb250KTtmb250LXNpemU6dmFyKC0tX2NvbnRlbnQtc2l6ZSk7bGluZS1oZWlnaHQ6dmFyKC0tX2NvbnRlbnQtbGluZS1oZWlnaHQpO2ZvbnQtd2VpZ2h0OnZhcigtLV9jb250ZW50LXdlaWdodCk7d2lkdGg6MTAwJTtvdmVyZmxvdy13cmFwOnJldmVydDt3aGl0ZS1zcGFjZTpyZXZlcnR9LmNvbnRlbnQgOjpzbG90dGVkKDpub3QodGV4dGFyZWEpKXtwYWRkaW5nLXRvcDp2YXIoLS1fdG9wLXNwYWNlKTtwYWRkaW5nLWJvdHRvbTp2YXIoLS1fYm90dG9tLXNwYWNlKX0uY29udGVudCA6OnNsb3R0ZWQodGV4dGFyZWEpe21hcmdpbi10b3A6dmFyKC0tX3RvcC1zcGFjZSk7bWFyZ2luLWJvdHRvbTp2YXIoLS1fYm90dG9tLXNwYWNlKX06aG92ZXIgLmNvbnRlbnR7Y29sb3I6dmFyKC0tX2hvdmVyLWNvbnRlbnQtY29sb3IpfTpob3ZlciAuc3RhcnR7Y29sb3I6dmFyKC0tX2hvdmVyLWxlYWRpbmctY29udGVudC1jb2xvcil9OmhvdmVyIC5lbmR7Y29sb3I6dmFyKC0tX2hvdmVyLXRyYWlsaW5nLWNvbnRlbnQtY29sb3IpfS5mb2N1c2VkIC5jb250ZW50e2NvbG9yOnZhcigtLV9mb2N1cy1jb250ZW50LWNvbG9yKX0uZm9jdXNlZCAuc3RhcnR7Y29sb3I6dmFyKC0tX2ZvY3VzLWxlYWRpbmctY29udGVudC1jb2xvcil9LmZvY3VzZWQgLmVuZHtjb2xvcjp2YXIoLS1fZm9jdXMtdHJhaWxpbmctY29udGVudC1jb2xvcil9LmRpc2FibGVkIC5jb250ZW50e2NvbG9yOnZhcigtLV9kaXNhYmxlZC1jb250ZW50LWNvbG9yKX0uZGlzYWJsZWQubm8tbGFiZWwgLmNvbnRlbnQsLmRpc2FibGVkLmZvY3VzZWQgLmNvbnRlbnQsLmRpc2FibGVkLnBvcHVsYXRlZCAuY29udGVudHtvcGFjaXR5OnZhcigtLV9kaXNhYmxlZC1jb250ZW50LW9wYWNpdHkpfS5kaXNhYmxlZCAuc3RhcnR7Y29sb3I6dmFyKC0tX2Rpc2FibGVkLWxlYWRpbmctY29udGVudC1jb2xvcik7b3BhY2l0eTp2YXIoLS1fZGlzYWJsZWQtbGVhZGluZy1jb250ZW50LW9wYWNpdHkpfS5kaXNhYmxlZCAuZW5ke2NvbG9yOnZhcigtLV9kaXNhYmxlZC10cmFpbGluZy1jb250ZW50LWNvbG9yKTtvcGFjaXR5OnZhcigtLV9kaXNhYmxlZC10cmFpbGluZy1jb250ZW50LW9wYWNpdHkpfS5lcnJvciAuY29udGVudHtjb2xvcjp2YXIoLS1fZXJyb3ItY29udGVudC1jb2xvcil9LmVycm9yIC5zdGFydHtjb2xvcjp2YXIoLS1fZXJyb3ItbGVhZGluZy1jb250ZW50LWNvbG9yKX0uZXJyb3IgLmVuZHtjb2xvcjp2YXIoLS1fZXJyb3ItdHJhaWxpbmctY29udGVudC1jb2xvcil9LmVycm9yOmhvdmVyIC5jb250ZW50e2NvbG9yOnZhcigtLV9lcnJvci1ob3Zlci1jb250ZW50LWNvbG9yKX0uZXJyb3I6aG92ZXIgLnN0YXJ0e2NvbG9yOnZhcigtLV9lcnJvci1ob3Zlci1sZWFkaW5nLWNvbnRlbnQtY29sb3IpfS5lcnJvcjpob3ZlciAuZW5ke2NvbG9yOnZhcigtLV9lcnJvci1ob3Zlci10cmFpbGluZy1jb250ZW50LWNvbG9yKX0uZXJyb3IuZm9jdXNlZCAuY29udGVudHtjb2xvcjp2YXIoLS1fZXJyb3ItZm9jdXMtY29udGVudC1jb2xvcil9LmVycm9yLmZvY3VzZWQgLnN0YXJ0e2NvbG9yOnZhcigtLV9lcnJvci1mb2N1cy1sZWFkaW5nLWNvbnRlbnQtY29sb3IpfS5lcnJvci5mb2N1c2VkIC5lbmR7Y29sb3I6dmFyKC0tX2Vycm9yLWZvY3VzLXRyYWlsaW5nLWNvbnRlbnQtY29sb3IpfX1AbGF5ZXIgaGNte0BtZWRpYShmb3JjZWQtY29sb3JzOiBhY3RpdmUpey5kaXNhYmxlZCA6aXMoLnN0YXJ0LC5jb250ZW50LC5lbmQpe2NvbG9yOkdyYXlUZXh0O29wYWNpdHk6MX19fUBsYXllciBzdHlsZXN7LmxhYmVse2JveC1zaXppbmc6Ym9yZGVyLWJveDtjb2xvcjp2YXIoLS1fbGFiZWwtdGV4dC1jb2xvcik7b3ZlcmZsb3c6aGlkZGVuO21heC13aWR0aDoxMDAlO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwO3otaW5kZXg6MTtmb250LWZhbWlseTp2YXIoLS1fbGFiZWwtdGV4dC1mb250KTtmb250LXNpemU6dmFyKC0tX2xhYmVsLXRleHQtc2l6ZSk7bGluZS1oZWlnaHQ6dmFyKC0tX2xhYmVsLXRleHQtbGluZS1oZWlnaHQpO2ZvbnQtd2VpZ2h0OnZhcigtLV9sYWJlbC10ZXh0LXdlaWdodCk7d2lkdGg6bWluLWNvbnRlbnR9LmxhYmVsLXdyYXBwZXJ7aW5zZXQ6MDtwb2ludGVyLWV2ZW50czpub25lO3Bvc2l0aW9uOmFic29sdXRlfS5sYWJlbC5yZXN0aW5ne3Bvc2l0aW9uOmFic29sdXRlO3RvcDp2YXIoLS1fdG9wLXNwYWNlKX0ubGFiZWwuZmxvYXRpbmd7Zm9udC1zaXplOnZhcigtLV9sYWJlbC10ZXh0LXBvcHVsYXRlZC1zaXplKTtsaW5lLWhlaWdodDp2YXIoLS1fbGFiZWwtdGV4dC1wb3B1bGF0ZWQtbGluZS1oZWlnaHQpO3RyYW5zZm9ybS1vcmlnaW46dG9wIGxlZnR9LmxhYmVsLmhpZGRlbntvcGFjaXR5OjB9Lm5vLWxhYmVsIC5sYWJlbHtkaXNwbGF5Om5vbmV9LmxhYmVsLXdyYXBwZXJ7aW5zZXQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0ZXh0LWFsaWduOmluaXRpYWx9OmhvdmVyIC5sYWJlbHtjb2xvcjp2YXIoLS1faG92ZXItbGFiZWwtdGV4dC1jb2xvcil9LmZvY3VzZWQgLmxhYmVse2NvbG9yOnZhcigtLV9mb2N1cy1sYWJlbC10ZXh0LWNvbG9yKX0uZGlzYWJsZWQgLmxhYmVse2NvbG9yOnZhcigtLV9kaXNhYmxlZC1sYWJlbC10ZXh0LWNvbG9yKX0uZGlzYWJsZWQgLmxhYmVsOm5vdCguaGlkZGVuKXtvcGFjaXR5OnZhcigtLV9kaXNhYmxlZC1sYWJlbC10ZXh0LW9wYWNpdHkpfS5lcnJvciAubGFiZWx7Y29sb3I6dmFyKC0tX2Vycm9yLWxhYmVsLXRleHQtY29sb3IpfS5lcnJvcjpob3ZlciAubGFiZWx7Y29sb3I6dmFyKC0tX2Vycm9yLWhvdmVyLWxhYmVsLXRleHQtY29sb3IpfS5lcnJvci5mb2N1c2VkIC5sYWJlbHtjb2xvcjp2YXIoLS1fZXJyb3ItZm9jdXMtbGFiZWwtdGV4dC1jb2xvcil9fUBsYXllciBoY217QG1lZGlhKGZvcmNlZC1jb2xvcnM6IGFjdGl2ZSl7LmRpc2FibGVkIC5sYWJlbDpub3QoLmhpZGRlbil7Y29sb3I6R3JheVRleHQ7b3BhY2l0eToxfX19QGxheWVyIHN0eWxlc3suc3VwcG9ydGluZy10ZXh0e2NvbG9yOnZhcigtLV9zdXBwb3J0aW5nLXRleHQtY29sb3IpO2Rpc3BsYXk6ZmxleDtmb250LWZhbWlseTp2YXIoLS1fc3VwcG9ydGluZy10ZXh0LWZvbnQpO2ZvbnQtc2l6ZTp2YXIoLS1fc3VwcG9ydGluZy10ZXh0LXNpemUpO2xpbmUtaGVpZ2h0OnZhcigtLV9zdXBwb3J0aW5nLXRleHQtbGluZS1oZWlnaHQpO2ZvbnQtd2VpZ2h0OnZhcigtLV9zdXBwb3J0aW5nLXRleHQtd2VpZ2h0KTtnYXA6MTZweDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjtwYWRkaW5nLWlubGluZS1zdGFydDp2YXIoLS1fc3VwcG9ydGluZy10ZXh0LWxlYWRpbmctc3BhY2UpO3BhZGRpbmctaW5saW5lLWVuZDp2YXIoLS1fc3VwcG9ydGluZy10ZXh0LXRyYWlsaW5nLXNwYWNlKTtwYWRkaW5nLXRvcDp2YXIoLS1fc3VwcG9ydGluZy10ZXh0LXRvcC1zcGFjZSl9LnN1cHBvcnRpbmctdGV4dCA6bnRoLWNoaWxkKDIpe2ZsZXgtc2hyaW5rOjB9OmhvdmVyIC5zdXBwb3J0aW5nLXRleHR7Y29sb3I6dmFyKC0tX2hvdmVyLXN1cHBvcnRpbmctdGV4dC1jb2xvcil9LmZvY3VzIC5zdXBwb3J0aW5nLXRleHR7Y29sb3I6dmFyKC0tX2ZvY3VzLXN1cHBvcnRpbmctdGV4dC1jb2xvcil9LmRpc2FibGVkIC5zdXBwb3J0aW5nLXRleHR7Y29sb3I6dmFyKC0tX2Rpc2FibGVkLXN1cHBvcnRpbmctdGV4dC1jb2xvcik7b3BhY2l0eTp2YXIoLS1fZGlzYWJsZWQtc3VwcG9ydGluZy10ZXh0LW9wYWNpdHkpfS5lcnJvciAuc3VwcG9ydGluZy10ZXh0e2NvbG9yOnZhcigtLV9lcnJvci1zdXBwb3J0aW5nLXRleHQtY29sb3IpfS5lcnJvcjpob3ZlciAuc3VwcG9ydGluZy10ZXh0e2NvbG9yOnZhcigtLV9lcnJvci1ob3Zlci1zdXBwb3J0aW5nLXRleHQtY29sb3IpfS5lcnJvci5mb2N1cyAuc3VwcG9ydGluZy10ZXh0e2NvbG9yOnZhcigtLV9lcnJvci1mb2N1cy1zdXBwb3J0aW5nLXRleHQtY29sb3IpfX1AbGF5ZXIgaGNte0BtZWRpYShmb3JjZWQtY29sb3JzOiBhY3RpdmUpey5kaXNhYmxlZCAuc3VwcG9ydGluZy10ZXh0e2NvbG9yOkdyYXlUZXh0O29wYWNpdHk6MX19fQpgOwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9maWVsZC9vdXRsaW5lZC1maWVsZC5qcwogIHZhciBNZE91dGxpbmVkRmllbGQgPSBjbGFzcyBNZE91dGxpbmVkRmllbGQyIGV4dGVuZHMgT3V0bGluZWRGaWVsZCB7CiAgfTsKICBNZE91dGxpbmVkRmllbGQuc3R5bGVzID0gW3N0eWxlczEwLCBzdHlsZXM5XTsKICBNZE91dGxpbmVkRmllbGQgPSBfX2RlY29yYXRlKFsKICAgIHQoIm1kLW91dGxpbmVkLWZpZWxkIikKICBdLCBNZE91dGxpbmVkRmllbGQpOwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vbGl0LWh0bWxAMy4zLjAvbm9kZV9tb2R1bGVzL2xpdC1odG1sL3N0YXRpYy5qcwogIHZhciBhMyA9IFN5bWJvbC5mb3IoIiIpOwogIHZhciBvOCA9ICh0NikgPT4gewogICAgaWYgKHQ2Py5yID09PSBhMykgcmV0dXJuIHQ2Py5fJGxpdFN0YXRpYyQ7CiAgfTsKICB2YXIgaTYgPSAodDYsIC4uLnI3KSA9PiAoeyBfJGxpdFN0YXRpYyQ6IHI3LnJlZHVjZSgocjgsIGU4LCBhNCkgPT4gcjggKyAoKHQ3KSA9PiB7CiAgICBpZiAodm9pZCAwICE9PSB0Ny5fJGxpdFN0YXRpYyQpIHJldHVybiB0Ny5fJGxpdFN0YXRpYyQ7CiAgICB0aHJvdyBFcnJvcihgVmFsdWUgcGFzc2VkIHRvICdsaXRlcmFsJyBmdW5jdGlvbiBtdXN0IGJlIGEgJ2xpdGVyYWwnIHJlc3VsdDogJHt0N30uIFVzZSAndW5zYWZlU3RhdGljJyB0byBwYXNzIG5vbi1saXRlcmFsIHZhbHVlcywgYnV0CiAgICAgICAgICAgIHRha2UgY2FyZSB0byBlbnN1cmUgcGFnZSBzZWN1cml0eS5gKTsKICB9KShlOCkgKyB0NlthNCArIDFdLCB0NlswXSksIHI6IGEzIH0pOwogIHZhciBsMyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgdmFyIG41ID0gKHQ2KSA9PiAocjcsIC4uLmU4KSA9PiB7CiAgICBjb25zdCBhNCA9IGU4Lmxlbmd0aDsKICAgIGxldCBzNCwgaTg7CiAgICBjb25zdCBuOCA9IFtdLCB1NSA9IFtdOwogICAgbGV0IGM1LCAkMyA9IDAsIGY0ID0gZmFsc2U7CiAgICBmb3IgKDsgJDMgPCBhNDsgKSB7CiAgICAgIGZvciAoYzUgPSByN1skM107ICQzIDwgYTQgJiYgdm9pZCAwICE9PSAoaTggPSBlOFskM10sIHM0ID0gbzgoaTgpKTsgKSBjNSArPSBzNCArIHI3WysrJDNdLCBmNCA9IHRydWU7CiAgICAgICQzICE9PSBhNCAmJiB1NS5wdXNoKGk4KSwgbjgucHVzaChjNSksICQzKys7CiAgICB9CiAgICBpZiAoJDMgPT09IGE0ICYmIG44LnB1c2gocjdbYTRdKSwgZjQpIHsKICAgICAgY29uc3QgdDcgPSBuOC5qb2luKCIkJGxpdCQkIik7CiAgICAgIHZvaWQgMCA9PT0gKHI3ID0gbDMuZ2V0KHQ3KSkgJiYgKG44LnJhdyA9IG44LCBsMy5zZXQodDcsIHI3ID0gbjgpKSwgZTggPSB1NTsKICAgIH0KICAgIHJldHVybiB0NihyNywgLi4uZTgpOwogIH07CiAgdmFyIHUzID0gbjUoeCk7CiAgdmFyIGM0ID0gbjUoYjIpOwogIHZhciAkMiA9IG41KHcpOwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi90ZXh0ZmllbGQvaW50ZXJuYWwvb3V0bGluZWQtc3R5bGVzLmpzCiAgdmFyIHN0eWxlczExID0gaWA6aG9zdHstLV9jYXJldC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1jYXJldC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXByaW1hcnksICM2NzUwYTQpKTstLV9kaXNhYmxlZC1pbnB1dC10ZXh0LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWRpc2FibGVkLWlucHV0LXRleHQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1fZGlzYWJsZWQtaW5wdXQtdGV4dC1vcGFjaXR5OiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWRpc2FibGVkLWlucHV0LXRleHQtb3BhY2l0eSwgMC4zOCk7LS1fZGlzYWJsZWQtbGFiZWwtdGV4dC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1kaXNhYmxlZC1sYWJlbC10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpOy0tX2Rpc2FibGVkLWxhYmVsLXRleHQtb3BhY2l0eTogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1kaXNhYmxlZC1sYWJlbC10ZXh0LW9wYWNpdHksIDAuMzgpOy0tX2Rpc2FibGVkLWxlYWRpbmctaWNvbi1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1kaXNhYmxlZC1sZWFkaW5nLWljb24tY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1fZGlzYWJsZWQtbGVhZGluZy1pY29uLW9wYWNpdHk6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtZGlzYWJsZWQtbGVhZGluZy1pY29uLW9wYWNpdHksIDAuMzgpOy0tX2Rpc2FibGVkLW91dGxpbmUtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtZGlzYWJsZWQtb3V0bGluZS1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UsICMxZDFiMjApKTstLV9kaXNhYmxlZC1vdXRsaW5lLW9wYWNpdHk6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtZGlzYWJsZWQtb3V0bGluZS1vcGFjaXR5LCAwLjEyKTstLV9kaXNhYmxlZC1vdXRsaW5lLXdpZHRoOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWRpc2FibGVkLW91dGxpbmUtd2lkdGgsIDFweCk7LS1fZGlzYWJsZWQtc3VwcG9ydGluZy10ZXh0LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWRpc2FibGVkLXN1cHBvcnRpbmctdGV4dC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UsICMxZDFiMjApKTstLV9kaXNhYmxlZC1zdXBwb3J0aW5nLXRleHQtb3BhY2l0eTogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1kaXNhYmxlZC1zdXBwb3J0aW5nLXRleHQtb3BhY2l0eSwgMC4zOCk7LS1fZGlzYWJsZWQtdHJhaWxpbmctaWNvbi1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1kaXNhYmxlZC10cmFpbGluZy1pY29uLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpOy0tX2Rpc2FibGVkLXRyYWlsaW5nLWljb24tb3BhY2l0eTogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1kaXNhYmxlZC10cmFpbGluZy1pY29uLW9wYWNpdHksIDAuMzgpOy0tX2Vycm9yLWZvY3VzLWNhcmV0LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWVycm9yLWZvY3VzLWNhcmV0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItZXJyb3IsICNiMzI2MWUpKTstLV9lcnJvci1mb2N1cy1pbnB1dC10ZXh0LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWVycm9yLWZvY3VzLWlucHV0LXRleHQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1fZXJyb3ItZm9jdXMtbGFiZWwtdGV4dC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1lcnJvci1mb2N1cy1sYWJlbC10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItZXJyb3IsICNiMzI2MWUpKTstLV9lcnJvci1mb2N1cy1sZWFkaW5nLWljb24tY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtZXJyb3ItZm9jdXMtbGVhZGluZy1pY29uLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZS12YXJpYW50LCAjNDk0NTRmKSk7LS1fZXJyb3ItZm9jdXMtb3V0bGluZS1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1lcnJvci1mb2N1cy1vdXRsaW5lLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItZXJyb3IsICNiMzI2MWUpKTstLV9lcnJvci1mb2N1cy1zdXBwb3J0aW5nLXRleHQtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtZXJyb3ItZm9jdXMtc3VwcG9ydGluZy10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItZXJyb3IsICNiMzI2MWUpKTstLV9lcnJvci1mb2N1cy10cmFpbGluZy1pY29uLWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWVycm9yLWZvY3VzLXRyYWlsaW5nLWljb24tY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1lcnJvciwgI2IzMjYxZSkpOy0tX2Vycm9yLWhvdmVyLWlucHV0LXRleHQtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtZXJyb3ItaG92ZXItaW5wdXQtdGV4dC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UsICMxZDFiMjApKTstLV9lcnJvci1ob3Zlci1sYWJlbC10ZXh0LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWVycm9yLWhvdmVyLWxhYmVsLXRleHQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1lcnJvci1jb250YWluZXIsICM0MTBlMGIpKTstLV9lcnJvci1ob3Zlci1sZWFkaW5nLWljb24tY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtZXJyb3ItaG92ZXItbGVhZGluZy1pY29uLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZS12YXJpYW50LCAjNDk0NTRmKSk7LS1fZXJyb3ItaG92ZXItb3V0bGluZS1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1lcnJvci1ob3Zlci1vdXRsaW5lLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tZXJyb3ItY29udGFpbmVyLCAjNDEwZTBiKSk7LS1fZXJyb3ItaG92ZXItc3VwcG9ydGluZy10ZXh0LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWVycm9yLWhvdmVyLXN1cHBvcnRpbmctdGV4dC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLWVycm9yLCAjYjMyNjFlKSk7LS1fZXJyb3ItaG92ZXItdHJhaWxpbmctaWNvbi1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1lcnJvci1ob3Zlci10cmFpbGluZy1pY29uLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tZXJyb3ItY29udGFpbmVyLCAjNDEwZTBiKSk7LS1fZXJyb3ItaW5wdXQtdGV4dC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1lcnJvci1pbnB1dC10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpOy0tX2Vycm9yLWxhYmVsLXRleHQtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtZXJyb3ItbGFiZWwtdGV4dC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLWVycm9yLCAjYjMyNjFlKSk7LS1fZXJyb3ItbGVhZGluZy1pY29uLWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWVycm9yLWxlYWRpbmctaWNvbi1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UtdmFyaWFudCwgIzQ5NDU0ZikpOy0tX2Vycm9yLW91dGxpbmUtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtZXJyb3Itb3V0bGluZS1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLWVycm9yLCAjYjMyNjFlKSk7LS1fZXJyb3Itc3VwcG9ydGluZy10ZXh0LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWVycm9yLXN1cHBvcnRpbmctdGV4dC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLWVycm9yLCAjYjMyNjFlKSk7LS1fZXJyb3ItdHJhaWxpbmctaWNvbi1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1lcnJvci10cmFpbGluZy1pY29uLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItZXJyb3IsICNiMzI2MWUpKTstLV9mb2N1cy1pbnB1dC10ZXh0LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWZvY3VzLWlucHV0LXRleHQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1fZm9jdXMtbGFiZWwtdGV4dC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1mb2N1cy1sYWJlbC10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItcHJpbWFyeSwgIzY3NTBhNCkpOy0tX2ZvY3VzLWxlYWRpbmctaWNvbi1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1mb2N1cy1sZWFkaW5nLWljb24tY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLXZhcmlhbnQsICM0OTQ1NGYpKTstLV9mb2N1cy1vdXRsaW5lLWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWZvY3VzLW91dGxpbmUtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1wcmltYXJ5LCAjNjc1MGE0KSk7LS1fZm9jdXMtb3V0bGluZS13aWR0aDogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1mb2N1cy1vdXRsaW5lLXdpZHRoLCAzcHgpOy0tX2ZvY3VzLXN1cHBvcnRpbmctdGV4dC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1mb2N1cy1zdXBwb3J0aW5nLXRleHQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLXZhcmlhbnQsICM0OTQ1NGYpKTstLV9mb2N1cy10cmFpbGluZy1pY29uLWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWZvY3VzLXRyYWlsaW5nLWljb24tY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLXZhcmlhbnQsICM0OTQ1NGYpKTstLV9ob3Zlci1pbnB1dC10ZXh0LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWhvdmVyLWlucHV0LXRleHQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1faG92ZXItbGFiZWwtdGV4dC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1ob3Zlci1sYWJlbC10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpOy0tX2hvdmVyLWxlYWRpbmctaWNvbi1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1ob3Zlci1sZWFkaW5nLWljb24tY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLXZhcmlhbnQsICM0OTQ1NGYpKTstLV9ob3Zlci1vdXRsaW5lLWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWhvdmVyLW91dGxpbmUtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1faG92ZXItb3V0bGluZS13aWR0aDogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1ob3Zlci1vdXRsaW5lLXdpZHRoLCAxcHgpOy0tX2hvdmVyLXN1cHBvcnRpbmctdGV4dC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1ob3Zlci1zdXBwb3J0aW5nLXRleHQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLXZhcmlhbnQsICM0OTQ1NGYpKTstLV9ob3Zlci10cmFpbGluZy1pY29uLWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWhvdmVyLXRyYWlsaW5nLWljb24tY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLXZhcmlhbnQsICM0OTQ1NGYpKTstLV9pbnB1dC10ZXh0LWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWlucHV0LXRleHQtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1faW5wdXQtdGV4dC1mb250OiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWlucHV0LXRleHQtZm9udCwgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1ib2R5LWxhcmdlLWZvbnQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS1wbGFpbiwgUm9ib3RvKSkpOy0tX2lucHV0LXRleHQtbGluZS1oZWlnaHQ6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtaW5wdXQtdGV4dC1saW5lLWhlaWdodCwgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1ib2R5LWxhcmdlLWxpbmUtaGVpZ2h0LCAxLjVyZW0pKTstLV9pbnB1dC10ZXh0LXBsYWNlaG9sZGVyLWNvbG9yOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWlucHV0LXRleHQtcGxhY2Vob2xkZXItY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLXZhcmlhbnQsICM0OTQ1NGYpKTstLV9pbnB1dC10ZXh0LXByZWZpeC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1pbnB1dC10ZXh0LXByZWZpeC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UtdmFyaWFudCwgIzQ5NDU0ZikpOy0tX2lucHV0LXRleHQtc2l6ZTogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1pbnB1dC10ZXh0LXNpemUsIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1sYXJnZS1zaXplLCAxcmVtKSk7LS1faW5wdXQtdGV4dC1zdWZmaXgtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtaW5wdXQtdGV4dC1zdWZmaXgtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLXZhcmlhbnQsICM0OTQ1NGYpKTstLV9pbnB1dC10ZXh0LXdlaWdodDogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1pbnB1dC10ZXh0LXdlaWdodCwgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1ib2R5LWxhcmdlLXdlaWdodCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLXdlaWdodC1yZWd1bGFyLCA0MDApKSk7LS1fbGFiZWwtdGV4dC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1sYWJlbC10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZS12YXJpYW50LCAjNDk0NTRmKSk7LS1fbGFiZWwtdGV4dC1mb250OiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWxhYmVsLXRleHQtZm9udCwgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1ib2R5LWxhcmdlLWZvbnQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS1wbGFpbiwgUm9ib3RvKSkpOy0tX2xhYmVsLXRleHQtbGluZS1oZWlnaHQ6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtbGFiZWwtdGV4dC1saW5lLWhlaWdodCwgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1ib2R5LWxhcmdlLWxpbmUtaGVpZ2h0LCAxLjVyZW0pKTstLV9sYWJlbC10ZXh0LXBvcHVsYXRlZC1saW5lLWhlaWdodDogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1sYWJlbC10ZXh0LXBvcHVsYXRlZC1saW5lLWhlaWdodCwgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1ib2R5LXNtYWxsLWxpbmUtaGVpZ2h0LCAxcmVtKSk7LS1fbGFiZWwtdGV4dC1wb3B1bGF0ZWQtc2l6ZTogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1sYWJlbC10ZXh0LXBvcHVsYXRlZC1zaXplLCB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWJvZHktc21hbGwtc2l6ZSwgMC43NXJlbSkpOy0tX2xhYmVsLXRleHQtc2l6ZTogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1sYWJlbC10ZXh0LXNpemUsIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1sYXJnZS1zaXplLCAxcmVtKSk7LS1fbGFiZWwtdGV4dC13ZWlnaHQ6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtbGFiZWwtdGV4dC13ZWlnaHQsIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1sYXJnZS13ZWlnaHQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS13ZWlnaHQtcmVndWxhciwgNDAwKSkpOy0tX2xlYWRpbmctaWNvbi1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1sZWFkaW5nLWljb24tY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLXZhcmlhbnQsICM0OTQ1NGYpKTstLV9sZWFkaW5nLWljb24tc2l6ZTogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1sZWFkaW5nLWljb24tc2l6ZSwgMjRweCk7LS1fb3V0bGluZS1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1vdXRsaW5lLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb3V0bGluZSwgIzc5NzQ3ZSkpOy0tX291dGxpbmUtd2lkdGg6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtb3V0bGluZS13aWR0aCwgMXB4KTstLV9zdXBwb3J0aW5nLXRleHQtY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtc3VwcG9ydGluZy10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZS12YXJpYW50LCAjNDk0NTRmKSk7LS1fc3VwcG9ydGluZy10ZXh0LWZvbnQ6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtc3VwcG9ydGluZy10ZXh0LWZvbnQsIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1zbWFsbC1mb250LCB2YXIoLS1tZC1yZWYtdHlwZWZhY2UtcGxhaW4sIFJvYm90bykpKTstLV9zdXBwb3J0aW5nLXRleHQtbGluZS1oZWlnaHQ6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtc3VwcG9ydGluZy10ZXh0LWxpbmUtaGVpZ2h0LCB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWJvZHktc21hbGwtbGluZS1oZWlnaHQsIDFyZW0pKTstLV9zdXBwb3J0aW5nLXRleHQtc2l6ZTogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1zdXBwb3J0aW5nLXRleHQtc2l6ZSwgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1ib2R5LXNtYWxsLXNpemUsIDAuNzVyZW0pKTstLV9zdXBwb3J0aW5nLXRleHQtd2VpZ2h0OiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLXN1cHBvcnRpbmctdGV4dC13ZWlnaHQsIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1zbWFsbC13ZWlnaHQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS13ZWlnaHQtcmVndWxhciwgNDAwKSkpOy0tX3RyYWlsaW5nLWljb24tY29sb3I6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtdHJhaWxpbmctaWNvbi1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UtdmFyaWFudCwgIzQ5NDU0ZikpOy0tX3RyYWlsaW5nLWljb24tc2l6ZTogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC10cmFpbGluZy1pY29uLXNpemUsIDI0cHgpOy0tX2NvbnRhaW5lci1zaGFwZS1zdGFydC1zdGFydDogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1jb250YWluZXItc2hhcGUtc3RhcnQtc3RhcnQsIHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtY29udGFpbmVyLXNoYXBlLCB2YXIoLS1tZC1zeXMtc2hhcGUtY29ybmVyLWV4dHJhLXNtYWxsLCA0cHgpKSk7LS1fY29udGFpbmVyLXNoYXBlLXN0YXJ0LWVuZDogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1jb250YWluZXItc2hhcGUtc3RhcnQtZW5kLCB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWNvbnRhaW5lci1zaGFwZSwgdmFyKC0tbWQtc3lzLXNoYXBlLWNvcm5lci1leHRyYS1zbWFsbCwgNHB4KSkpOy0tX2NvbnRhaW5lci1zaGFwZS1lbmQtZW5kOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWNvbnRhaW5lci1zaGFwZS1lbmQtZW5kLCB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWNvbnRhaW5lci1zaGFwZSwgdmFyKC0tbWQtc3lzLXNoYXBlLWNvcm5lci1leHRyYS1zbWFsbCwgNHB4KSkpOy0tX2NvbnRhaW5lci1zaGFwZS1lbmQtc3RhcnQ6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtY29udGFpbmVyLXNoYXBlLWVuZC1zdGFydCwgdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1jb250YWluZXItc2hhcGUsIHZhcigtLW1kLXN5cy1zaGFwZS1jb3JuZXItZXh0cmEtc21hbGwsIDRweCkpKTstLV9pY29uLWlucHV0LXNwYWNlOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWljb24taW5wdXQtc3BhY2UsIDE2cHgpOy0tX2xlYWRpbmctc3BhY2U6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtbGVhZGluZy1zcGFjZSwgMTZweCk7LS1fdHJhaWxpbmctc3BhY2U6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtdHJhaWxpbmctc3BhY2UsIDE2cHgpOy0tX3RvcC1zcGFjZTogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC10b3Atc3BhY2UsIDE2cHgpOy0tX2JvdHRvbS1zcGFjZTogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1ib3R0b20tc3BhY2UsIDE2cHgpOy0tX2lucHV0LXRleHQtcHJlZml4LXRyYWlsaW5nLXNwYWNlOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLWlucHV0LXRleHQtcHJlZml4LXRyYWlsaW5nLXNwYWNlLCAycHgpOy0tX2lucHV0LXRleHQtc3VmZml4LWxlYWRpbmctc3BhY2U6IHZhcigtLW1kLW91dGxpbmVkLXRleHQtZmllbGQtaW5wdXQtdGV4dC1zdWZmaXgtbGVhZGluZy1zcGFjZSwgMnB4KTstLV9mb2N1cy1jYXJldC1jb2xvcjogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC1mb2N1cy1jYXJldC1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXByaW1hcnksICM2NzUwYTQpKTstLV93aXRoLWxlYWRpbmctaWNvbi1sZWFkaW5nLXNwYWNlOiB2YXIoLS1tZC1vdXRsaW5lZC10ZXh0LWZpZWxkLXdpdGgtbGVhZGluZy1pY29uLWxlYWRpbmctc3BhY2UsIDEycHgpOy0tX3dpdGgtdHJhaWxpbmctaWNvbi10cmFpbGluZy1zcGFjZTogdmFyKC0tbWQtb3V0bGluZWQtdGV4dC1maWVsZC13aXRoLXRyYWlsaW5nLWljb24tdHJhaWxpbmctc3BhY2UsIDEycHgpOy0tbWQtb3V0bGluZWQtZmllbGQtYm90dG9tLXNwYWNlOiB2YXIoLS1fYm90dG9tLXNwYWNlKTstLW1kLW91dGxpbmVkLWZpZWxkLWNvbnRhaW5lci1zaGFwZS1lbmQtZW5kOiB2YXIoLS1fY29udGFpbmVyLXNoYXBlLWVuZC1lbmQpOy0tbWQtb3V0bGluZWQtZmllbGQtY29udGFpbmVyLXNoYXBlLWVuZC1zdGFydDogdmFyKC0tX2NvbnRhaW5lci1zaGFwZS1lbmQtc3RhcnQpOy0tbWQtb3V0bGluZWQtZmllbGQtY29udGFpbmVyLXNoYXBlLXN0YXJ0LWVuZDogdmFyKC0tX2NvbnRhaW5lci1zaGFwZS1zdGFydC1lbmQpOy0tbWQtb3V0bGluZWQtZmllbGQtY29udGFpbmVyLXNoYXBlLXN0YXJ0LXN0YXJ0OiB2YXIoLS1fY29udGFpbmVyLXNoYXBlLXN0YXJ0LXN0YXJ0KTstLW1kLW91dGxpbmVkLWZpZWxkLWNvbnRlbnQtY29sb3I6IHZhcigtLV9pbnB1dC10ZXh0LWNvbG9yKTstLW1kLW91dGxpbmVkLWZpZWxkLWNvbnRlbnQtZm9udDogdmFyKC0tX2lucHV0LXRleHQtZm9udCk7LS1tZC1vdXRsaW5lZC1maWVsZC1jb250ZW50LWxpbmUtaGVpZ2h0OiB2YXIoLS1faW5wdXQtdGV4dC1saW5lLWhlaWdodCk7LS1tZC1vdXRsaW5lZC1maWVsZC1jb250ZW50LXNpemU6IHZhcigtLV9pbnB1dC10ZXh0LXNpemUpOy0tbWQtb3V0bGluZWQtZmllbGQtY29udGVudC1zcGFjZTogdmFyKC0tX2ljb24taW5wdXQtc3BhY2UpOy0tbWQtb3V0bGluZWQtZmllbGQtY29udGVudC13ZWlnaHQ6IHZhcigtLV9pbnB1dC10ZXh0LXdlaWdodCk7LS1tZC1vdXRsaW5lZC1maWVsZC1kaXNhYmxlZC1jb250ZW50LWNvbG9yOiB2YXIoLS1fZGlzYWJsZWQtaW5wdXQtdGV4dC1jb2xvcik7LS1tZC1vdXRsaW5lZC1maWVsZC1kaXNhYmxlZC1jb250ZW50LW9wYWNpdHk6IHZhcigtLV9kaXNhYmxlZC1pbnB1dC10ZXh0LW9wYWNpdHkpOy0tbWQtb3V0bGluZWQtZmllbGQtZGlzYWJsZWQtbGFiZWwtdGV4dC1jb2xvcjogdmFyKC0tX2Rpc2FibGVkLWxhYmVsLXRleHQtY29sb3IpOy0tbWQtb3V0bGluZWQtZmllbGQtZGlzYWJsZWQtbGFiZWwtdGV4dC1vcGFjaXR5OiB2YXIoLS1fZGlzYWJsZWQtbGFiZWwtdGV4dC1vcGFjaXR5KTstLW1kLW91dGxpbmVkLWZpZWxkLWRpc2FibGVkLWxlYWRpbmctY29udGVudC1jb2xvcjogdmFyKC0tX2Rpc2FibGVkLWxlYWRpbmctaWNvbi1jb2xvcik7LS1tZC1vdXRsaW5lZC1maWVsZC1kaXNhYmxlZC1sZWFkaW5nLWNvbnRlbnQtb3BhY2l0eTogdmFyKC0tX2Rpc2FibGVkLWxlYWRpbmctaWNvbi1vcGFjaXR5KTstLW1kLW91dGxpbmVkLWZpZWxkLWRpc2FibGVkLW91dGxpbmUtY29sb3I6IHZhcigtLV9kaXNhYmxlZC1vdXRsaW5lLWNvbG9yKTstLW1kLW91dGxpbmVkLWZpZWxkLWRpc2FibGVkLW91dGxpbmUtb3BhY2l0eTogdmFyKC0tX2Rpc2FibGVkLW91dGxpbmUtb3BhY2l0eSk7LS1tZC1vdXRsaW5lZC1maWVsZC1kaXNhYmxlZC1vdXRsaW5lLXdpZHRoOiB2YXIoLS1fZGlzYWJsZWQtb3V0bGluZS13aWR0aCk7LS1tZC1vdXRsaW5lZC1maWVsZC1kaXNhYmxlZC1zdXBwb3J0aW5nLXRleHQtY29sb3I6IHZhcigtLV9kaXNhYmxlZC1zdXBwb3J0aW5nLXRleHQtY29sb3IpOy0tbWQtb3V0bGluZWQtZmllbGQtZGlzYWJsZWQtc3VwcG9ydGluZy10ZXh0LW9wYWNpdHk6IHZhcigtLV9kaXNhYmxlZC1zdXBwb3J0aW5nLXRleHQtb3BhY2l0eSk7LS1tZC1vdXRsaW5lZC1maWVsZC1kaXNhYmxlZC10cmFpbGluZy1jb250ZW50LWNvbG9yOiB2YXIoLS1fZGlzYWJsZWQtdHJhaWxpbmctaWNvbi1jb2xvcik7LS1tZC1vdXRsaW5lZC1maWVsZC1kaXNhYmxlZC10cmFpbGluZy1jb250ZW50LW9wYWNpdHk6IHZhcigtLV9kaXNhYmxlZC10cmFpbGluZy1pY29uLW9wYWNpdHkpOy0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItY29udGVudC1jb2xvcjogdmFyKC0tX2Vycm9yLWlucHV0LXRleHQtY29sb3IpOy0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItZm9jdXMtY29udGVudC1jb2xvcjogdmFyKC0tX2Vycm9yLWZvY3VzLWlucHV0LXRleHQtY29sb3IpOy0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItZm9jdXMtbGFiZWwtdGV4dC1jb2xvcjogdmFyKC0tX2Vycm9yLWZvY3VzLWxhYmVsLXRleHQtY29sb3IpOy0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItZm9jdXMtbGVhZGluZy1jb250ZW50LWNvbG9yOiB2YXIoLS1fZXJyb3ItZm9jdXMtbGVhZGluZy1pY29uLWNvbG9yKTstLW1kLW91dGxpbmVkLWZpZWxkLWVycm9yLWZvY3VzLW91dGxpbmUtY29sb3I6IHZhcigtLV9lcnJvci1mb2N1cy1vdXRsaW5lLWNvbG9yKTstLW1kLW91dGxpbmVkLWZpZWxkLWVycm9yLWZvY3VzLXN1cHBvcnRpbmctdGV4dC1jb2xvcjogdmFyKC0tX2Vycm9yLWZvY3VzLXN1cHBvcnRpbmctdGV4dC1jb2xvcik7LS1tZC1vdXRsaW5lZC1maWVsZC1lcnJvci1mb2N1cy10cmFpbGluZy1jb250ZW50LWNvbG9yOiB2YXIoLS1fZXJyb3ItZm9jdXMtdHJhaWxpbmctaWNvbi1jb2xvcik7LS1tZC1vdXRsaW5lZC1maWVsZC1lcnJvci1ob3Zlci1jb250ZW50LWNvbG9yOiB2YXIoLS1fZXJyb3ItaG92ZXItaW5wdXQtdGV4dC1jb2xvcik7LS1tZC1vdXRsaW5lZC1maWVsZC1lcnJvci1ob3Zlci1sYWJlbC10ZXh0LWNvbG9yOiB2YXIoLS1fZXJyb3ItaG92ZXItbGFiZWwtdGV4dC1jb2xvcik7LS1tZC1vdXRsaW5lZC1maWVsZC1lcnJvci1ob3Zlci1sZWFkaW5nLWNvbnRlbnQtY29sb3I6IHZhcigtLV9lcnJvci1ob3Zlci1sZWFkaW5nLWljb24tY29sb3IpOy0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItaG92ZXItb3V0bGluZS1jb2xvcjogdmFyKC0tX2Vycm9yLWhvdmVyLW91dGxpbmUtY29sb3IpOy0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItaG92ZXItc3VwcG9ydGluZy10ZXh0LWNvbG9yOiB2YXIoLS1fZXJyb3ItaG92ZXItc3VwcG9ydGluZy10ZXh0LWNvbG9yKTstLW1kLW91dGxpbmVkLWZpZWxkLWVycm9yLWhvdmVyLXRyYWlsaW5nLWNvbnRlbnQtY29sb3I6IHZhcigtLV9lcnJvci1ob3Zlci10cmFpbGluZy1pY29uLWNvbG9yKTstLW1kLW91dGxpbmVkLWZpZWxkLWVycm9yLWxhYmVsLXRleHQtY29sb3I6IHZhcigtLV9lcnJvci1sYWJlbC10ZXh0LWNvbG9yKTstLW1kLW91dGxpbmVkLWZpZWxkLWVycm9yLWxlYWRpbmctY29udGVudC1jb2xvcjogdmFyKC0tX2Vycm9yLWxlYWRpbmctaWNvbi1jb2xvcik7LS1tZC1vdXRsaW5lZC1maWVsZC1lcnJvci1vdXRsaW5lLWNvbG9yOiB2YXIoLS1fZXJyb3Itb3V0bGluZS1jb2xvcik7LS1tZC1vdXRsaW5lZC1maWVsZC1lcnJvci1zdXBwb3J0aW5nLXRleHQtY29sb3I6IHZhcigtLV9lcnJvci1zdXBwb3J0aW5nLXRleHQtY29sb3IpOy0tbWQtb3V0bGluZWQtZmllbGQtZXJyb3ItdHJhaWxpbmctY29udGVudC1jb2xvcjogdmFyKC0tX2Vycm9yLXRyYWlsaW5nLWljb24tY29sb3IpOy0tbWQtb3V0bGluZWQtZmllbGQtZm9jdXMtY29udGVudC1jb2xvcjogdmFyKC0tX2ZvY3VzLWlucHV0LXRleHQtY29sb3IpOy0tbWQtb3V0bGluZWQtZmllbGQtZm9jdXMtbGFiZWwtdGV4dC1jb2xvcjogdmFyKC0tX2ZvY3VzLWxhYmVsLXRleHQtY29sb3IpOy0tbWQtb3V0bGluZWQtZmllbGQtZm9jdXMtbGVhZGluZy1jb250ZW50LWNvbG9yOiB2YXIoLS1fZm9jdXMtbGVhZGluZy1pY29uLWNvbG9yKTstLW1kLW91dGxpbmVkLWZpZWxkLWZvY3VzLW91dGxpbmUtY29sb3I6IHZhcigtLV9mb2N1cy1vdXRsaW5lLWNvbG9yKTstLW1kLW91dGxpbmVkLWZpZWxkLWZvY3VzLW91dGxpbmUtd2lkdGg6IHZhcigtLV9mb2N1cy1vdXRsaW5lLXdpZHRoKTstLW1kLW91dGxpbmVkLWZpZWxkLWZvY3VzLXN1cHBvcnRpbmctdGV4dC1jb2xvcjogdmFyKC0tX2ZvY3VzLXN1cHBvcnRpbmctdGV4dC1jb2xvcik7LS1tZC1vdXRsaW5lZC1maWVsZC1mb2N1cy10cmFpbGluZy1jb250ZW50LWNvbG9yOiB2YXIoLS1fZm9jdXMtdHJhaWxpbmctaWNvbi1jb2xvcik7LS1tZC1vdXRsaW5lZC1maWVsZC1ob3Zlci1jb250ZW50LWNvbG9yOiB2YXIoLS1faG92ZXItaW5wdXQtdGV4dC1jb2xvcik7LS1tZC1vdXRsaW5lZC1maWVsZC1ob3Zlci1sYWJlbC10ZXh0LWNvbG9yOiB2YXIoLS1faG92ZXItbGFiZWwtdGV4dC1jb2xvcik7LS1tZC1vdXRsaW5lZC1maWVsZC1ob3Zlci1sZWFkaW5nLWNvbnRlbnQtY29sb3I6IHZhcigtLV9ob3Zlci1sZWFkaW5nLWljb24tY29sb3IpOy0tbWQtb3V0bGluZWQtZmllbGQtaG92ZXItb3V0bGluZS1jb2xvcjogdmFyKC0tX2hvdmVyLW91dGxpbmUtY29sb3IpOy0tbWQtb3V0bGluZWQtZmllbGQtaG92ZXItb3V0bGluZS13aWR0aDogdmFyKC0tX2hvdmVyLW91dGxpbmUtd2lkdGgpOy0tbWQtb3V0bGluZWQtZmllbGQtaG92ZXItc3VwcG9ydGluZy10ZXh0LWNvbG9yOiB2YXIoLS1faG92ZXItc3VwcG9ydGluZy10ZXh0LWNvbG9yKTstLW1kLW91dGxpbmVkLWZpZWxkLWhvdmVyLXRyYWlsaW5nLWNvbnRlbnQtY29sb3I6IHZhcigtLV9ob3Zlci10cmFpbGluZy1pY29uLWNvbG9yKTstLW1kLW91dGxpbmVkLWZpZWxkLWxhYmVsLXRleHQtY29sb3I6IHZhcigtLV9sYWJlbC10ZXh0LWNvbG9yKTstLW1kLW91dGxpbmVkLWZpZWxkLWxhYmVsLXRleHQtZm9udDogdmFyKC0tX2xhYmVsLXRleHQtZm9udCk7LS1tZC1vdXRsaW5lZC1maWVsZC1sYWJlbC10ZXh0LWxpbmUtaGVpZ2h0OiB2YXIoLS1fbGFiZWwtdGV4dC1saW5lLWhlaWdodCk7LS1tZC1vdXRsaW5lZC1maWVsZC1sYWJlbC10ZXh0LXBvcHVsYXRlZC1saW5lLWhlaWdodDogdmFyKC0tX2xhYmVsLXRleHQtcG9wdWxhdGVkLWxpbmUtaGVpZ2h0KTstLW1kLW91dGxpbmVkLWZpZWxkLWxhYmVsLXRleHQtcG9wdWxhdGVkLXNpemU6IHZhcigtLV9sYWJlbC10ZXh0LXBvcHVsYXRlZC1zaXplKTstLW1kLW91dGxpbmVkLWZpZWxkLWxhYmVsLXRleHQtc2l6ZTogdmFyKC0tX2xhYmVsLXRleHQtc2l6ZSk7LS1tZC1vdXRsaW5lZC1maWVsZC1sYWJlbC10ZXh0LXdlaWdodDogdmFyKC0tX2xhYmVsLXRleHQtd2VpZ2h0KTstLW1kLW91dGxpbmVkLWZpZWxkLWxlYWRpbmctY29udGVudC1jb2xvcjogdmFyKC0tX2xlYWRpbmctaWNvbi1jb2xvcik7LS1tZC1vdXRsaW5lZC1maWVsZC1sZWFkaW5nLXNwYWNlOiB2YXIoLS1fbGVhZGluZy1zcGFjZSk7LS1tZC1vdXRsaW5lZC1maWVsZC1vdXRsaW5lLWNvbG9yOiB2YXIoLS1fb3V0bGluZS1jb2xvcik7LS1tZC1vdXRsaW5lZC1maWVsZC1vdXRsaW5lLXdpZHRoOiB2YXIoLS1fb3V0bGluZS13aWR0aCk7LS1tZC1vdXRsaW5lZC1maWVsZC1zdXBwb3J0aW5nLXRleHQtY29sb3I6IHZhcigtLV9zdXBwb3J0aW5nLXRleHQtY29sb3IpOy0tbWQtb3V0bGluZWQtZmllbGQtc3VwcG9ydGluZy10ZXh0LWZvbnQ6IHZhcigtLV9zdXBwb3J0aW5nLXRleHQtZm9udCk7LS1tZC1vdXRsaW5lZC1maWVsZC1zdXBwb3J0aW5nLXRleHQtbGluZS1oZWlnaHQ6IHZhcigtLV9zdXBwb3J0aW5nLXRleHQtbGluZS1oZWlnaHQpOy0tbWQtb3V0bGluZWQtZmllbGQtc3VwcG9ydGluZy10ZXh0LXNpemU6IHZhcigtLV9zdXBwb3J0aW5nLXRleHQtc2l6ZSk7LS1tZC1vdXRsaW5lZC1maWVsZC1zdXBwb3J0aW5nLXRleHQtd2VpZ2h0OiB2YXIoLS1fc3VwcG9ydGluZy10ZXh0LXdlaWdodCk7LS1tZC1vdXRsaW5lZC1maWVsZC10b3Atc3BhY2U6IHZhcigtLV90b3Atc3BhY2UpOy0tbWQtb3V0bGluZWQtZmllbGQtdHJhaWxpbmctY29udGVudC1jb2xvcjogdmFyKC0tX3RyYWlsaW5nLWljb24tY29sb3IpOy0tbWQtb3V0bGluZWQtZmllbGQtdHJhaWxpbmctc3BhY2U6IHZhcigtLV90cmFpbGluZy1zcGFjZSk7LS1tZC1vdXRsaW5lZC1maWVsZC13aXRoLWxlYWRpbmctY29udGVudC1sZWFkaW5nLXNwYWNlOiB2YXIoLS1fd2l0aC1sZWFkaW5nLWljb24tbGVhZGluZy1zcGFjZSk7LS1tZC1vdXRsaW5lZC1maWVsZC13aXRoLXRyYWlsaW5nLWNvbnRlbnQtdHJhaWxpbmctc3BhY2U6IHZhcigtLV93aXRoLXRyYWlsaW5nLWljb24tdHJhaWxpbmctc3BhY2UpfQpgOwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vbGl0LWh0bWxAMy4zLjAvbm9kZV9tb2R1bGVzL2xpdC1odG1sL2RpcmVjdGl2ZS1oZWxwZXJzLmpzCiAgdmFyIHsgSTogdDUgfSA9IFo7CiAgdmFyIGYzID0gKG8xMCkgPT4gdm9pZCAwID09PSBvMTAuc3RyaW5nczsKICB2YXIgdTQgPSB7fTsKICB2YXIgbTIgPSAobzEwLCB0NiA9IHU0KSA9PiBvMTAuXyRBSCA9IHQ2OwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vbGl0LWh0bWxAMy4zLjAvbm9kZV9tb2R1bGVzL2xpdC1odG1sL2RpcmVjdGl2ZXMvbGl2ZS5qcwogIHZhciBsNCA9IGU2KGNsYXNzIGV4dGVuZHMgaTUgewogICAgY29uc3RydWN0b3IocjcpIHsKICAgICAgaWYgKHN1cGVyKHI3KSwgcjcudHlwZSAhPT0gdDQuUFJPUEVSVFkgJiYgcjcudHlwZSAhPT0gdDQuQVRUUklCVVRFICYmIHI3LnR5cGUgIT09IHQ0LkJPT0xFQU5fQVRUUklCVVRFKSB0aHJvdyBFcnJvcigiVGhlIGBsaXZlYCBkaXJlY3RpdmUgaXMgbm90IGFsbG93ZWQgb24gY2hpbGQgb3IgZXZlbnQgYmluZGluZ3MiKTsKICAgICAgaWYgKCFmMyhyNykpIHRocm93IEVycm9yKCJgbGl2ZWAgYmluZGluZ3MgY2FuIG9ubHkgY29udGFpbiBhIHNpbmdsZSBleHByZXNzaW9uIik7CiAgICB9CiAgICByZW5kZXIocjcpIHsKICAgICAgcmV0dXJuIHI3OwogICAgfQogICAgdXBkYXRlKGk4LCBbdDZdKSB7CiAgICAgIGlmICh0NiA9PT0gVCB8fCB0NiA9PT0gRSkgcmV0dXJuIHQ2OwogICAgICBjb25zdCBvMTAgPSBpOC5lbGVtZW50LCBsNSA9IGk4Lm5hbWU7CiAgICAgIGlmIChpOC50eXBlID09PSB0NC5QUk9QRVJUWSkgewogICAgICAgIGlmICh0NiA9PT0gbzEwW2w1XSkgcmV0dXJuIFQ7CiAgICAgIH0gZWxzZSBpZiAoaTgudHlwZSA9PT0gdDQuQk9PTEVBTl9BVFRSSUJVVEUpIHsKICAgICAgICBpZiAoISF0NiA9PT0gbzEwLmhhc0F0dHJpYnV0ZShsNSkpIHJldHVybiBUOwogICAgICB9IGVsc2UgaWYgKGk4LnR5cGUgPT09IHQ0LkFUVFJJQlVURSAmJiBvMTAuZ2V0QXR0cmlidXRlKGw1KSA9PT0gdDYgKyAiIikgcmV0dXJuIFQ7CiAgICAgIHJldHVybiBtMihpOCksIHQ2OwogICAgfQogIH0pOwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vbGl0LWh0bWxAMy4zLjAvbm9kZV9tb2R1bGVzL2xpdC1odG1sL2RpcmVjdGl2ZXMvc3R5bGUtbWFwLmpzCiAgdmFyIG42ID0gImltcG9ydGFudCI7CiAgdmFyIGk3ID0gIiAhIiArIG42OwogIHZhciBvOSA9IGU2KGNsYXNzIGV4dGVuZHMgaTUgewogICAgY29uc3RydWN0b3IodDYpIHsKICAgICAgaWYgKHN1cGVyKHQ2KSwgdDYudHlwZSAhPT0gdDQuQVRUUklCVVRFIHx8ICJzdHlsZSIgIT09IHQ2Lm5hbWUgfHwgdDYuc3RyaW5ncz8ubGVuZ3RoID4gMikgdGhyb3cgRXJyb3IoIlRoZSBgc3R5bGVNYXBgIGRpcmVjdGl2ZSBtdXN0IGJlIHVzZWQgaW4gdGhlIGBzdHlsZWAgYXR0cmlidXRlIGFuZCBtdXN0IGJlIHRoZSBvbmx5IHBhcnQgaW4gdGhlIGF0dHJpYnV0ZS4iKTsKICAgIH0KICAgIHJlbmRlcih0NikgewogICAgICByZXR1cm4gT2JqZWN0LmtleXModDYpLnJlZHVjZSgoZTgsIHI3KSA9PiB7CiAgICAgICAgY29uc3QgczQgPSB0NltyN107CiAgICAgICAgcmV0dXJuIG51bGwgPT0gczQgPyBlOCA6IGU4ICsgYCR7cjcgPSByNy5pbmNsdWRlcygiLSIpID8gcjcgOiByNy5yZXBsYWNlKC8oPzpeKHdlYmtpdHxtb3p8bXN8byl8KSg/PVtBLVpdKS9nLCAiLSQmIikudG9Mb3dlckNhc2UoKX06JHtzNH07YDsKICAgICAgfSwgIiIpOwogICAgfQogICAgdXBkYXRlKGU4LCBbcjddKSB7CiAgICAgIGNvbnN0IHsgc3R5bGU6IHM0IH0gPSBlOC5lbGVtZW50OwogICAgICBpZiAodm9pZCAwID09PSB0aGlzLmZ0KSByZXR1cm4gdGhpcy5mdCA9IG5ldyBTZXQoT2JqZWN0LmtleXMocjcpKSwgdGhpcy5yZW5kZXIocjcpOwogICAgICBmb3IgKGNvbnN0IHQ2IG9mIHRoaXMuZnQpIG51bGwgPT0gcjdbdDZdICYmICh0aGlzLmZ0LmRlbGV0ZSh0NiksIHQ2LmluY2x1ZGVzKCItIikgPyBzNC5yZW1vdmVQcm9wZXJ0eSh0NikgOiBzNFt0Nl0gPSBudWxsKTsKICAgICAgZm9yIChjb25zdCB0NiBpbiByNykgewogICAgICAgIGNvbnN0IGU5ID0gcjdbdDZdOwogICAgICAgIGlmIChudWxsICE9IGU5KSB7CiAgICAgICAgICB0aGlzLmZ0LmFkZCh0Nik7CiAgICAgICAgICBjb25zdCByOCA9ICJzdHJpbmciID09IHR5cGVvZiBlOSAmJiBlOS5lbmRzV2l0aChpNyk7CiAgICAgICAgICB0Ni5pbmNsdWRlcygiLSIpIHx8IHI4ID8gczQuc2V0UHJvcGVydHkodDYsIHI4ID8gZTkuc2xpY2UoMCwgLTExKSA6IGU5LCByOCA/IG42IDogIiIpIDogczRbdDZdID0gZTk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBUOwogICAgfQogIH0pOwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9pbnRlcm5hbC9jb250cm9sbGVyL3N0cmluZy1jb252ZXJ0ZXIuanMKICB2YXIgc3RyaW5nQ29udmVydGVyID0gewogICAgZnJvbUF0dHJpYnV0ZSh2YWx1ZSkgewogICAgICByZXR1cm4gdmFsdWUgPz8gIiI7CiAgICB9LAogICAgdG9BdHRyaWJ1dGUodmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlIHx8IG51bGw7CiAgICB9CiAgfTsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvbGFicy9iZWhhdmlvcnMvb24tcmVwb3J0LXZhbGlkaXR5LmpzCiAgdmFyIG9uUmVwb3J0VmFsaWRpdHkgPSBTeW1ib2woIm9uUmVwb3J0VmFsaWRpdHkiKTsKICB2YXIgcHJpdmF0ZUNsZWFudXBGb3JtTGlzdGVuZXJzID0gU3ltYm9sKCJwcml2YXRlQ2xlYW51cEZvcm1MaXN0ZW5lcnMiKTsKICB2YXIgcHJpdmF0ZURvTm90UmVwb3J0SW52YWxpZCA9IFN5bWJvbCgicHJpdmF0ZURvTm90UmVwb3J0SW52YWxpZCIpOwogIHZhciBwcml2YXRlSXNTZWxmUmVwb3J0aW5nVmFsaWRpdHkgPSBTeW1ib2woInByaXZhdGVJc1NlbGZSZXBvcnRpbmdWYWxpZGl0eSIpOwogIHZhciBwcml2YXRlQ2FsbE9uUmVwb3J0VmFsaWRpdHkgPSBTeW1ib2woInByaXZhdGVDYWxsT25SZXBvcnRWYWxpZGl0eSIpOwogIGZ1bmN0aW9uIG1peGluT25SZXBvcnRWYWxpZGl0eShiYXNlKSB7CiAgICB2YXIgX2EyLCBfYiwgX2M7CiAgICBjbGFzcyBPblJlcG9ydFZhbGlkaXR5RWxlbWVudCBleHRlbmRzIGJhc2UgewogICAgICAvLyBNaXhpbnMgbXVzdCBoYXZlIGEgY29uc3RydWN0b3Igd2l0aCBgLi4uYXJnczogYW55W11gCiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkKICAgICAgY29uc3RydWN0b3IoLi4uYXJncykgewogICAgICAgIHN1cGVyKC4uLmFyZ3MpOwogICAgICAgIHRoaXNbX2EyXSA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTsKICAgICAgICB0aGlzW19iXSA9IGZhbHNlOwogICAgICAgIHRoaXNbX2NdID0gZmFsc2U7CiAgICAgICAgaWYgKG83KSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigiaW52YWxpZCIsIChpbnZhbGlkRXZlbnQpID0+IHsKICAgICAgICAgIGlmICh0aGlzW3ByaXZhdGVEb05vdFJlcG9ydEludmFsaWRdIHx8ICFpbnZhbGlkRXZlbnQuaXNUcnVzdGVkKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigiaW52YWxpZCIsICgpID0+IHsKICAgICAgICAgICAgdGhpc1twcml2YXRlQ2FsbE9uUmVwb3J0VmFsaWRpdHldKGludmFsaWRFdmVudCk7CiAgICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7CiAgICAgICAgfSwgewogICAgICAgICAgLy8gTGlzdGVuIGR1cmluZyB0aGUgY2FwdHVyZSBwaGFzZSwgd2hpY2ggd2lsbCBoYXBwZW4gYmVmb3JlIHRoZQogICAgICAgICAgLy8gYnViYmxpbmcgcGhhc2UuIFRoYXQgd2F5LCB3ZSBjYW4gYWRkIGEgZmluYWwgZXZlbnQgbGlzdGVuZXIgdGhhdAogICAgICAgICAgLy8gd2lsbCBydW4gYWZ0ZXIgb3RoZXIgZXZlbnQgbGlzdGVuZXJzLCBhbmQgd2UgY2FuIGNoZWNrIGlmIGl0IHdhcwogICAgICAgICAgLy8gZGVmYXVsdCBwcmV2ZW50ZWQuIFRoaXMgd29ya3MgYmVjYXVzZSBpbnZhbGlkIGRvZXMgbm90IGJ1YmJsZS4KICAgICAgICAgIGNhcHR1cmU6IHRydWUKICAgICAgICB9KTsKICAgICAgfQogICAgICBjaGVja1ZhbGlkaXR5KCkgewogICAgICAgIHRoaXNbcHJpdmF0ZURvTm90UmVwb3J0SW52YWxpZF0gPSB0cnVlOwogICAgICAgIGNvbnN0IHZhbGlkID0gc3VwZXIuY2hlY2tWYWxpZGl0eSgpOwogICAgICAgIHRoaXNbcHJpdmF0ZURvTm90UmVwb3J0SW52YWxpZF0gPSBmYWxzZTsKICAgICAgICByZXR1cm4gdmFsaWQ7CiAgICAgIH0KICAgICAgcmVwb3J0VmFsaWRpdHkoKSB7CiAgICAgICAgdGhpc1twcml2YXRlSXNTZWxmUmVwb3J0aW5nVmFsaWRpdHldID0gdHJ1ZTsKICAgICAgICBjb25zdCB2YWxpZCA9IHN1cGVyLnJlcG9ydFZhbGlkaXR5KCk7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB0aGlzW3ByaXZhdGVDYWxsT25SZXBvcnRWYWxpZGl0eV0obnVsbCk7CiAgICAgICAgfQogICAgICAgIHRoaXNbcHJpdmF0ZUlzU2VsZlJlcG9ydGluZ1ZhbGlkaXR5XSA9IGZhbHNlOwogICAgICAgIHJldHVybiB2YWxpZDsKICAgICAgfQogICAgICBbKF9hMiA9IHByaXZhdGVDbGVhbnVwRm9ybUxpc3RlbmVycywgX2IgPSBwcml2YXRlRG9Ob3RSZXBvcnRJbnZhbGlkLCBfYyA9IHByaXZhdGVJc1NlbGZSZXBvcnRpbmdWYWxpZGl0eSwgcHJpdmF0ZUNhbGxPblJlcG9ydFZhbGlkaXR5KV0oaW52YWxpZEV2ZW50KSB7CiAgICAgICAgY29uc3Qgd2FzQ2FuY2VsZWQgPSBpbnZhbGlkRXZlbnQ/LmRlZmF1bHRQcmV2ZW50ZWQ7CiAgICAgICAgaWYgKHdhc0NhbmNlbGVkKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXNbb25SZXBvcnRWYWxpZGl0eV0oaW52YWxpZEV2ZW50KTsKICAgICAgICBjb25zdCBpbXBsZW1lbnRhdGlvbkNhbmNlbGVkRm9jdXMgPSAhd2FzQ2FuY2VsZWQgJiYgaW52YWxpZEV2ZW50Py5kZWZhdWx0UHJldmVudGVkOwogICAgICAgIGlmICghaW1wbGVtZW50YXRpb25DYW5jZWxlZEZvY3VzKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzW3ByaXZhdGVJc1NlbGZSZXBvcnRpbmdWYWxpZGl0eV0gfHwgaXNGaXJzdEludmFsaWRDb250cm9sSW5Gb3JtKHRoaXNbaW50ZXJuYWxzXS5mb3JtLCB0aGlzKSkgewogICAgICAgICAgdGhpcy5mb2N1cygpOwogICAgICAgIH0KICAgICAgfQogICAgICBbb25SZXBvcnRWYWxpZGl0eV0oaW52YWxpZEV2ZW50KSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJJbXBsZW1lbnQgW29uUmVwb3J0VmFsaWRpdHldIik7CiAgICAgIH0KICAgICAgZm9ybUFzc29jaWF0ZWRDYWxsYmFjayhmb3JtKSB7CiAgICAgICAgaWYgKHN1cGVyLmZvcm1Bc3NvY2lhdGVkQ2FsbGJhY2spIHsKICAgICAgICAgIHN1cGVyLmZvcm1Bc3NvY2lhdGVkQ2FsbGJhY2soZm9ybSk7CiAgICAgICAgfQogICAgICAgIHRoaXNbcHJpdmF0ZUNsZWFudXBGb3JtTGlzdGVuZXJzXS5hYm9ydCgpOwogICAgICAgIGlmICghZm9ybSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGlzW3ByaXZhdGVDbGVhbnVwRm9ybUxpc3RlbmVyc10gPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7CiAgICAgICAgYWRkRm9ybVJlcG9ydFZhbGlkTGlzdGVuZXIodGhpcywgZm9ybSwgKCkgPT4gewogICAgICAgICAgdGhpc1twcml2YXRlQ2FsbE9uUmVwb3J0VmFsaWRpdHldKG51bGwpOwogICAgICAgIH0sIHRoaXNbcHJpdmF0ZUNsZWFudXBGb3JtTGlzdGVuZXJzXS5zaWduYWwpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gT25SZXBvcnRWYWxpZGl0eUVsZW1lbnQ7CiAgfQogIGZ1bmN0aW9uIGFkZEZvcm1SZXBvcnRWYWxpZExpc3RlbmVyKGNvbnRyb2wsIGZvcm0sIG9uQ29udHJvbFZhbGlkLCBjbGVhbnVwKSB7CiAgICBjb25zdCB2YWxpZGF0ZUhvb2tzID0gZ2V0Rm9ybVZhbGlkYXRlSG9va3MoZm9ybSk7CiAgICBsZXQgY29udHJvbEZpcmVkSW52YWxpZCA9IGZhbHNlOwogICAgbGV0IGNsZWFudXBJbnZhbGlkTGlzdGVuZXI7CiAgICBsZXQgaXNOZXh0U3VibWl0RnJvbUhvb2sgPSBmYWxzZTsKICAgIHZhbGlkYXRlSG9va3MuYWRkRXZlbnRMaXN0ZW5lcigiYmVmb3JlIiwgKCkgPT4gewogICAgICBpc05leHRTdWJtaXRGcm9tSG9vayA9IHRydWU7CiAgICAgIGNsZWFudXBJbnZhbGlkTGlzdGVuZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7CiAgICAgIGNvbnRyb2xGaXJlZEludmFsaWQgPSBmYWxzZTsKICAgICAgY29udHJvbC5hZGRFdmVudExpc3RlbmVyKCJpbnZhbGlkIiwgKCkgPT4gewogICAgICAgIGNvbnRyb2xGaXJlZEludmFsaWQgPSB0cnVlOwogICAgICB9LCB7CiAgICAgICAgc2lnbmFsOiBjbGVhbnVwSW52YWxpZExpc3RlbmVyLnNpZ25hbAogICAgICB9KTsKICAgIH0sIHsgc2lnbmFsOiBjbGVhbnVwIH0pOwogICAgdmFsaWRhdGVIb29rcy5hZGRFdmVudExpc3RlbmVyKCJhZnRlciIsICgpID0+IHsKICAgICAgaXNOZXh0U3VibWl0RnJvbUhvb2sgPSBmYWxzZTsKICAgICAgY2xlYW51cEludmFsaWRMaXN0ZW5lcj8uYWJvcnQoKTsKICAgICAgaWYgKGNvbnRyb2xGaXJlZEludmFsaWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgb25Db250cm9sVmFsaWQoKTsKICAgIH0sIHsgc2lnbmFsOiBjbGVhbnVwIH0pOwogICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCJzdWJtaXQiLCAoKSA9PiB7CiAgICAgIGlmIChpc05leHRTdWJtaXRGcm9tSG9vaykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBvbkNvbnRyb2xWYWxpZCgpOwogICAgfSwgewogICAgICBzaWduYWw6IGNsZWFudXAKICAgIH0pOwogIH0KICB2YXIgRk9STV9WQUxJREFURV9IT09LUyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpOwogIGZ1bmN0aW9uIGdldEZvcm1WYWxpZGF0ZUhvb2tzKGZvcm0pIHsKICAgIGlmICghRk9STV9WQUxJREFURV9IT09LUy5oYXMoZm9ybSkpIHsKICAgICAgY29uc3QgaG9va3MgPSBuZXcgRXZlbnRUYXJnZXQoKTsKICAgICAgRk9STV9WQUxJREFURV9IT09LUy5zZXQoZm9ybSwgaG9va3MpOwogICAgICBmb3IgKGNvbnN0IG1ldGhvZE5hbWUgb2YgWyJyZXBvcnRWYWxpZGl0eSIsICJyZXF1ZXN0U3VibWl0Il0pIHsKICAgICAgICBjb25zdCBzdXBlck1ldGhvZCA9IGZvcm1bbWV0aG9kTmFtZV07CiAgICAgICAgZm9ybVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgaG9va3MuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoImJlZm9yZSIpKTsKICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkoc3VwZXJNZXRob2QsIHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICBob29rcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgiYWZ0ZXIiKSk7CiAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH07CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBGT1JNX1ZBTElEQVRFX0hPT0tTLmdldChmb3JtKTsKICB9CiAgZnVuY3Rpb24gaXNGaXJzdEludmFsaWRDb250cm9sSW5Gb3JtKGZvcm0sIGNvbnRyb2wpIHsKICAgIGlmICghZm9ybSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIGxldCBmaXJzdEludmFsaWRDb250cm9sOwogICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGZvcm0uZWxlbWVudHMpIHsKICAgICAgaWYgKGVsZW1lbnQubWF0Y2hlcygiOmludmFsaWQiKSkgewogICAgICAgIGZpcnN0SW52YWxpZENvbnRyb2wgPSBlbGVtZW50OwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gZmlyc3RJbnZhbGlkQ29udHJvbCA9PT0gY29udHJvbDsKICB9CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL2xhYnMvYmVoYXZpb3JzL3ZhbGlkYXRvcnMvdGV4dC1maWVsZC12YWxpZGF0b3IuanMKICB2YXIgVGV4dEZpZWxkVmFsaWRhdG9yID0gY2xhc3MgZXh0ZW5kcyBWYWxpZGF0b3IgewogICAgY29tcHV0ZVZhbGlkaXR5KHsgc3RhdGUsIHJlbmRlcmVkQ29udHJvbCB9KSB7CiAgICAgIGxldCBpbnB1dE9yVGV4dEFyZWEgPSByZW5kZXJlZENvbnRyb2w7CiAgICAgIGlmIChpc0lucHV0U3RhdGUoc3RhdGUpICYmICFpbnB1dE9yVGV4dEFyZWEpIHsKICAgICAgICBpbnB1dE9yVGV4dEFyZWEgPSB0aGlzLmlucHV0Q29udHJvbCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgICAgIHRoaXMuaW5wdXRDb250cm9sID0gaW5wdXRPclRleHRBcmVhOwogICAgICB9IGVsc2UgaWYgKCFpbnB1dE9yVGV4dEFyZWEpIHsKICAgICAgICBpbnB1dE9yVGV4dEFyZWEgPSB0aGlzLnRleHRBcmVhQ29udHJvbCB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpOwogICAgICAgIHRoaXMudGV4dEFyZWFDb250cm9sID0gaW5wdXRPclRleHRBcmVhOwogICAgICB9CiAgICAgIGNvbnN0IGlucHV0ID0gaXNJbnB1dFN0YXRlKHN0YXRlKSA/IGlucHV0T3JUZXh0QXJlYSA6IG51bGw7CiAgICAgIGlmIChpbnB1dCkgewogICAgICAgIGlucHV0LnR5cGUgPSBzdGF0ZS50eXBlOwogICAgICB9CiAgICAgIGlmIChpbnB1dE9yVGV4dEFyZWEudmFsdWUgIT09IHN0YXRlLnZhbHVlKSB7CiAgICAgICAgaW5wdXRPclRleHRBcmVhLnZhbHVlID0gc3RhdGUudmFsdWU7CiAgICAgIH0KICAgICAgaW5wdXRPclRleHRBcmVhLnJlcXVpcmVkID0gc3RhdGUucmVxdWlyZWQ7CiAgICAgIGlmIChpbnB1dCkgewogICAgICAgIGNvbnN0IGlucHV0U3RhdGUgPSBzdGF0ZTsKICAgICAgICBpZiAoaW5wdXRTdGF0ZS5wYXR0ZXJuKSB7CiAgICAgICAgICBpbnB1dC5wYXR0ZXJuID0gaW5wdXRTdGF0ZS5wYXR0ZXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpbnB1dC5yZW1vdmVBdHRyaWJ1dGUoInBhdHRlcm4iKTsKICAgICAgICB9CiAgICAgICAgaWYgKGlucHV0U3RhdGUubWluKSB7CiAgICAgICAgICBpbnB1dC5taW4gPSBpbnB1dFN0YXRlLm1pbjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaW5wdXQucmVtb3ZlQXR0cmlidXRlKCJtaW4iKTsKICAgICAgICB9CiAgICAgICAgaWYgKGlucHV0U3RhdGUubWF4KSB7CiAgICAgICAgICBpbnB1dC5tYXggPSBpbnB1dFN0YXRlLm1heDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaW5wdXQucmVtb3ZlQXR0cmlidXRlKCJtYXgiKTsKICAgICAgICB9CiAgICAgICAgaWYgKGlucHV0U3RhdGUuc3RlcCkgewogICAgICAgICAgaW5wdXQuc3RlcCA9IGlucHV0U3RhdGUuc3RlcDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaW5wdXQucmVtb3ZlQXR0cmlidXRlKCJzdGVwIik7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICgoc3RhdGUubWluTGVuZ3RoID8/IC0xKSA+IC0xKSB7CiAgICAgICAgaW5wdXRPclRleHRBcmVhLnNldEF0dHJpYnV0ZSgibWlubGVuZ3RoIiwgU3RyaW5nKHN0YXRlLm1pbkxlbmd0aCkpOwogICAgICB9IGVsc2UgewogICAgICAgIGlucHV0T3JUZXh0QXJlYS5yZW1vdmVBdHRyaWJ1dGUoIm1pbmxlbmd0aCIpOwogICAgICB9CiAgICAgIGlmICgoc3RhdGUubWF4TGVuZ3RoID8/IC0xKSA+IC0xKSB7CiAgICAgICAgaW5wdXRPclRleHRBcmVhLnNldEF0dHJpYnV0ZSgibWF4bGVuZ3RoIiwgU3RyaW5nKHN0YXRlLm1heExlbmd0aCkpOwogICAgICB9IGVsc2UgewogICAgICAgIGlucHV0T3JUZXh0QXJlYS5yZW1vdmVBdHRyaWJ1dGUoIm1heGxlbmd0aCIpOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgdmFsaWRpdHk6IGlucHV0T3JUZXh0QXJlYS52YWxpZGl0eSwKICAgICAgICB2YWxpZGF0aW9uTWVzc2FnZTogaW5wdXRPclRleHRBcmVhLnZhbGlkYXRpb25NZXNzYWdlCiAgICAgIH07CiAgICB9CiAgICBlcXVhbHMoeyBzdGF0ZTogcHJldiB9LCB7IHN0YXRlOiBuZXh0IH0pIHsKICAgICAgY29uc3QgaW5wdXRPclRleHRBcmVhRXF1YWwgPSBwcmV2LnR5cGUgPT09IG5leHQudHlwZSAmJiBwcmV2LnZhbHVlID09PSBuZXh0LnZhbHVlICYmIHByZXYucmVxdWlyZWQgPT09IG5leHQucmVxdWlyZWQgJiYgcHJldi5taW5MZW5ndGggPT09IG5leHQubWluTGVuZ3RoICYmIHByZXYubWF4TGVuZ3RoID09PSBuZXh0Lm1heExlbmd0aDsKICAgICAgaWYgKCFpc0lucHV0U3RhdGUocHJldikgfHwgIWlzSW5wdXRTdGF0ZShuZXh0KSkgewogICAgICAgIHJldHVybiBpbnB1dE9yVGV4dEFyZWFFcXVhbDsKICAgICAgfQogICAgICByZXR1cm4gaW5wdXRPclRleHRBcmVhRXF1YWwgJiYgcHJldi5wYXR0ZXJuID09PSBuZXh0LnBhdHRlcm4gJiYgcHJldi5taW4gPT09IG5leHQubWluICYmIHByZXYubWF4ID09PSBuZXh0Lm1heCAmJiBwcmV2LnN0ZXAgPT09IG5leHQuc3RlcDsKICAgIH0KICAgIGNvcHkoeyBzdGF0ZSB9KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgc3RhdGU6IGlzSW5wdXRTdGF0ZShzdGF0ZSkgPyB0aGlzLmNvcHlJbnB1dChzdGF0ZSkgOiB0aGlzLmNvcHlUZXh0QXJlYShzdGF0ZSksCiAgICAgICAgcmVuZGVyZWRDb250cm9sOiBudWxsCiAgICAgIH07CiAgICB9CiAgICBjb3B5SW5wdXQoc3RhdGUpIHsKICAgICAgY29uc3QgeyB0eXBlLCBwYXR0ZXJuLCBtaW4sIG1heCwgc3RlcCB9ID0gc3RhdGU7CiAgICAgIHJldHVybiB7CiAgICAgICAgLi4udGhpcy5jb3B5U2hhcmVkU3RhdGUoc3RhdGUpLAogICAgICAgIHR5cGUsCiAgICAgICAgcGF0dGVybiwKICAgICAgICBtaW4sCiAgICAgICAgbWF4LAogICAgICAgIHN0ZXAKICAgICAgfTsKICAgIH0KICAgIGNvcHlUZXh0QXJlYShzdGF0ZSkgewogICAgICByZXR1cm4gewogICAgICAgIC4uLnRoaXMuY29weVNoYXJlZFN0YXRlKHN0YXRlKSwKICAgICAgICB0eXBlOiBzdGF0ZS50eXBlCiAgICAgIH07CiAgICB9CiAgICBjb3B5U2hhcmVkU3RhdGUoeyB2YWx1ZSwgcmVxdWlyZWQsIG1pbkxlbmd0aCwgbWF4TGVuZ3RoIH0pIHsKICAgICAgcmV0dXJuIHsgdmFsdWUsIHJlcXVpcmVkLCBtaW5MZW5ndGgsIG1heExlbmd0aCB9OwogICAgfQogIH07CiAgZnVuY3Rpb24gaXNJbnB1dFN0YXRlKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudHlwZSAhPT0gInRleHRhcmVhIjsKICB9CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL3RleHRmaWVsZC9pbnRlcm5hbC90ZXh0LWZpZWxkLmpzCiAgdmFyIHRleHRGaWVsZEJhc2VDbGFzcyA9IG1peGluRGVsZWdhdGVzQXJpYShtaXhpbk9uUmVwb3J0VmFsaWRpdHkobWl4aW5Db25zdHJhaW50VmFsaWRhdGlvbihtaXhpbkZvcm1Bc3NvY2lhdGVkKG1peGluRWxlbWVudEludGVybmFscyhpNCkpKSkpOwogIHZhciBUZXh0RmllbGQgPSBjbGFzcyBleHRlbmRzIHRleHRGaWVsZEJhc2VDbGFzcyB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTsKICAgICAgdGhpcy5lcnJvciA9IGZhbHNlOwogICAgICB0aGlzLmVycm9yVGV4dCA9ICIiOwogICAgICB0aGlzLmxhYmVsID0gIiI7CiAgICAgIHRoaXMubm9Bc3RlcmlzayA9IGZhbHNlOwogICAgICB0aGlzLnJlcXVpcmVkID0gZmFsc2U7CiAgICAgIHRoaXMudmFsdWUgPSAiIjsKICAgICAgdGhpcy5wcmVmaXhUZXh0ID0gIiI7CiAgICAgIHRoaXMuc3VmZml4VGV4dCA9ICIiOwogICAgICB0aGlzLmhhc0xlYWRpbmdJY29uID0gZmFsc2U7CiAgICAgIHRoaXMuaGFzVHJhaWxpbmdJY29uID0gZmFsc2U7CiAgICAgIHRoaXMuc3VwcG9ydGluZ1RleHQgPSAiIjsKICAgICAgdGhpcy50ZXh0RGlyZWN0aW9uID0gIiI7CiAgICAgIHRoaXMucm93cyA9IDI7CiAgICAgIHRoaXMuY29scyA9IDIwOwogICAgICB0aGlzLmlucHV0TW9kZSA9ICIiOwogICAgICB0aGlzLm1heCA9ICIiOwogICAgICB0aGlzLm1heExlbmd0aCA9IC0xOwogICAgICB0aGlzLm1pbiA9ICIiOwogICAgICB0aGlzLm1pbkxlbmd0aCA9IC0xOwogICAgICB0aGlzLm5vU3Bpbm5lciA9IGZhbHNlOwogICAgICB0aGlzLnBhdHRlcm4gPSAiIjsKICAgICAgdGhpcy5wbGFjZWhvbGRlciA9ICIiOwogICAgICB0aGlzLnJlYWRPbmx5ID0gZmFsc2U7CiAgICAgIHRoaXMubXVsdGlwbGUgPSBmYWxzZTsKICAgICAgdGhpcy5zdGVwID0gIiI7CiAgICAgIHRoaXMudHlwZSA9ICJ0ZXh0IjsKICAgICAgdGhpcy5hdXRvY29tcGxldGUgPSAiIjsKICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlOwogICAgICB0aGlzLmZvY3VzZWQgPSBmYWxzZTsKICAgICAgdGhpcy5uYXRpdmVFcnJvciA9IGZhbHNlOwogICAgICB0aGlzLm5hdGl2ZUVycm9yVGV4dCA9ICIiOwogICAgfQogICAgLyoqCiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIGRpcmVjdGlvbiBpbiB3aGljaCBzZWxlY3Rpb24gb2NjdXJyZWQuCiAgICAgKi8KICAgIGdldCBzZWxlY3Rpb25EaXJlY3Rpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmdldElucHV0T3JUZXh0YXJlYSgpLnNlbGVjdGlvbkRpcmVjdGlvbjsKICAgIH0KICAgIHNldCBzZWxlY3Rpb25EaXJlY3Rpb24odmFsdWUpIHsKICAgICAgdGhpcy5nZXRJbnB1dE9yVGV4dGFyZWEoKS5zZWxlY3Rpb25EaXJlY3Rpb24gPSB2YWx1ZTsKICAgIH0KICAgIC8qKgogICAgICogR2V0cyBvciBzZXRzIHRoZSBlbmQgcG9zaXRpb24gb3Igb2Zmc2V0IG9mIGEgdGV4dCBzZWxlY3Rpb24uCiAgICAgKi8KICAgIGdldCBzZWxlY3Rpb25FbmQoKSB7CiAgICAgIHJldHVybiB0aGlzLmdldElucHV0T3JUZXh0YXJlYSgpLnNlbGVjdGlvbkVuZDsKICAgIH0KICAgIHNldCBzZWxlY3Rpb25FbmQodmFsdWUpIHsKICAgICAgdGhpcy5nZXRJbnB1dE9yVGV4dGFyZWEoKS5zZWxlY3Rpb25FbmQgPSB2YWx1ZTsKICAgIH0KICAgIC8qKgogICAgICogR2V0cyBvciBzZXRzIHRoZSBzdGFydGluZyBwb3NpdGlvbiBvciBvZmZzZXQgb2YgYSB0ZXh0IHNlbGVjdGlvbi4KICAgICAqLwogICAgZ2V0IHNlbGVjdGlvblN0YXJ0KCkgewogICAgICByZXR1cm4gdGhpcy5nZXRJbnB1dE9yVGV4dGFyZWEoKS5zZWxlY3Rpb25TdGFydDsKICAgIH0KICAgIHNldCBzZWxlY3Rpb25TdGFydCh2YWx1ZSkgewogICAgICB0aGlzLmdldElucHV0T3JUZXh0YXJlYSgpLnNlbGVjdGlvblN0YXJ0ID0gdmFsdWU7CiAgICB9CiAgICAvKioKICAgICAqIFRoZSB0ZXh0IGZpZWxkJ3MgdmFsdWUgYXMgYSBudW1iZXIuCiAgICAgKi8KICAgIGdldCB2YWx1ZUFzTnVtYmVyKCkgewogICAgICBjb25zdCBpbnB1dCA9IHRoaXMuZ2V0SW5wdXQoKTsKICAgICAgaWYgKCFpbnB1dCkgewogICAgICAgIHJldHVybiBOYU47CiAgICAgIH0KICAgICAgcmV0dXJuIGlucHV0LnZhbHVlQXNOdW1iZXI7CiAgICB9CiAgICBzZXQgdmFsdWVBc051bWJlcih2YWx1ZSkgewogICAgICBjb25zdCBpbnB1dCA9IHRoaXMuZ2V0SW5wdXQoKTsKICAgICAgaWYgKCFpbnB1dCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpbnB1dC52YWx1ZUFzTnVtYmVyID0gdmFsdWU7CiAgICAgIHRoaXMudmFsdWUgPSBpbnB1dC52YWx1ZTsKICAgIH0KICAgIC8qKgogICAgICogVGhlIHRleHQgZmllbGQncyB2YWx1ZSBhcyBhIERhdGUuCiAgICAgKi8KICAgIGdldCB2YWx1ZUFzRGF0ZSgpIHsKICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmdldElucHV0KCk7CiAgICAgIGlmICghaW5wdXQpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICByZXR1cm4gaW5wdXQudmFsdWVBc0RhdGU7CiAgICB9CiAgICBzZXQgdmFsdWVBc0RhdGUodmFsdWUpIHsKICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmdldElucHV0KCk7CiAgICAgIGlmICghaW5wdXQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaW5wdXQudmFsdWVBc0RhdGUgPSB2YWx1ZTsKICAgICAgdGhpcy52YWx1ZSA9IGlucHV0LnZhbHVlOwogICAgfQogICAgZ2V0IGhhc0Vycm9yKCkgewogICAgICByZXR1cm4gdGhpcy5lcnJvciB8fCB0aGlzLm5hdGl2ZUVycm9yOwogICAgfQogICAgLyoqCiAgICAgKiBTZWxlY3RzIGFsbCB0aGUgdGV4dCBpbiB0aGUgdGV4dCBmaWVsZC4KICAgICAqCiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTElucHV0RWxlbWVudC9zZWxlY3QKICAgICAqLwogICAgc2VsZWN0KCkgewogICAgICB0aGlzLmdldElucHV0T3JUZXh0YXJlYSgpLnNlbGVjdCgpOwogICAgfQogICAgc2V0UmFuZ2VUZXh0KC4uLmFyZ3MpIHsKICAgICAgdGhpcy5nZXRJbnB1dE9yVGV4dGFyZWEoKS5zZXRSYW5nZVRleHQoLi4uYXJncyk7CiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmdldElucHV0T3JUZXh0YXJlYSgpLnZhbHVlOwogICAgfQogICAgLyoqCiAgICAgKiBTZXRzIHRoZSBzdGFydCBhbmQgZW5kIHBvc2l0aW9ucyBvZiBhIHNlbGVjdGlvbiBpbiB0aGUgdGV4dCBmaWVsZC4KICAgICAqCiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTElucHV0RWxlbWVudC9zZXRTZWxlY3Rpb25SYW5nZQogICAgICoKICAgICAqIEBwYXJhbSBzdGFydCBUaGUgb2Zmc2V0IGludG8gdGhlIHRleHQgZmllbGQgZm9yIHRoZSBzdGFydCBvZiB0aGUgc2VsZWN0aW9uLgogICAgICogQHBhcmFtIGVuZCBUaGUgb2Zmc2V0IGludG8gdGhlIHRleHQgZmllbGQgZm9yIHRoZSBlbmQgb2YgdGhlIHNlbGVjdGlvbi4KICAgICAqIEBwYXJhbSBkaXJlY3Rpb24gVGhlIGRpcmVjdGlvbiBpbiB3aGljaCB0aGUgc2VsZWN0aW9uIGlzIHBlcmZvcm1lZC4KICAgICAqLwogICAgc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIGVuZCwgZGlyZWN0aW9uKSB7CiAgICAgIHRoaXMuZ2V0SW5wdXRPclRleHRhcmVhKCkuc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIGVuZCwgZGlyZWN0aW9uKTsKICAgIH0KICAgIC8qKgogICAgICogU2hvd3MgdGhlIGJyb3dzZXIgcGlja2VyIGZvciBhbiBpbnB1dCBlbGVtZW50IG9mIHR5cGUgImRhdGUiLCAidGltZSIsIGV0Yy4KICAgICAqCiAgICAgKiBGb3IgYSBmdWxsIGxpc3Qgb2Ygc3VwcG9ydGVkIHR5cGVzLCBzZWU6CiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTElucHV0RWxlbWVudC9zaG93UGlja2VyI2Jyb3dzZXJfY29tcGF0aWJpbGl0eQogICAgICoKICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MSW5wdXRFbGVtZW50L3Nob3dQaWNrZXIKICAgICAqLwogICAgc2hvd1BpY2tlcigpIHsKICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmdldElucHV0KCk7CiAgICAgIGlmICghaW5wdXQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaW5wdXQuc2hvd1BpY2tlcigpOwogICAgfQogICAgLyoqCiAgICAgKiBEZWNyZW1lbnRzIHRoZSB2YWx1ZSBvZiBhIG51bWVyaWMgdHlwZSB0ZXh0IGZpZWxkIGJ5IGBzdGVwYCBvciBgbmAgYHN0ZXBgCiAgICAgKiBudW1iZXIgb2YgdGltZXMuCiAgICAgKgogICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxJbnB1dEVsZW1lbnQvc3RlcERvd24KICAgICAqCiAgICAgKiBAcGFyYW0gc3RlcERlY3JlbWVudCBUaGUgbnVtYmVyIG9mIHN0ZXBzIHRvIGRlY3JlbWVudCwgZGVmYXVsdHMgdG8gMS4KICAgICAqLwogICAgc3RlcERvd24oc3RlcERlY3JlbWVudCkgewogICAgICBjb25zdCBpbnB1dCA9IHRoaXMuZ2V0SW5wdXQoKTsKICAgICAgaWYgKCFpbnB1dCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpbnB1dC5zdGVwRG93bihzdGVwRGVjcmVtZW50KTsKICAgICAgdGhpcy52YWx1ZSA9IGlucHV0LnZhbHVlOwogICAgfQogICAgLyoqCiAgICAgKiBJbmNyZW1lbnRzIHRoZSB2YWx1ZSBvZiBhIG51bWVyaWMgdHlwZSB0ZXh0IGZpZWxkIGJ5IGBzdGVwYCBvciBgbmAgYHN0ZXBgCiAgICAgKiBudW1iZXIgb2YgdGltZXMuCiAgICAgKgogICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxJbnB1dEVsZW1lbnQvc3RlcFVwCiAgICAgKgogICAgICogQHBhcmFtIHN0ZXBJbmNyZW1lbnQgVGhlIG51bWJlciBvZiBzdGVwcyB0byBpbmNyZW1lbnQsIGRlZmF1bHRzIHRvIDEuCiAgICAgKi8KICAgIHN0ZXBVcChzdGVwSW5jcmVtZW50KSB7CiAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5nZXRJbnB1dCgpOwogICAgICBpZiAoIWlucHV0KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlucHV0LnN0ZXBVcChzdGVwSW5jcmVtZW50KTsKICAgICAgdGhpcy52YWx1ZSA9IGlucHV0LnZhbHVlOwogICAgfQogICAgLyoqCiAgICAgKiBSZXNldCB0aGUgdGV4dCBmaWVsZCB0byBpdHMgZGVmYXVsdCB2YWx1ZS4KICAgICAqLwogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTsKICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpID8/ICIiOwogICAgICB0aGlzLm5hdGl2ZUVycm9yID0gZmFsc2U7CiAgICAgIHRoaXMubmF0aXZlRXJyb3JUZXh0ID0gIiI7CiAgICB9CiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0cmlidXRlLCBuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgaWYgKGF0dHJpYnV0ZSA9PT0gInZhbHVlIiAmJiB0aGlzLmRpcnR5KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHN1cGVyLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyaWJ1dGUsIG5ld1ZhbHVlLCBvbGRWYWx1ZSk7CiAgICB9CiAgICByZW5kZXIoKSB7CiAgICAgIGNvbnN0IGNsYXNzZXMgPSB7CiAgICAgICAgImRpc2FibGVkIjogdGhpcy5kaXNhYmxlZCwKICAgICAgICAiZXJyb3IiOiAhdGhpcy5kaXNhYmxlZCAmJiB0aGlzLmhhc0Vycm9yLAogICAgICAgICJ0ZXh0YXJlYSI6IHRoaXMudHlwZSA9PT0gInRleHRhcmVhIiwKICAgICAgICAibm8tc3Bpbm5lciI6IHRoaXMubm9TcGlubmVyCiAgICAgIH07CiAgICAgIHJldHVybiB4YAogICAgICA8c3BhbiBjbGFzcz0idGV4dC1maWVsZCAke2U3KGNsYXNzZXMpfSI+CiAgICAgICAgJHt0aGlzLnJlbmRlckZpZWxkKCl9CiAgICAgIDwvc3Bhbj4KICAgIGA7CiAgICB9CiAgICB1cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKSB7CiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXRJbnB1dE9yVGV4dGFyZWEoKS52YWx1ZTsKICAgICAgaWYgKHRoaXMudmFsdWUgIT09IHZhbHVlKSB7CiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlOwogICAgICB9CiAgICB9CiAgICByZW5kZXJGaWVsZCgpIHsKICAgICAgcmV0dXJuIHUzYDwke3RoaXMuZmllbGRUYWd9CiAgICAgIGNsYXNzPSJmaWVsZCIKICAgICAgY291bnQ9JHt0aGlzLnZhbHVlLmxlbmd0aH0KICAgICAgP2Rpc2FibGVkPSR7dGhpcy5kaXNhYmxlZH0KICAgICAgP2Vycm9yPSR7dGhpcy5oYXNFcnJvcn0KICAgICAgZXJyb3ItdGV4dD0ke3RoaXMuZ2V0RXJyb3JUZXh0KCl9CiAgICAgID9mb2N1c2VkPSR7dGhpcy5mb2N1c2VkfQogICAgICA/aGFzLWVuZD0ke3RoaXMuaGFzVHJhaWxpbmdJY29ufQogICAgICA/aGFzLXN0YXJ0PSR7dGhpcy5oYXNMZWFkaW5nSWNvbn0KICAgICAgbGFiZWw9JHt0aGlzLmxhYmVsfQogICAgICA/bm8tYXN0ZXJpc2s9JHt0aGlzLm5vQXN0ZXJpc2t9CiAgICAgIG1heD0ke3RoaXMubWF4TGVuZ3RofQogICAgICA/cG9wdWxhdGVkPSR7ISF0aGlzLnZhbHVlfQogICAgICA/cmVxdWlyZWQ9JHt0aGlzLnJlcXVpcmVkfQogICAgICA/cmVzaXphYmxlPSR7dGhpcy50eXBlID09PSAidGV4dGFyZWEifQogICAgICBzdXBwb3J0aW5nLXRleHQ9JHt0aGlzLnN1cHBvcnRpbmdUZXh0fQogICAgPgogICAgICAke3RoaXMucmVuZGVyTGVhZGluZ0ljb24oKX0KICAgICAgJHt0aGlzLnJlbmRlcklucHV0T3JUZXh0YXJlYSgpfQogICAgICAke3RoaXMucmVuZGVyVHJhaWxpbmdJY29uKCl9CiAgICAgIDxkaXYgaWQ9ImRlc2NyaXB0aW9uIiBzbG90PSJhcmlhLWRlc2NyaWJlZGJ5Ij48L2Rpdj4KICAgICAgPHNsb3QgbmFtZT0iY29udGFpbmVyIiBzbG90PSJjb250YWluZXIiPjwvc2xvdD4KICAgIDwvJHt0aGlzLmZpZWxkVGFnfT5gOwogICAgfQogICAgcmVuZGVyTGVhZGluZ0ljb24oKSB7CiAgICAgIHJldHVybiB4YAogICAgICA8c3BhbiBjbGFzcz0iaWNvbiBsZWFkaW5nIiBzbG90PSJzdGFydCI+CiAgICAgICAgPHNsb3QgbmFtZT0ibGVhZGluZy1pY29uIiBAc2xvdGNoYW5nZT0ke3RoaXMuaGFuZGxlSWNvbkNoYW5nZX0+PC9zbG90PgogICAgICA8L3NwYW4+CiAgICBgOwogICAgfQogICAgcmVuZGVyVHJhaWxpbmdJY29uKCkgewogICAgICByZXR1cm4geGAKICAgICAgPHNwYW4gY2xhc3M9Imljb24gdHJhaWxpbmciIHNsb3Q9ImVuZCI+CiAgICAgICAgPHNsb3QgbmFtZT0idHJhaWxpbmctaWNvbiIgQHNsb3RjaGFuZ2U9JHt0aGlzLmhhbmRsZUljb25DaGFuZ2V9Pjwvc2xvdD4KICAgICAgPC9zcGFuPgogICAgYDsKICAgIH0KICAgIHJlbmRlcklucHV0T3JUZXh0YXJlYSgpIHsKICAgICAgY29uc3Qgc3R5bGUgPSB7ICJkaXJlY3Rpb24iOiB0aGlzLnRleHREaXJlY3Rpb24gfTsKICAgICAgY29uc3QgYXJpYUxhYmVsID0gdGhpcy5hcmlhTGFiZWwgfHwgdGhpcy5sYWJlbCB8fCBFOwogICAgICBjb25zdCBhdXRvY29tcGxldGUgPSB0aGlzLmF1dG9jb21wbGV0ZTsKICAgICAgY29uc3QgaGFzTWF4TGVuZ3RoID0gKHRoaXMubWF4TGVuZ3RoID8/IC0xKSA+IC0xOwogICAgICBjb25zdCBoYXNNaW5MZW5ndGggPSAodGhpcy5taW5MZW5ndGggPz8gLTEpID4gLTE7CiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICJ0ZXh0YXJlYSIpIHsKICAgICAgICByZXR1cm4geGAKICAgICAgICA8dGV4dGFyZWEKICAgICAgICAgIGNsYXNzPSJpbnB1dCIKICAgICAgICAgIHN0eWxlPSR7bzkoc3R5bGUpfQogICAgICAgICAgYXJpYS1kZXNjcmliZWRieT0iZGVzY3JpcHRpb24iCiAgICAgICAgICBhcmlhLWludmFsaWQ9JHt0aGlzLmhhc0Vycm9yfQogICAgICAgICAgYXJpYS1sYWJlbD0ke2FyaWFMYWJlbH0KICAgICAgICAgIGF1dG9jb21wbGV0ZT0ke2F1dG9jb21wbGV0ZSB8fCBFfQogICAgICAgICAgbmFtZT0ke3RoaXMubmFtZSB8fCBFfQogICAgICAgICAgP2Rpc2FibGVkPSR7dGhpcy5kaXNhYmxlZH0KICAgICAgICAgIG1heGxlbmd0aD0ke2hhc01heExlbmd0aCA/IHRoaXMubWF4TGVuZ3RoIDogRX0KICAgICAgICAgIG1pbmxlbmd0aD0ke2hhc01pbkxlbmd0aCA/IHRoaXMubWluTGVuZ3RoIDogRX0KICAgICAgICAgIHBsYWNlaG9sZGVyPSR7dGhpcy5wbGFjZWhvbGRlciB8fCBFfQogICAgICAgICAgP3JlYWRvbmx5PSR7dGhpcy5yZWFkT25seX0KICAgICAgICAgID9yZXF1aXJlZD0ke3RoaXMucmVxdWlyZWR9CiAgICAgICAgICByb3dzPSR7dGhpcy5yb3dzfQogICAgICAgICAgY29scz0ke3RoaXMuY29sc30KICAgICAgICAgIC52YWx1ZT0ke2w0KHRoaXMudmFsdWUpfQogICAgICAgICAgQGNoYW5nZT0ke3RoaXMucmVkaXNwYXRjaEV2ZW50fQogICAgICAgICAgQGZvY3VzPSR7dGhpcy5oYW5kbGVGb2N1c0NoYW5nZX0KICAgICAgICAgIEBibHVyPSR7dGhpcy5oYW5kbGVGb2N1c0NoYW5nZX0KICAgICAgICAgIEBpbnB1dD0ke3RoaXMuaGFuZGxlSW5wdXR9CiAgICAgICAgICBAc2VsZWN0PSR7dGhpcy5yZWRpc3BhdGNoRXZlbnR9PjwvdGV4dGFyZWE+CiAgICAgIGA7CiAgICAgIH0KICAgICAgY29uc3QgcHJlZml4ID0gdGhpcy5yZW5kZXJQcmVmaXgoKTsKICAgICAgY29uc3Qgc3VmZml4ID0gdGhpcy5yZW5kZXJTdWZmaXgoKTsKICAgICAgY29uc3QgaW5wdXRNb2RlID0gdGhpcy5pbnB1dE1vZGU7CiAgICAgIHJldHVybiB4YAogICAgICA8ZGl2IGNsYXNzPSJpbnB1dC13cmFwcGVyIj4KICAgICAgICAke3ByZWZpeH0KICAgICAgICA8aW5wdXQKICAgICAgICAgIGNsYXNzPSJpbnB1dCIKICAgICAgICAgIHN0eWxlPSR7bzkoc3R5bGUpfQogICAgICAgICAgYXJpYS1kZXNjcmliZWRieT0iZGVzY3JpcHRpb24iCiAgICAgICAgICBhcmlhLWludmFsaWQ9JHt0aGlzLmhhc0Vycm9yfQogICAgICAgICAgYXJpYS1sYWJlbD0ke2FyaWFMYWJlbH0KICAgICAgICAgIGF1dG9jb21wbGV0ZT0ke2F1dG9jb21wbGV0ZSB8fCBFfQogICAgICAgICAgbmFtZT0ke3RoaXMubmFtZSB8fCBFfQogICAgICAgICAgP2Rpc2FibGVkPSR7dGhpcy5kaXNhYmxlZH0KICAgICAgICAgIGlucHV0bW9kZT0ke2lucHV0TW9kZSB8fCBFfQogICAgICAgICAgbWF4PSR7dGhpcy5tYXggfHwgRX0KICAgICAgICAgIG1heGxlbmd0aD0ke2hhc01heExlbmd0aCA/IHRoaXMubWF4TGVuZ3RoIDogRX0KICAgICAgICAgIG1pbj0ke3RoaXMubWluIHx8IEV9CiAgICAgICAgICBtaW5sZW5ndGg9JHtoYXNNaW5MZW5ndGggPyB0aGlzLm1pbkxlbmd0aCA6IEV9CiAgICAgICAgICBwYXR0ZXJuPSR7dGhpcy5wYXR0ZXJuIHx8IEV9CiAgICAgICAgICBwbGFjZWhvbGRlcj0ke3RoaXMucGxhY2Vob2xkZXIgfHwgRX0KICAgICAgICAgID9yZWFkb25seT0ke3RoaXMucmVhZE9ubHl9CiAgICAgICAgICA/cmVxdWlyZWQ9JHt0aGlzLnJlcXVpcmVkfQogICAgICAgICAgP211bHRpcGxlPSR7dGhpcy5tdWx0aXBsZX0KICAgICAgICAgIHN0ZXA9JHt0aGlzLnN0ZXAgfHwgRX0KICAgICAgICAgIHR5cGU9JHt0aGlzLnR5cGV9CiAgICAgICAgICAudmFsdWU9JHtsNCh0aGlzLnZhbHVlKX0KICAgICAgICAgIEBjaGFuZ2U9JHt0aGlzLnJlZGlzcGF0Y2hFdmVudH0KICAgICAgICAgIEBmb2N1cz0ke3RoaXMuaGFuZGxlRm9jdXNDaGFuZ2V9CiAgICAgICAgICBAYmx1cj0ke3RoaXMuaGFuZGxlRm9jdXNDaGFuZ2V9CiAgICAgICAgICBAaW5wdXQ9JHt0aGlzLmhhbmRsZUlucHV0fQogICAgICAgICAgQHNlbGVjdD0ke3RoaXMucmVkaXNwYXRjaEV2ZW50fSAvPgogICAgICAgICR7c3VmZml4fQogICAgICA8L2Rpdj4KICAgIGA7CiAgICB9CiAgICByZW5kZXJQcmVmaXgoKSB7CiAgICAgIHJldHVybiB0aGlzLnJlbmRlckFmZml4KAogICAgICAgIHRoaXMucHJlZml4VGV4dCwKICAgICAgICAvKiBpc1N1ZmZpeCAqLwogICAgICAgIGZhbHNlCiAgICAgICk7CiAgICB9CiAgICByZW5kZXJTdWZmaXgoKSB7CiAgICAgIHJldHVybiB0aGlzLnJlbmRlckFmZml4KAogICAgICAgIHRoaXMuc3VmZml4VGV4dCwKICAgICAgICAvKiBpc1N1ZmZpeCAqLwogICAgICAgIHRydWUKICAgICAgKTsKICAgIH0KICAgIHJlbmRlckFmZml4KHRleHQsIGlzU3VmZml4KSB7CiAgICAgIGlmICghdGV4dCkgewogICAgICAgIHJldHVybiBFOwogICAgICB9CiAgICAgIGNvbnN0IGNsYXNzZXMgPSB7CiAgICAgICAgInN1ZmZpeCI6IGlzU3VmZml4LAogICAgICAgICJwcmVmaXgiOiAhaXNTdWZmaXgKICAgICAgfTsKICAgICAgcmV0dXJuIHhgPHNwYW4gY2xhc3M9IiR7ZTcoY2xhc3Nlcyl9Ij4ke3RleHR9PC9zcGFuPmA7CiAgICB9CiAgICBnZXRFcnJvclRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLmVycm9yID8gdGhpcy5lcnJvclRleHQgOiB0aGlzLm5hdGl2ZUVycm9yVGV4dDsKICAgIH0KICAgIGhhbmRsZUZvY3VzQ2hhbmdlKCkgewogICAgICB0aGlzLmZvY3VzZWQgPSB0aGlzLmlucHV0T3JUZXh0YXJlYT8ubWF0Y2hlcygiOmZvY3VzIikgPz8gZmFsc2U7CiAgICB9CiAgICBoYW5kbGVJbnB1dChldmVudCkgewogICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTsKICAgICAgdGhpcy52YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgIH0KICAgIHJlZGlzcGF0Y2hFdmVudChldmVudCkgewogICAgICByZWRpc3BhdGNoRXZlbnQodGhpcywgZXZlbnQpOwogICAgfQogICAgZ2V0SW5wdXRPclRleHRhcmVhKCkgewogICAgICBpZiAoIXRoaXMuaW5wdXRPclRleHRhcmVhKSB7CiAgICAgICAgdGhpcy5jb25uZWN0ZWRDYWxsYmFjaygpOwogICAgICAgIHRoaXMuc2NoZWR1bGVVcGRhdGUoKTsKICAgICAgfQogICAgICBpZiAodGhpcy5pc1VwZGF0ZVBlbmRpbmcpIHsKICAgICAgICB0aGlzLnNjaGVkdWxlVXBkYXRlKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuaW5wdXRPclRleHRhcmVhOwogICAgfQogICAgZ2V0SW5wdXQoKSB7CiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICJ0ZXh0YXJlYSIpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5nZXRJbnB1dE9yVGV4dGFyZWEoKTsKICAgIH0KICAgIGhhbmRsZUljb25DaGFuZ2UoKSB7CiAgICAgIHRoaXMuaGFzTGVhZGluZ0ljb24gPSB0aGlzLmxlYWRpbmdJY29ucy5sZW5ndGggPiAwOwogICAgICB0aGlzLmhhc1RyYWlsaW5nSWNvbiA9IHRoaXMudHJhaWxpbmdJY29ucy5sZW5ndGggPiAwOwogICAgfQogICAgW2dldEZvcm1WYWx1ZV0oKSB7CiAgICAgIHJldHVybiB0aGlzLnZhbHVlOwogICAgfQogICAgZm9ybVJlc2V0Q2FsbGJhY2soKSB7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgIH0KICAgIGZvcm1TdGF0ZVJlc3RvcmVDYWxsYmFjayhzdGF0ZSkgewogICAgICB0aGlzLnZhbHVlID0gc3RhdGU7CiAgICB9CiAgICBmb2N1cygpIHsKICAgICAgdGhpcy5nZXRJbnB1dE9yVGV4dGFyZWEoKS5mb2N1cygpOwogICAgfQogICAgW2NyZWF0ZVZhbGlkYXRvcl0oKSB7CiAgICAgIHJldHVybiBuZXcgVGV4dEZpZWxkVmFsaWRhdG9yKCgpID0+ICh7CiAgICAgICAgc3RhdGU6IHRoaXMsCiAgICAgICAgcmVuZGVyZWRDb250cm9sOiB0aGlzLmlucHV0T3JUZXh0YXJlYQogICAgICB9KSk7CiAgICB9CiAgICBbZ2V0VmFsaWRpdHlBbmNob3JdKCkgewogICAgICByZXR1cm4gdGhpcy5pbnB1dE9yVGV4dGFyZWE7CiAgICB9CiAgICBbb25SZXBvcnRWYWxpZGl0eV0oaW52YWxpZEV2ZW50KSB7CiAgICAgIGludmFsaWRFdmVudD8ucHJldmVudERlZmF1bHQoKTsKICAgICAgY29uc3QgcHJldk1lc3NhZ2UgPSB0aGlzLmdldEVycm9yVGV4dCgpOwogICAgICB0aGlzLm5hdGl2ZUVycm9yID0gISFpbnZhbGlkRXZlbnQ7CiAgICAgIHRoaXMubmF0aXZlRXJyb3JUZXh0ID0gdGhpcy52YWxpZGF0aW9uTWVzc2FnZTsKICAgICAgaWYgKHByZXZNZXNzYWdlID09PSB0aGlzLmdldEVycm9yVGV4dCgpKSB7CiAgICAgICAgdGhpcy5maWVsZD8ucmVhbm5vdW5jZUVycm9yKCk7CiAgICAgIH0KICAgIH0KICB9OwogIFRleHRGaWVsZC5zaGFkb3dSb290T3B0aW9ucyA9IHsKICAgIC4uLmk0LnNoYWRvd1Jvb3RPcHRpb25zLAogICAgZGVsZWdhdGVzRm9jdXM6IHRydWUKICB9OwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pCiAgXSwgVGV4dEZpZWxkLnByb3RvdHlwZSwgImVycm9yIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgYXR0cmlidXRlOiAiZXJyb3ItdGV4dCIgfSkKICBdLCBUZXh0RmllbGQucHJvdG90eXBlLCAiZXJyb3JUZXh0Iiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKCkKICBdLCBUZXh0RmllbGQucHJvdG90eXBlLCAibGFiZWwiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBCb29sZWFuLCBhdHRyaWJ1dGU6ICJuby1hc3RlcmlzayIgfSkKICBdLCBUZXh0RmllbGQucHJvdG90eXBlLCAibm9Bc3RlcmlzayIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSkKICBdLCBUZXh0RmllbGQucHJvdG90eXBlLCAicmVxdWlyZWQiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoKQogIF0sIFRleHRGaWVsZC5wcm90b3R5cGUsICJ2YWx1ZSIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IGF0dHJpYnV0ZTogInByZWZpeC10ZXh0IiB9KQogIF0sIFRleHRGaWVsZC5wcm90b3R5cGUsICJwcmVmaXhUZXh0Iiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgYXR0cmlidXRlOiAic3VmZml4LXRleHQiIH0pCiAgXSwgVGV4dEZpZWxkLnByb3RvdHlwZSwgInN1ZmZpeFRleHQiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBCb29sZWFuLCBhdHRyaWJ1dGU6ICJoYXMtbGVhZGluZy1pY29uIiB9KQogIF0sIFRleHRGaWVsZC5wcm90b3R5cGUsICJoYXNMZWFkaW5nSWNvbiIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogImhhcy10cmFpbGluZy1pY29uIiB9KQogIF0sIFRleHRGaWVsZC5wcm90b3R5cGUsICJoYXNUcmFpbGluZ0ljb24iLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyBhdHRyaWJ1dGU6ICJzdXBwb3J0aW5nLXRleHQiIH0pCiAgXSwgVGV4dEZpZWxkLnByb3RvdHlwZSwgInN1cHBvcnRpbmdUZXh0Iiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgYXR0cmlidXRlOiAidGV4dC1kaXJlY3Rpb24iIH0pCiAgXSwgVGV4dEZpZWxkLnByb3RvdHlwZSwgInRleHREaXJlY3Rpb24iLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBOdW1iZXIgfSkKICBdLCBUZXh0RmllbGQucHJvdG90eXBlLCAicm93cyIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHR5cGU6IE51bWJlciB9KQogIF0sIFRleHRGaWVsZC5wcm90b3R5cGUsICJjb2xzIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgcmVmbGVjdDogdHJ1ZSB9KQogIF0sIFRleHRGaWVsZC5wcm90b3R5cGUsICJpbnB1dE1vZGUiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoKQogIF0sIFRleHRGaWVsZC5wcm90b3R5cGUsICJtYXgiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBOdW1iZXIgfSkKICBdLCBUZXh0RmllbGQucHJvdG90eXBlLCAibWF4TGVuZ3RoIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKCkKICBdLCBUZXh0RmllbGQucHJvdG90eXBlLCAibWluIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgdHlwZTogTnVtYmVyIH0pCiAgXSwgVGV4dEZpZWxkLnByb3RvdHlwZSwgIm1pbkxlbmd0aCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogIm5vLXNwaW5uZXIiIH0pCiAgXSwgVGV4dEZpZWxkLnByb3RvdHlwZSwgIm5vU3Bpbm5lciIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMygpCiAgXSwgVGV4dEZpZWxkLnByb3RvdHlwZSwgInBhdHRlcm4iLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyByZWZsZWN0OiB0cnVlLCBjb252ZXJ0ZXI6IHN0cmluZ0NvbnZlcnRlciB9KQogIF0sIFRleHRGaWVsZC5wcm90b3R5cGUsICJwbGFjZWhvbGRlciIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSkKICBdLCBUZXh0RmllbGQucHJvdG90eXBlLCAicmVhZE9ubHkiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pCiAgXSwgVGV4dEZpZWxkLnByb3RvdHlwZSwgIm11bHRpcGxlIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKCkKICBdLCBUZXh0RmllbGQucHJvdG90eXBlLCAic3RlcCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHJlZmxlY3Q6IHRydWUgfSkKICBdLCBUZXh0RmllbGQucHJvdG90eXBlLCAidHlwZSIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHJlZmxlY3Q6IHRydWUgfSkKICBdLCBUZXh0RmllbGQucHJvdG90eXBlLCAiYXV0b2NvbXBsZXRlIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIHI0KCkKICBdLCBUZXh0RmllbGQucHJvdG90eXBlLCAiZGlydHkiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgcjQoKQogIF0sIFRleHRGaWVsZC5wcm90b3R5cGUsICJmb2N1c2VkIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIHI0KCkKICBdLCBUZXh0RmllbGQucHJvdG90eXBlLCAibmF0aXZlRXJyb3IiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgcjQoKQogIF0sIFRleHRGaWVsZC5wcm90b3R5cGUsICJuYXRpdmVFcnJvclRleHQiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgZTQoIi5pbnB1dCIpCiAgXSwgVGV4dEZpZWxkLnByb3RvdHlwZSwgImlucHV0T3JUZXh0YXJlYSIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBlNCgiLmZpZWxkIikKICBdLCBUZXh0RmllbGQucHJvdG90eXBlLCAiZmllbGQiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbzQoeyBzbG90OiAibGVhZGluZy1pY29uIiB9KQogIF0sIFRleHRGaWVsZC5wcm90b3R5cGUsICJsZWFkaW5nSWNvbnMiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbzQoeyBzbG90OiAidHJhaWxpbmctaWNvbiIgfSkKICBdLCBUZXh0RmllbGQucHJvdG90eXBlLCAidHJhaWxpbmdJY29ucyIsIHZvaWQgMCk7CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL3RleHRmaWVsZC9pbnRlcm5hbC9vdXRsaW5lZC10ZXh0LWZpZWxkLmpzCiAgdmFyIE91dGxpbmVkVGV4dEZpZWxkID0gY2xhc3MgZXh0ZW5kcyBUZXh0RmllbGQgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7CiAgICAgIHRoaXMuZmllbGRUYWcgPSBpNmBtZC1vdXRsaW5lZC1maWVsZGA7CiAgICB9CiAgfTsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvdGV4dGZpZWxkL2ludGVybmFsL3NoYXJlZC1zdHlsZXMuanMKICB2YXIgc3R5bGVzMTIgPSBpYDpob3N0e2Rpc3BsYXk6aW5saW5lLWZsZXg7b3V0bGluZTpub25lO3Jlc2l6ZTpib3RoO3RleHQtYWxpZ246c3RhcnQ7LXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOnJnYmEoMCwwLDAsMCl9LnRleHQtZmllbGQsLmZpZWxke3dpZHRoOjEwMCV9LnRleHQtZmllbGR7ZGlzcGxheTppbmxpbmUtZmxleH0uZmllbGR7Y3Vyc29yOnRleHR9LmRpc2FibGVkIC5maWVsZHtjdXJzb3I6ZGVmYXVsdH0udGV4dC1maWVsZCwudGV4dGFyZWEgLmZpZWxke3Jlc2l6ZTppbmhlcml0fXNsb3RbbmFtZT1jb250YWluZXJde2JvcmRlci1yYWRpdXM6aW5oZXJpdH0uaWNvbntjb2xvcjpjdXJyZW50Q29sb3I7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2ZpbGw6Y3VycmVudENvbG9yO3Bvc2l0aW9uOnJlbGF0aXZlfS5pY29uIDo6c2xvdHRlZCgqKXtkaXNwbGF5OmZsZXg7cG9zaXRpb246YWJzb2x1dGV9W2hhcy1zdGFydF0gLmljb24ubGVhZGluZ3tmb250LXNpemU6dmFyKC0tX2xlYWRpbmctaWNvbi1zaXplKTtoZWlnaHQ6dmFyKC0tX2xlYWRpbmctaWNvbi1zaXplKTt3aWR0aDp2YXIoLS1fbGVhZGluZy1pY29uLXNpemUpfVtoYXMtZW5kXSAuaWNvbi50cmFpbGluZ3tmb250LXNpemU6dmFyKC0tX3RyYWlsaW5nLWljb24tc2l6ZSk7aGVpZ2h0OnZhcigtLV90cmFpbGluZy1pY29uLXNpemUpO3dpZHRoOnZhcigtLV90cmFpbGluZy1pY29uLXNpemUpfS5pbnB1dC13cmFwcGVye2Rpc3BsYXk6ZmxleH0uaW5wdXQtd3JhcHBlcj4qe2FsbDppbmhlcml0O3BhZGRpbmc6MH0uaW5wdXR7Y2FyZXQtY29sb3I6dmFyKC0tX2NhcmV0LWNvbG9yKTtvdmVyZmxvdy14OmhpZGRlbjt0ZXh0LWFsaWduOmluaGVyaXR9LmlucHV0OjpwbGFjZWhvbGRlcntjb2xvcjpjdXJyZW50Q29sb3I7b3BhY2l0eToxfS5pbnB1dDo6LXdlYmtpdC1jYWxlbmRhci1waWNrZXItaW5kaWNhdG9ye2Rpc3BsYXk6bm9uZX0uaW5wdXQ6Oi13ZWJraXQtc2VhcmNoLWRlY29yYXRpb24sLmlucHV0Ojotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9ue2Rpc3BsYXk6bm9uZX1AbWVkaWEoZm9yY2VkLWNvbG9yczogYWN0aXZlKXsuaW5wdXR7YmFja2dyb3VuZDpub25lfX0ubm8tc3Bpbm5lciAuaW5wdXQ6Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24sLm5vLXNwaW5uZXIgLmlucHV0Ojotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9ue2Rpc3BsYXk6bm9uZX0ubm8tc3Bpbm5lciAuaW5wdXRbdHlwZT1udW1iZXJdey1tb3otYXBwZWFyYW5jZTp0ZXh0ZmllbGR9OmZvY3VzLXdpdGhpbiAuaW5wdXR7Y2FyZXQtY29sb3I6dmFyKC0tX2ZvY3VzLWNhcmV0LWNvbG9yKX0uZXJyb3I6Zm9jdXMtd2l0aGluIC5pbnB1dHtjYXJldC1jb2xvcjp2YXIoLS1fZXJyb3ItZm9jdXMtY2FyZXQtY29sb3IpfS50ZXh0LWZpZWxkOm5vdCguZGlzYWJsZWQpIC5wcmVmaXh7Y29sb3I6dmFyKC0tX2lucHV0LXRleHQtcHJlZml4LWNvbG9yKX0udGV4dC1maWVsZDpub3QoLmRpc2FibGVkKSAuc3VmZml4e2NvbG9yOnZhcigtLV9pbnB1dC10ZXh0LXN1ZmZpeC1jb2xvcil9LnRleHQtZmllbGQ6bm90KC5kaXNhYmxlZCkgLmlucHV0OjpwbGFjZWhvbGRlcntjb2xvcjp2YXIoLS1faW5wdXQtdGV4dC1wbGFjZWhvbGRlci1jb2xvcil9LnByZWZpeCwuc3VmZml4e3RleHQtd3JhcDpub3dyYXA7d2lkdGg6bWluLWNvbnRlbnR9LnByZWZpeHtwYWRkaW5nLWlubGluZS1lbmQ6dmFyKC0tX2lucHV0LXRleHQtcHJlZml4LXRyYWlsaW5nLXNwYWNlKX0uc3VmZml4e3BhZGRpbmctaW5saW5lLXN0YXJ0OnZhcigtLV9pbnB1dC10ZXh0LXN1ZmZpeC1sZWFkaW5nLXNwYWNlKX0KYDsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvdGV4dGZpZWxkL291dGxpbmVkLXRleHQtZmllbGQuanMKICB2YXIgTWRPdXRsaW5lZFRleHRGaWVsZCA9IGNsYXNzIE1kT3V0bGluZWRUZXh0RmllbGQyIGV4dGVuZHMgT3V0bGluZWRUZXh0RmllbGQgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7CiAgICAgIHRoaXMuZmllbGRUYWcgPSBpNmBtZC1vdXRsaW5lZC1maWVsZGA7CiAgICB9CiAgfTsKICBNZE91dGxpbmVkVGV4dEZpZWxkLnN0eWxlcyA9IFtzdHlsZXMxMiwgc3R5bGVzMTFdOwogIE1kT3V0bGluZWRUZXh0RmllbGQgPSBfX2RlY29yYXRlKFsKICAgIHQoIm1kLW91dGxpbmVkLXRleHQtZmllbGQiKQogIF0sIE1kT3V0bGluZWRUZXh0RmllbGQpOwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9zbGlkZXIvaW50ZXJuYWwvZm9yY2VkLWNvbG9ycy1zdHlsZXMuanMKICB2YXIgc3R5bGVzMTMgPSBpYEBtZWRpYShmb3JjZWQtY29sb3JzOiBhY3RpdmUpezpob3N0ey0tbWQtc2xpZGVyLWFjdGl2ZS10cmFjay1jb2xvcjogQ2FudmFzVGV4dDstLW1kLXNsaWRlci1kaXNhYmxlZC1hY3RpdmUtdHJhY2stY29sb3I6IEdyYXlUZXh0Oy0tbWQtc2xpZGVyLWRpc2FibGVkLWFjdGl2ZS10cmFjay1vcGFjaXR5OiAxOy0tbWQtc2xpZGVyLWRpc2FibGVkLWhhbmRsZS1jb2xvcjogR3JheVRleHQ7LS1tZC1zbGlkZXItZGlzYWJsZWQtaW5hY3RpdmUtdHJhY2stY29sb3I6IEdyYXlUZXh0Oy0tbWQtc2xpZGVyLWRpc2FibGVkLWluYWN0aXZlLXRyYWNrLW9wYWNpdHk6IDE7LS1tZC1zbGlkZXItZm9jdXMtaGFuZGxlLWNvbG9yOiBDYW52YXNUZXh0Oy0tbWQtc2xpZGVyLWhhbmRsZS1jb2xvcjogQ2FudmFzVGV4dDstLW1kLXNsaWRlci1oYW5kbGUtc2hhZG93LWNvbG9yOiBDYW52YXM7LS1tZC1zbGlkZXItaG92ZXItaGFuZGxlLWNvbG9yOiBDYW52YXNUZXh0Oy0tbWQtc2xpZGVyLWhvdmVyLXN0YXRlLWxheWVyLWNvbG9yOiBDYW52YXM7LS1tZC1zbGlkZXItaG92ZXItc3RhdGUtbGF5ZXItb3BhY2l0eTogMTstLW1kLXNsaWRlci1pbmFjdGl2ZS10cmFjay1jb2xvcjogQ2FudmFzOy0tbWQtc2xpZGVyLWxhYmVsLWNvbnRhaW5lci1jb2xvcjogQ2FudmFzOy0tbWQtc2xpZGVyLWxhYmVsLXRleHQtY29sb3I6IENhbnZhc1RleHQ7LS1tZC1zbGlkZXItcHJlc3NlZC1oYW5kbGUtY29sb3I6IENhbnZhc1RleHQ7LS1tZC1zbGlkZXItcHJlc3NlZC1zdGF0ZS1sYXllci1jb2xvcjogQ2FudmFzOy0tbWQtc2xpZGVyLXByZXNzZWQtc3RhdGUtbGF5ZXItb3BhY2l0eTogMTstLW1kLXNsaWRlci13aXRoLW92ZXJsYXAtaGFuZGxlLW91dGxpbmUtY29sb3I6IENhbnZhc1RleHR9LmxhYmVsLC5sYWJlbDo6YmVmb3Jle2JvcmRlcjp2YXIoLS1fd2l0aC1vdmVybGFwLWhhbmRsZS1vdXRsaW5lLWNvbG9yKSBzb2xpZCB2YXIoLS1fd2l0aC1vdmVybGFwLWhhbmRsZS1vdXRsaW5lLXdpZHRoKX06aG9zdCg6bm90KFtkaXNhYmxlZF0pKSAudHJhY2s6OmJlZm9yZXtib3JkZXI6MXB4IHNvbGlkIHZhcigtLV9hY3RpdmUtdHJhY2stY29sb3IpfS50aWNrbWFya3M6OmJlZm9yZXtiYWNrZ3JvdW5kLWltYWdlOnVybCgiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9J0NhbnZhc1RleHQnJTNFJTNDY2lyY2xlIGN4PScyJyBjeT0nMicgIHI9JzEnLyUzRSUzQy9zdmclM0UiKX0udGlja21hcmtzOjphZnRlcntiYWNrZ3JvdW5kLWltYWdlOnVybCgiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9J0NhbnZhcyclM0UlM0NjaXJjbGUgY3g9JzInIGN5PScyJyByPScxJy8lM0UlM0Mvc3ZnJTNFIil9Omhvc3QoW2Rpc2FibGVkXSkgLnRpY2ttYXJrczo6YmVmb3Jle2JhY2tncm91bmQtaW1hZ2U6dXJsKCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nQ2FudmFzJyUzRSUzQ2NpcmNsZSBjeD0nMicgY3k9JzInICByPScxJy8lM0UlM0Mvc3ZnJTNFIil9fQpgOwoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vbGl0LWh0bWxAMy4zLjAvbm9kZV9tb2R1bGVzL2xpdC1odG1sL2RpcmVjdGl2ZXMvd2hlbi5qcwogIGZ1bmN0aW9uIG43KG44LCByNywgdDYpIHsKICAgIHJldHVybiBuOCA/IHI3KG44KSA6IHQ2Py4objgpOwogIH0KCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvc2xpZGVyL2ludGVybmFsL3NsaWRlci5qcwogIHZhciBzbGlkZXJCYXNlQ2xhc3MgPSBtaXhpbkRlbGVnYXRlc0FyaWEobWl4aW5Gb3JtQXNzb2NpYXRlZChtaXhpbkVsZW1lbnRJbnRlcm5hbHMoaTQpKSk7CiAgdmFyIFNsaWRlciA9IGNsYXNzIGV4dGVuZHMgc2xpZGVyQmFzZUNsYXNzIHsKICAgIC8qKgogICAgICogVGhlIEhUTUwgbmFtZSB0byB1c2UgaW4gZm9ybSBzdWJtaXNzaW9uIGZvciBhIHJhbmdlIHNsaWRlcidzIHN0YXJ0aW5nCiAgICAgKiB2YWx1ZS4gVXNlIGBuYW1lYCBpbnN0ZWFkIGlmIGJvdGggdGhlIHN0YXJ0IGFuZCBlbmQgdmFsdWVzIHNob3VsZCB1c2UgdGhlCiAgICAgKiBzYW1lIG5hbWUuCiAgICAgKi8KICAgIGdldCBuYW1lU3RhcnQoKSB7CiAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgibmFtZS1zdGFydCIpID8/IHRoaXMubmFtZTsKICAgIH0KICAgIHNldCBuYW1lU3RhcnQobmFtZSkgewogICAgICB0aGlzLnNldEF0dHJpYnV0ZSgibmFtZS1zdGFydCIsIG5hbWUpOwogICAgfQogICAgLyoqCiAgICAgKiBUaGUgSFRNTCBuYW1lIHRvIHVzZSBpbiBmb3JtIHN1Ym1pc3Npb24gZm9yIGEgcmFuZ2Ugc2xpZGVyJ3MgZW5kaW5nIHZhbHVlLgogICAgICogVXNlIGBuYW1lYCBpbnN0ZWFkIGlmIGJvdGggdGhlIHN0YXJ0IGFuZCBlbmQgdmFsdWVzIHNob3VsZCB1c2UgdGhlIHNhbWUKICAgICAqIG5hbWUuCiAgICAgKi8KICAgIGdldCBuYW1lRW5kKCkgewogICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoIm5hbWUtZW5kIikgPz8gdGhpcy5uYW1lU3RhcnQ7CiAgICB9CiAgICBzZXQgbmFtZUVuZChuYW1lKSB7CiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCJuYW1lLWVuZCIsIG5hbWUpOwogICAgfQogICAgLy8gTm90ZTogc3RhcnQgYXJpYS0qIHByb3BlcnRpZXMgYXJlIG9ubHkgYXBwbGllZCB3aGVuIHJhbmdlPXRydWUsIHdoaWNoIGlzCiAgICAvLyB3aHkgdGhleSBkbyBub3QgbmVlZCB0byBoYW5kbGUgYm90aCBjYXNlcy4KICAgIGdldCByZW5kZXJBcmlhTGFiZWxTdGFydCgpIHsKICAgICAgY29uc3QgeyBhcmlhTGFiZWwgfSA9IHRoaXM7CiAgICAgIHJldHVybiB0aGlzLmFyaWFMYWJlbFN0YXJ0IHx8IGFyaWFMYWJlbCAmJiBgJHthcmlhTGFiZWx9IHN0YXJ0YCB8fCB0aGlzLnZhbHVlTGFiZWxTdGFydCB8fCBTdHJpbmcodGhpcy52YWx1ZVN0YXJ0KTsKICAgIH0KICAgIGdldCByZW5kZXJBcmlhVmFsdWVUZXh0U3RhcnQoKSB7CiAgICAgIHJldHVybiB0aGlzLmFyaWFWYWx1ZVRleHRTdGFydCB8fCB0aGlzLnZhbHVlTGFiZWxTdGFydCB8fCBTdHJpbmcodGhpcy52YWx1ZVN0YXJ0KTsKICAgIH0KICAgIC8vIE5vdGU6IGVuZCBhcmlhLSogcHJvcGVydGllcyBhcmUgYXBwbGllZCBmb3Igc2luZ2xlIGFuZCByYW5nZSBzbGlkZXJzLCB3aGljaAogICAgLy8gaXMgd2h5IGl0IG5lZWRzIHRvIGhhbmRsZSBgdGhpcy5yYW5nZWAgKHdoaWxlIHN0YXJ0IGFyaWEtKiBwcm9wZXJ0aWVzIGRvCiAgICAvLyBub3QpLgogICAgZ2V0IHJlbmRlckFyaWFMYWJlbEVuZCgpIHsKICAgICAgY29uc3QgeyBhcmlhTGFiZWwgfSA9IHRoaXM7CiAgICAgIGlmICh0aGlzLnJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYXJpYUxhYmVsRW5kIHx8IGFyaWFMYWJlbCAmJiBgJHthcmlhTGFiZWx9IGVuZGAgfHwgdGhpcy52YWx1ZUxhYmVsRW5kIHx8IFN0cmluZyh0aGlzLnZhbHVlRW5kKTsKICAgICAgfQogICAgICByZXR1cm4gYXJpYUxhYmVsIHx8IHRoaXMudmFsdWVMYWJlbCB8fCBTdHJpbmcodGhpcy52YWx1ZSk7CiAgICB9CiAgICBnZXQgcmVuZGVyQXJpYVZhbHVlVGV4dEVuZCgpIHsKICAgICAgaWYgKHRoaXMucmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5hcmlhVmFsdWVUZXh0RW5kIHx8IHRoaXMudmFsdWVMYWJlbEVuZCB8fCBTdHJpbmcodGhpcy52YWx1ZUVuZCk7CiAgICAgIH0KICAgICAgY29uc3QgeyBhcmlhVmFsdWVUZXh0IH0gPSB0aGlzOwogICAgICByZXR1cm4gYXJpYVZhbHVlVGV4dCB8fCB0aGlzLnZhbHVlTGFiZWwgfHwgU3RyaW5nKHRoaXMudmFsdWUpOwogICAgfQogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMubWluID0gMDsKICAgICAgdGhpcy5tYXggPSAxMDA7CiAgICAgIHRoaXMudmFsdWVMYWJlbCA9ICIiOwogICAgICB0aGlzLnZhbHVlTGFiZWxTdGFydCA9ICIiOwogICAgICB0aGlzLnZhbHVlTGFiZWxFbmQgPSAiIjsKICAgICAgdGhpcy5hcmlhTGFiZWxTdGFydCA9ICIiOwogICAgICB0aGlzLmFyaWFWYWx1ZVRleHRTdGFydCA9ICIiOwogICAgICB0aGlzLmFyaWFMYWJlbEVuZCA9ICIiOwogICAgICB0aGlzLmFyaWFWYWx1ZVRleHRFbmQgPSAiIjsKICAgICAgdGhpcy5zdGVwID0gMTsKICAgICAgdGhpcy50aWNrcyA9IGZhbHNlOwogICAgICB0aGlzLmxhYmVsZWQgPSBmYWxzZTsKICAgICAgdGhpcy5yYW5nZSA9IGZhbHNlOwogICAgICB0aGlzLmhhbmRsZVN0YXJ0SG92ZXIgPSBmYWxzZTsKICAgICAgdGhpcy5oYW5kbGVFbmRIb3ZlciA9IGZhbHNlOwogICAgICB0aGlzLnN0YXJ0T25Ub3AgPSBmYWxzZTsKICAgICAgdGhpcy5oYW5kbGVzT3ZlcmxhcHBpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5yaXBwbGVQb2ludGVySWQgPSAxOwogICAgICB0aGlzLmlzUmVkaXNwYXRjaGluZ0V2ZW50ID0gZmFsc2U7CiAgICAgIGlmICghbzcpIHsKICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGV2ZW50KSA9PiB7CiAgICAgICAgICBpZiAoIWlzQWN0aXZhdGlvbkNsaWNrKGV2ZW50KSB8fCAhdGhpcy5pbnB1dEVuZCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmZvY3VzKCk7CiAgICAgICAgICBkaXNwYXRjaEFjdGl2YXRpb25DbGljayh0aGlzLmlucHV0RW5kKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogICAgZm9jdXMoKSB7CiAgICAgIHRoaXMuaW5wdXRFbmQ/LmZvY3VzKCk7CiAgICB9CiAgICB3aWxsVXBkYXRlKGNoYW5nZWQpIHsKICAgICAgdGhpcy5yZW5kZXJWYWx1ZVN0YXJ0ID0gY2hhbmdlZC5oYXMoInZhbHVlU3RhcnQiKSA/IHRoaXMudmFsdWVTdGFydCA6IHRoaXMuaW5wdXRTdGFydD8udmFsdWVBc051bWJlcjsKICAgICAgY29uc3QgZW5kVmFsdWVDaGFuZ2VkID0gY2hhbmdlZC5oYXMoInZhbHVlRW5kIikgJiYgdGhpcy5yYW5nZSB8fCBjaGFuZ2VkLmhhcygidmFsdWUiKTsKICAgICAgdGhpcy5yZW5kZXJWYWx1ZUVuZCA9IGVuZFZhbHVlQ2hhbmdlZCA/IHRoaXMucmFuZ2UgPyB0aGlzLnZhbHVlRW5kIDogdGhpcy52YWx1ZSA6IHRoaXMuaW5wdXRFbmQ/LnZhbHVlQXNOdW1iZXI7CiAgICAgIGlmIChjaGFuZ2VkLmdldCgiaGFuZGxlU3RhcnRIb3ZlciIpICE9PSB2b2lkIDApIHsKICAgICAgICB0aGlzLnRvZ2dsZVJpcHBsZUhvdmVyKHRoaXMucmlwcGxlU3RhcnQsIHRoaXMuaGFuZGxlU3RhcnRIb3Zlcik7CiAgICAgIH0gZWxzZSBpZiAoY2hhbmdlZC5nZXQoImhhbmRsZUVuZEhvdmVyIikgIT09IHZvaWQgMCkgewogICAgICAgIHRoaXMudG9nZ2xlUmlwcGxlSG92ZXIodGhpcy5yaXBwbGVFbmQsIHRoaXMuaGFuZGxlRW5kSG92ZXIpOwogICAgICB9CiAgICB9CiAgICB1cGRhdGVkKGNoYW5nZWQpIHsKICAgICAgaWYgKHRoaXMucmFuZ2UpIHsKICAgICAgICB0aGlzLnJlbmRlclZhbHVlU3RhcnQgPSB0aGlzLmlucHV0U3RhcnQudmFsdWVBc051bWJlcjsKICAgICAgfQogICAgICB0aGlzLnJlbmRlclZhbHVlRW5kID0gdGhpcy5pbnB1dEVuZC52YWx1ZUFzTnVtYmVyOwogICAgICBpZiAodGhpcy5yYW5nZSkgewogICAgICAgIGNvbnN0IHNlZ21lbnQgPSAodGhpcy5tYXggLSB0aGlzLm1pbikgLyAzOwogICAgICAgIGlmICh0aGlzLnZhbHVlU3RhcnQgPT09IHZvaWQgMCkgewogICAgICAgICAgdGhpcy5pbnB1dFN0YXJ0LnZhbHVlQXNOdW1iZXIgPSB0aGlzLm1pbiArIHNlZ21lbnQ7CiAgICAgICAgICBjb25zdCB2MiA9IHRoaXMuaW5wdXRTdGFydC52YWx1ZUFzTnVtYmVyOwogICAgICAgICAgdGhpcy52YWx1ZVN0YXJ0ID0gdGhpcy5yZW5kZXJWYWx1ZVN0YXJ0ID0gdjI7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnZhbHVlRW5kID09PSB2b2lkIDApIHsKICAgICAgICAgIHRoaXMuaW5wdXRFbmQudmFsdWVBc051bWJlciA9IHRoaXMubWluICsgMiAqIHNlZ21lbnQ7CiAgICAgICAgICBjb25zdCB2MiA9IHRoaXMuaW5wdXRFbmQudmFsdWVBc051bWJlcjsKICAgICAgICAgIHRoaXMudmFsdWVFbmQgPSB0aGlzLnJlbmRlclZhbHVlRW5kID0gdjI7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudmFsdWUgPz89IHRoaXMucmVuZGVyVmFsdWVFbmQ7CiAgICAgIH0KICAgICAgaWYgKGNoYW5nZWQuaGFzKCJyYW5nZSIpIHx8IGNoYW5nZWQuaGFzKCJyZW5kZXJWYWx1ZVN0YXJ0IikgfHwgY2hhbmdlZC5oYXMoInJlbmRlclZhbHVlRW5kIikgfHwgdGhpcy5pc1VwZGF0ZVBlbmRpbmcpIHsKICAgICAgICBjb25zdCBzdGFydE51YiA9IHRoaXMuaGFuZGxlU3RhcnQ/LnF1ZXJ5U2VsZWN0b3IoIi5oYW5kbGVOdWIiKTsKICAgICAgICBjb25zdCBlbmROdWIgPSB0aGlzLmhhbmRsZUVuZD8ucXVlcnlTZWxlY3RvcigiLmhhbmRsZU51YiIpOwogICAgICAgIHRoaXMuaGFuZGxlc092ZXJsYXBwaW5nID0gaXNPdmVybGFwcGluZyhzdGFydE51YiwgZW5kTnViKTsKICAgICAgfQogICAgICB0aGlzLnBlcmZvcm1VcGRhdGUoKTsKICAgIH0KICAgIHJlbmRlcigpIHsKICAgICAgY29uc3Qgc3RlcCA9IHRoaXMuc3RlcCA9PT0gMCA/IDEgOiB0aGlzLnN0ZXA7CiAgICAgIGNvbnN0IHJhbmdlID0gTWF0aC5tYXgodGhpcy5tYXggLSB0aGlzLm1pbiwgc3RlcCk7CiAgICAgIGNvbnN0IHN0YXJ0RnJhY3Rpb24gPSB0aGlzLnJhbmdlID8gKCh0aGlzLnJlbmRlclZhbHVlU3RhcnQgPz8gdGhpcy5taW4pIC0gdGhpcy5taW4pIC8gcmFuZ2UgOiAwOwogICAgICBjb25zdCBlbmRGcmFjdGlvbiA9ICgodGhpcy5yZW5kZXJWYWx1ZUVuZCA/PyB0aGlzLm1pbikgLSB0aGlzLm1pbikgLyByYW5nZTsKICAgICAgY29uc3QgY29udGFpbmVyU3R5bGVzID0gewogICAgICAgIC8vIGZvciBjbGlwcGluZyBpbnB1dHMgYW5kIGFjdGl2ZSB0cmFjay4KICAgICAgICAiLS1fc3RhcnQtZnJhY3Rpb24iOiBTdHJpbmcoc3RhcnRGcmFjdGlvbiksCiAgICAgICAgIi0tX2VuZC1mcmFjdGlvbiI6IFN0cmluZyhlbmRGcmFjdGlvbiksCiAgICAgICAgLy8gZm9yIGdlbmVyYXRpbmcgdGljayBtYXJrcwogICAgICAgICItLV90aWNrLWNvdW50IjogU3RyaW5nKHJhbmdlIC8gc3RlcCkKICAgICAgfTsKICAgICAgY29uc3QgY29udGFpbmVyQ2xhc3NlcyA9IHsgcmFuZ2VkOiB0aGlzLnJhbmdlIH07CiAgICAgIGNvbnN0IGxhYmVsU3RhcnQgPSB0aGlzLnZhbHVlTGFiZWxTdGFydCB8fCBTdHJpbmcodGhpcy5yZW5kZXJWYWx1ZVN0YXJ0KTsKICAgICAgY29uc3QgbGFiZWxFbmQgPSAodGhpcy5yYW5nZSA/IHRoaXMudmFsdWVMYWJlbEVuZCA6IHRoaXMudmFsdWVMYWJlbCkgfHwgU3RyaW5nKHRoaXMucmVuZGVyVmFsdWVFbmQpOwogICAgICBjb25zdCBpbnB1dFN0YXJ0UHJvcHMgPSB7CiAgICAgICAgc3RhcnQ6IHRydWUsCiAgICAgICAgdmFsdWU6IHRoaXMucmVuZGVyVmFsdWVTdGFydCwKICAgICAgICBhcmlhTGFiZWw6IHRoaXMucmVuZGVyQXJpYUxhYmVsU3RhcnQsCiAgICAgICAgYXJpYVZhbHVlVGV4dDogdGhpcy5yZW5kZXJBcmlhVmFsdWVUZXh0U3RhcnQsCiAgICAgICAgYXJpYU1pbjogdGhpcy5taW4sCiAgICAgICAgYXJpYU1heDogdGhpcy52YWx1ZUVuZCA/PyB0aGlzLm1heAogICAgICB9OwogICAgICBjb25zdCBpbnB1dEVuZFByb3BzID0gewogICAgICAgIHN0YXJ0OiBmYWxzZSwKICAgICAgICB2YWx1ZTogdGhpcy5yZW5kZXJWYWx1ZUVuZCwKICAgICAgICBhcmlhTGFiZWw6IHRoaXMucmVuZGVyQXJpYUxhYmVsRW5kLAogICAgICAgIGFyaWFWYWx1ZVRleHQ6IHRoaXMucmVuZGVyQXJpYVZhbHVlVGV4dEVuZCwKICAgICAgICBhcmlhTWluOiB0aGlzLnJhbmdlID8gdGhpcy52YWx1ZVN0YXJ0ID8/IHRoaXMubWluIDogdGhpcy5taW4sCiAgICAgICAgYXJpYU1heDogdGhpcy5tYXgKICAgICAgfTsKICAgICAgY29uc3QgaGFuZGxlU3RhcnRQcm9wcyA9IHsKICAgICAgICBzdGFydDogdHJ1ZSwKICAgICAgICBob3ZlcjogdGhpcy5oYW5kbGVTdGFydEhvdmVyLAogICAgICAgIGxhYmVsOiBsYWJlbFN0YXJ0CiAgICAgIH07CiAgICAgIGNvbnN0IGhhbmRsZUVuZFByb3BzID0gewogICAgICAgIHN0YXJ0OiBmYWxzZSwKICAgICAgICBob3ZlcjogdGhpcy5oYW5kbGVFbmRIb3ZlciwKICAgICAgICBsYWJlbDogbGFiZWxFbmQKICAgICAgfTsKICAgICAgY29uc3QgaGFuZGxlQ29udGFpbmVyQ2xhc3NlcyA9IHsKICAgICAgICBob3ZlcjogdGhpcy5oYW5kbGVTdGFydEhvdmVyIHx8IHRoaXMuaGFuZGxlRW5kSG92ZXIKICAgICAgfTsKICAgICAgcmV0dXJuIHhgIDxkaXYKICAgICAgY2xhc3M9ImNvbnRhaW5lciAke2U3KGNvbnRhaW5lckNsYXNzZXMpfSIKICAgICAgc3R5bGU9JHtvOShjb250YWluZXJTdHlsZXMpfT4KICAgICAgJHtuNyh0aGlzLnJhbmdlLCAoKSA9PiB0aGlzLnJlbmRlcklucHV0KGlucHV0U3RhcnRQcm9wcykpfQogICAgICAke3RoaXMucmVuZGVySW5wdXQoaW5wdXRFbmRQcm9wcyl9ICR7dGhpcy5yZW5kZXJUcmFjaygpfQogICAgICA8ZGl2IGNsYXNzPSJoYW5kbGVDb250YWluZXJQYWRkZWQiPgogICAgICAgIDxkaXYgY2xhc3M9ImhhbmRsZUNvbnRhaW5lckJsb2NrIj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImhhbmRsZUNvbnRhaW5lciAke2U3KGhhbmRsZUNvbnRhaW5lckNsYXNzZXMpfSI+CiAgICAgICAgICAgICR7bjcodGhpcy5yYW5nZSwgKCkgPT4gdGhpcy5yZW5kZXJIYW5kbGUoaGFuZGxlU3RhcnRQcm9wcykpfQogICAgICAgICAgICAke3RoaXMucmVuZGVySGFuZGxlKGhhbmRsZUVuZFByb3BzKX0KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvZGl2PmA7CiAgICB9CiAgICByZW5kZXJUcmFjaygpIHsKICAgICAgcmV0dXJuIHhgCiAgICAgIDxkaXYgY2xhc3M9InRyYWNrIj48L2Rpdj4KICAgICAgJHt0aGlzLnRpY2tzID8geGA8ZGl2IGNsYXNzPSJ0aWNrbWFya3MiPjwvZGl2PmAgOiBFfQogICAgYDsKICAgIH0KICAgIHJlbmRlckxhYmVsKHZhbHVlKSB7CiAgICAgIHJldHVybiB4YDxkaXYgY2xhc3M9ImxhYmVsIiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbENvbnRlbnQiIHBhcnQ9ImxhYmVsIj4ke3ZhbHVlfTwvc3Bhbj4KICAgIDwvZGl2PmA7CiAgICB9CiAgICByZW5kZXJIYW5kbGUoeyBzdGFydCwgaG92ZXIsIGxhYmVsIH0pIHsKICAgICAgY29uc3Qgb25Ub3AgPSAhdGhpcy5kaXNhYmxlZCAmJiBzdGFydCA9PT0gdGhpcy5zdGFydE9uVG9wOwogICAgICBjb25zdCBpc092ZXJsYXBwaW5nMiA9ICF0aGlzLmRpc2FibGVkICYmIHRoaXMuaGFuZGxlc092ZXJsYXBwaW5nOwogICAgICBjb25zdCBuYW1lID0gc3RhcnQgPyAic3RhcnQiIDogImVuZCI7CiAgICAgIHJldHVybiB4YDxkaXYKICAgICAgY2xhc3M9ImhhbmRsZSAke2U3KHsKICAgICAgICBbbmFtZV06IHRydWUsCiAgICAgICAgaG92ZXIsCiAgICAgICAgb25Ub3AsCiAgICAgICAgaXNPdmVybGFwcGluZzogaXNPdmVybGFwcGluZzIKICAgICAgfSl9Ij4KICAgICAgPG1kLWZvY3VzLXJpbmcgcGFydD0iZm9jdXMtcmluZyIgZm9yPSR7bmFtZX0+PC9tZC1mb2N1cy1yaW5nPgogICAgICA8bWQtcmlwcGxlCiAgICAgICAgZm9yPSR7bmFtZX0KICAgICAgICBjbGFzcz0ke25hbWV9CiAgICAgICAgP2Rpc2FibGVkPSR7dGhpcy5kaXNhYmxlZH0+PC9tZC1yaXBwbGU+CiAgICAgIDxkaXYgY2xhc3M9ImhhbmRsZU51YiI+CiAgICAgICAgPG1kLWVsZXZhdGlvbiBwYXJ0PSJlbGV2YXRpb24iPjwvbWQtZWxldmF0aW9uPgogICAgICA8L2Rpdj4KICAgICAgJHtuNyh0aGlzLmxhYmVsZWQsICgpID0+IHRoaXMucmVuZGVyTGFiZWwobGFiZWwpKX0KICAgIDwvZGl2PmA7CiAgICB9CiAgICByZW5kZXJJbnB1dCh7IHN0YXJ0LCB2YWx1ZSwgYXJpYUxhYmVsLCBhcmlhVmFsdWVUZXh0LCBhcmlhTWluLCBhcmlhTWF4IH0pIHsKICAgICAgY29uc3QgbmFtZSA9IHN0YXJ0ID8gYHN0YXJ0YCA6IGBlbmRgOwogICAgICByZXR1cm4geGA8aW5wdXQKICAgICAgdHlwZT0icmFuZ2UiCiAgICAgIGNsYXNzPSIke2U3KHsKICAgICAgICBzdGFydCwKICAgICAgICBlbmQ6ICFzdGFydAogICAgICB9KX0iCiAgICAgIEBmb2N1cz0ke3RoaXMuaGFuZGxlRm9jdXN9CiAgICAgIEBwb2ludGVyZG93bj0ke3RoaXMuaGFuZGxlRG93bn0KICAgICAgQHBvaW50ZXJ1cD0ke3RoaXMuaGFuZGxlVXB9CiAgICAgIEBwb2ludGVyZW50ZXI9JHt0aGlzLmhhbmRsZUVudGVyfQogICAgICBAcG9pbnRlcm1vdmU9JHt0aGlzLmhhbmRsZU1vdmV9CiAgICAgIEBwb2ludGVybGVhdmU9JHt0aGlzLmhhbmRsZUxlYXZlfQogICAgICBAa2V5ZG93bj0ke3RoaXMuaGFuZGxlS2V5ZG93bn0KICAgICAgQGtleXVwPSR7dGhpcy5oYW5kbGVLZXl1cH0KICAgICAgQGlucHV0PSR7dGhpcy5oYW5kbGVJbnB1dH0KICAgICAgQGNoYW5nZT0ke3RoaXMuaGFuZGxlQ2hhbmdlfQogICAgICBpZD0ke25hbWV9CiAgICAgIC5kaXNhYmxlZD0ke3RoaXMuZGlzYWJsZWR9CiAgICAgIC5taW49JHtTdHJpbmcodGhpcy5taW4pfQogICAgICBhcmlhLXZhbHVlbWluPSR7YXJpYU1pbn0KICAgICAgLm1heD0ke1N0cmluZyh0aGlzLm1heCl9CiAgICAgIGFyaWEtdmFsdWVtYXg9JHthcmlhTWF4fQogICAgICAuc3RlcD0ke1N0cmluZyh0aGlzLnN0ZXApfQogICAgICAudmFsdWU9JHtTdHJpbmcodmFsdWUpfQogICAgICAudGFiSW5kZXg9JHtzdGFydCA/IDEgOiAwfQogICAgICBhcmlhLWxhYmVsPSR7YXJpYUxhYmVsIHx8IEV9CiAgICAgIGFyaWEtdmFsdWV0ZXh0PSR7YXJpYVZhbHVlVGV4dH0gLz5gOwogICAgfQogICAgYXN5bmMgdG9nZ2xlUmlwcGxlSG92ZXIocmlwcGxlLCBob3ZlcmluZykgewogICAgICBjb25zdCByaXBwbGVFbCA9IGF3YWl0IHJpcHBsZTsKICAgICAgaWYgKCFyaXBwbGVFbCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoaG92ZXJpbmcpIHsKICAgICAgICByaXBwbGVFbC5oYW5kbGVQb2ludGVyZW50ZXIobmV3IFBvaW50ZXJFdmVudCgicG9pbnRlcmVudGVyIiwgewogICAgICAgICAgaXNQcmltYXJ5OiB0cnVlLAogICAgICAgICAgcG9pbnRlcklkOiB0aGlzLnJpcHBsZVBvaW50ZXJJZAogICAgICAgIH0pKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByaXBwbGVFbC5oYW5kbGVQb2ludGVybGVhdmUobmV3IFBvaW50ZXJFdmVudCgicG9pbnRlcmxlYXZlIiwgewogICAgICAgICAgaXNQcmltYXJ5OiB0cnVlLAogICAgICAgICAgcG9pbnRlcklkOiB0aGlzLnJpcHBsZVBvaW50ZXJJZAogICAgICAgIH0pKTsKICAgICAgfQogICAgfQogICAgaGFuZGxlRm9jdXMoZXZlbnQpIHsKICAgICAgdGhpcy51cGRhdGVPblRvcChldmVudC50YXJnZXQpOwogICAgfQogICAgc3RhcnRBY3Rpb24oZXZlbnQpIHsKICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwogICAgICBjb25zdCBmaXhlZCA9IHRhcmdldCA9PT0gdGhpcy5pbnB1dFN0YXJ0ID8gdGhpcy5pbnB1dEVuZCA6IHRoaXMuaW5wdXRTdGFydDsKICAgICAgdGhpcy5hY3Rpb24gPSB7CiAgICAgICAgY2FuRmxpcDogZXZlbnQudHlwZSA9PT0gInBvaW50ZXJkb3duIiwKICAgICAgICBmbGlwcGVkOiBmYWxzZSwKICAgICAgICB0YXJnZXQsCiAgICAgICAgZml4ZWQsCiAgICAgICAgdmFsdWVzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcChbCiAgICAgICAgICBbdGFyZ2V0LCB0YXJnZXQudmFsdWVBc051bWJlcl0sCiAgICAgICAgICBbZml4ZWQsIGZpeGVkPy52YWx1ZUFzTnVtYmVyXQogICAgICAgIF0pCiAgICAgIH07CiAgICB9CiAgICBmaW5pc2hBY3Rpb24oZXZlbnQpIHsKICAgICAgdGhpcy5hY3Rpb24gPSB2b2lkIDA7CiAgICB9CiAgICBoYW5kbGVLZXlkb3duKGV2ZW50KSB7CiAgICAgIHRoaXMuc3RhcnRBY3Rpb24oZXZlbnQpOwogICAgfQogICAgaGFuZGxlS2V5dXAoZXZlbnQpIHsKICAgICAgdGhpcy5maW5pc2hBY3Rpb24oZXZlbnQpOwogICAgfQogICAgaGFuZGxlRG93bihldmVudCkgewogICAgICB0aGlzLnN0YXJ0QWN0aW9uKGV2ZW50KTsKICAgICAgdGhpcy5yaXBwbGVQb2ludGVySWQgPSBldmVudC5wb2ludGVySWQ7CiAgICAgIGNvbnN0IGlzU3RhcnQgPSBldmVudC50YXJnZXQgPT09IHRoaXMuaW5wdXRTdGFydDsKICAgICAgdGhpcy5oYW5kbGVTdGFydEhvdmVyID0gIXRoaXMuZGlzYWJsZWQgJiYgaXNTdGFydCAmJiBCb29sZWFuKHRoaXMuaGFuZGxlU3RhcnQpOwogICAgICB0aGlzLmhhbmRsZUVuZEhvdmVyID0gIXRoaXMuZGlzYWJsZWQgJiYgIWlzU3RhcnQgJiYgQm9vbGVhbih0aGlzLmhhbmRsZUVuZCk7CiAgICB9CiAgICBhc3luYyBoYW5kbGVVcChldmVudCkgewogICAgICBpZiAoIXRoaXMuYWN0aW9uKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnN0IHsgdGFyZ2V0LCB2YWx1ZXMsIGZsaXBwZWQgfSA9IHRoaXMuYWN0aW9uOwogICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXF1ZXN0QW5pbWF0aW9uRnJhbWUpOwogICAgICBpZiAodGFyZ2V0ICE9PSB2b2lkIDApIHsKICAgICAgICB0YXJnZXQuZm9jdXMoKTsKICAgICAgICBpZiAoZmxpcHBlZCAmJiB0YXJnZXQudmFsdWVBc051bWJlciAhPT0gdmFsdWVzLmdldCh0YXJnZXQpKSB7CiAgICAgICAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoImNoYW5nZSIsIHsgYnViYmxlczogdHJ1ZSB9KSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuZmluaXNoQWN0aW9uKGV2ZW50KTsKICAgIH0KICAgIC8qKgogICAgICogVGhlIG1vdmUgaGFuZGxlciB0cmFja3MgaGFuZGxlIGhvdmVyaW5nIHRvIGZhY2lsaXRhdGUgcHJvcGVyIHJpcHBsZQogICAgICogYmVoYXZpb3Igb24gdGhlIHNsaWRlciBoYW5kbGUuIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2UgdXNlciBpbnRlcmFjdGlvbiB3aXRoCiAgICAgKiB0aGUgbmF0aXZlIGlucHV0IGlzIGxldmVyYWdlZCB0byBwb3NpdGlvbiB0aGUgaGFuZGxlLiBCZWNhdXNlIHRoZSBzZXBhcmF0ZQogICAgICogZGlzcGxheWVkIGhhbmRsZSBlbGVtZW50IGhhcyBwb2ludGVyIGV2ZW50cyBkaXNhYmxlZCAodG8gYWxsb3cgaW50ZXJhY3Rpb24KICAgICAqIHdpdGggdGhlIGlucHV0KSBhbmQgdGhlIGlucHV0J3MgaGFuZGxlIGlzIGEgcHNldWRvLWVsZW1lbnQsIG5laXRoZXIgY2FuIGJlCiAgICAgKiB0aGUgcmlwcGxlJ3MgaW50ZXJhY3RpdmUgZWxlbWVudC4gVGhlcmVmb3JlIHRoZSBpbnB1dCBpcyB0aGUgcmlwcGxlJ3MKICAgICAqIGludGVyYWN0aXZlIGVsZW1lbnQgYW5kIGhhcyBhIGByaXBwbGVgIGRpcmVjdGl2ZTsgaG93ZXZlciB0aGUgcmlwcGxlCiAgICAgKiBpcyBnYXRlZCBvbiB0aGUgaGFuZGxlIGJlaW5nIGhvdmVyZWQuIEluIGFkZGl0aW9uLCBiZWNhdXNlIHRoZSByaXBwbGUKICAgICAqIGhvdmVyIHN0YXRlIGlzIGJlaW5nIHNwZWNpYWxseSBoYW5kbGVkLCBpdCBtdXN0IGJlIHRyaWdnZXJlZCBpbmRlcGVuZGVudAogICAgICogb2YgdGhlIGRpcmVjdGl2ZS4gVGhpcyBpcyBkb25lIGJhc2VkIG9uIHRoZSBob3ZlciBzdGF0ZSB3aGVuIHRoZQogICAgICogc2xpZGVyIGlzIHVwZGF0ZWQuCiAgICAgKi8KICAgIGhhbmRsZU1vdmUoZXZlbnQpIHsKICAgICAgdGhpcy5oYW5kbGVTdGFydEhvdmVyID0gIXRoaXMuZGlzYWJsZWQgJiYgaW5Cb3VuZHMoZXZlbnQsIHRoaXMuaGFuZGxlU3RhcnQpOwogICAgICB0aGlzLmhhbmRsZUVuZEhvdmVyID0gIXRoaXMuZGlzYWJsZWQgJiYgaW5Cb3VuZHMoZXZlbnQsIHRoaXMuaGFuZGxlRW5kKTsKICAgIH0KICAgIGhhbmRsZUVudGVyKGV2ZW50KSB7CiAgICAgIHRoaXMuaGFuZGxlTW92ZShldmVudCk7CiAgICB9CiAgICBoYW5kbGVMZWF2ZSgpIHsKICAgICAgdGhpcy5oYW5kbGVTdGFydEhvdmVyID0gZmFsc2U7CiAgICAgIHRoaXMuaGFuZGxlRW5kSG92ZXIgPSBmYWxzZTsKICAgIH0KICAgIHVwZGF0ZU9uVG9wKGlucHV0KSB7CiAgICAgIHRoaXMuc3RhcnRPblRvcCA9IGlucHV0LmNsYXNzTGlzdC5jb250YWlucygic3RhcnQiKTsKICAgIH0KICAgIG5lZWRzQ2xhbXBpbmcoKSB7CiAgICAgIGlmICghdGhpcy5hY3Rpb24pIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgY29uc3QgeyB0YXJnZXQsIGZpeGVkIH0gPSB0aGlzLmFjdGlvbjsKICAgICAgY29uc3QgaXNTdGFydCA9IHRhcmdldCA9PT0gdGhpcy5pbnB1dFN0YXJ0OwogICAgICByZXR1cm4gaXNTdGFydCA/IHRhcmdldC52YWx1ZUFzTnVtYmVyID4gZml4ZWQudmFsdWVBc051bWJlciA6IHRhcmdldC52YWx1ZUFzTnVtYmVyIDwgZml4ZWQudmFsdWVBc051bWJlcjsKICAgIH0KICAgIC8vIGlmIHN0YXJ0L2VuZCBzdGFydCBjb2luY2lkZW50IGFuZCB0aGUgZmlyc3QgZHJhZyBpbnB1dCB3b3VsZCBlLmcuIG1vdmUKICAgIC8vIHN0YXJ0ID4gZW5kLCBhdm9pZCBjbGFtcGluZyBhbmQgImZsaXAiIHRvIHVzZSB0aGUgb3RoZXIgaW5wdXQKICAgIC8vIGFzIHRoZSBhY3Rpb24gdGFyZ2V0LgogICAgaXNBY3Rpb25GbGlwcGVkKCkgewogICAgICBjb25zdCB7IGFjdGlvbiB9ID0gdGhpczsKICAgICAgaWYgKCFhY3Rpb24pIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgY29uc3QgeyB0YXJnZXQsIGZpeGVkLCB2YWx1ZXMgfSA9IGFjdGlvbjsKICAgICAgaWYgKGFjdGlvbi5jYW5GbGlwKSB7CiAgICAgICAgY29uc3QgY29pbmNpZGVudCA9IHZhbHVlcy5nZXQodGFyZ2V0KSA9PT0gdmFsdWVzLmdldChmaXhlZCk7CiAgICAgICAgaWYgKGNvaW5jaWRlbnQgJiYgdGhpcy5uZWVkc0NsYW1waW5nKCkpIHsKICAgICAgICAgIGFjdGlvbi5jYW5GbGlwID0gZmFsc2U7CiAgICAgICAgICBhY3Rpb24uZmxpcHBlZCA9IHRydWU7CiAgICAgICAgICBhY3Rpb24udGFyZ2V0ID0gZml4ZWQ7CiAgICAgICAgICBhY3Rpb24uZml4ZWQgPSB0YXJnZXQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBhY3Rpb24uZmxpcHBlZDsKICAgIH0KICAgIC8vIHdoZW4gZmxpcHBlZCwgYXBwbHkgdGhlIGRyYWcgaW5wdXQgdG8gdGhlIGZsaXBwZWQgdGFyZ2V0IGFuZCByZXNldAogICAgLy8gdGhlIGFjdHVhbCB0YXJnZXQuCiAgICBmbGlwQWN0aW9uKCkgewogICAgICBpZiAoIXRoaXMuYWN0aW9uKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGNvbnN0IHsgdGFyZ2V0LCBmaXhlZCwgdmFsdWVzIH0gPSB0aGlzLmFjdGlvbjsKICAgICAgY29uc3QgY2hhbmdlZCA9IHRhcmdldC52YWx1ZUFzTnVtYmVyICE9PSBmaXhlZC52YWx1ZUFzTnVtYmVyOwogICAgICB0YXJnZXQudmFsdWVBc051bWJlciA9IGZpeGVkLnZhbHVlQXNOdW1iZXI7CiAgICAgIGZpeGVkLnZhbHVlQXNOdW1iZXIgPSB2YWx1ZXMuZ2V0KGZpeGVkKTsKICAgICAgcmV0dXJuIGNoYW5nZWQ7CiAgICB9CiAgICAvLyBjbGFtcCBzdWNoIHRoYXQgc3RhcnQgZG9lcyBub3QgbW92ZSBiZXlvbmQgZW5kIGFuZCB2aXNhIHZlcnNhLgogICAgY2xhbXBBY3Rpb24oKSB7CiAgICAgIGlmICghdGhpcy5uZWVkc0NsYW1waW5nKCkgfHwgIXRoaXMuYWN0aW9uKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGNvbnN0IHsgdGFyZ2V0LCBmaXhlZCB9ID0gdGhpcy5hY3Rpb247CiAgICAgIHRhcmdldC52YWx1ZUFzTnVtYmVyID0gZml4ZWQudmFsdWVBc051bWJlcjsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICBoYW5kbGVJbnB1dChldmVudCkgewogICAgICBpZiAodGhpcy5pc1JlZGlzcGF0Y2hpbmdFdmVudCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBsZXQgc3RvcFByb3BhZ2F0aW9uID0gZmFsc2U7CiAgICAgIGxldCByZWRpc3BhdGNoID0gZmFsc2U7CiAgICAgIGlmICh0aGlzLnJhbmdlKSB7CiAgICAgICAgaWYgKHRoaXMuaXNBY3Rpb25GbGlwcGVkKCkpIHsKICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbiA9IHRydWU7CiAgICAgICAgICByZWRpc3BhdGNoID0gdGhpcy5mbGlwQWN0aW9uKCk7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmNsYW1wQWN0aW9uKCkpIHsKICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbiA9IHRydWU7CiAgICAgICAgICByZWRpc3BhdGNoID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDsKICAgICAgdGhpcy51cGRhdGVPblRvcCh0YXJnZXQpOwogICAgICBpZiAodGhpcy5yYW5nZSkgewogICAgICAgIHRoaXMudmFsdWVTdGFydCA9IHRoaXMuaW5wdXRTdGFydC52YWx1ZUFzTnVtYmVyOwogICAgICAgIHRoaXMudmFsdWVFbmQgPSB0aGlzLmlucHV0RW5kLnZhbHVlQXNOdW1iZXI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuaW5wdXRFbmQudmFsdWVBc051bWJlcjsKICAgICAgfQogICAgICBpZiAoc3RvcFByb3BhZ2F0aW9uKSB7CiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIH0KICAgICAgaWYgKHJlZGlzcGF0Y2gpIHsKICAgICAgICB0aGlzLmlzUmVkaXNwYXRjaGluZ0V2ZW50ID0gdHJ1ZTsKICAgICAgICByZWRpc3BhdGNoRXZlbnQodGFyZ2V0LCBldmVudCk7CiAgICAgICAgdGhpcy5pc1JlZGlzcGF0Y2hpbmdFdmVudCA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgICBoYW5kbGVDaGFuZ2UoZXZlbnQpIHsKICAgICAgY29uc3QgY2hhbmdlVGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwogICAgICBjb25zdCB7IHRhcmdldCwgdmFsdWVzIH0gPSB0aGlzLmFjdGlvbiA/PyB7fTsKICAgICAgY29uc3Qgc3F1ZWxjaCA9IHRhcmdldCAmJiB0YXJnZXQudmFsdWVBc051bWJlciA9PT0gdmFsdWVzLmdldChjaGFuZ2VUYXJnZXQpOwogICAgICBpZiAoIXNxdWVsY2gpIHsKICAgICAgICByZWRpc3BhdGNoRXZlbnQodGhpcywgZXZlbnQpOwogICAgICB9CiAgICAgIHRoaXMuZmluaXNoQWN0aW9uKGV2ZW50KTsKICAgIH0KICAgIFtnZXRGb3JtVmFsdWVdKCkgewogICAgICBpZiAodGhpcy5yYW5nZSkgewogICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBkYXRhLmFwcGVuZCh0aGlzLm5hbWVTdGFydCwgU3RyaW5nKHRoaXMudmFsdWVTdGFydCkpOwogICAgICAgIGRhdGEuYXBwZW5kKHRoaXMubmFtZUVuZCwgU3RyaW5nKHRoaXMudmFsdWVFbmQpKTsKICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgfQogICAgICByZXR1cm4gU3RyaW5nKHRoaXMudmFsdWUpOwogICAgfQogICAgZm9ybVJlc2V0Q2FsbGJhY2soKSB7CiAgICAgIGlmICh0aGlzLnJhbmdlKSB7CiAgICAgICAgY29uc3QgdmFsdWVTdGFydCA9IHRoaXMuZ2V0QXR0cmlidXRlKCJ2YWx1ZS1zdGFydCIpOwogICAgICAgIHRoaXMudmFsdWVTdGFydCA9IHZhbHVlU3RhcnQgIT09IG51bGwgPyBOdW1iZXIodmFsdWVTdGFydCkgOiB2b2lkIDA7CiAgICAgICAgY29uc3QgdmFsdWVFbmQgPSB0aGlzLmdldEF0dHJpYnV0ZSgidmFsdWUtZW5kIik7CiAgICAgICAgdGhpcy52YWx1ZUVuZCA9IHZhbHVlRW5kICE9PSBudWxsID8gTnVtYmVyKHZhbHVlRW5kKSA6IHZvaWQgMDsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldEF0dHJpYnV0ZSgidmFsdWUiKTsKICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlICE9PSBudWxsID8gTnVtYmVyKHZhbHVlKSA6IHZvaWQgMDsKICAgIH0KICAgIGZvcm1TdGF0ZVJlc3RvcmVDYWxsYmFjayhzdGF0ZSkgewogICAgICBpZiAoQXJyYXkuaXNBcnJheShzdGF0ZSkpIHsKICAgICAgICBjb25zdCBbWywgdmFsdWVTdGFydF0sIFssIHZhbHVlRW5kXV0gPSBzdGF0ZTsKICAgICAgICB0aGlzLnZhbHVlU3RhcnQgPSBOdW1iZXIodmFsdWVTdGFydCk7CiAgICAgICAgdGhpcy52YWx1ZUVuZCA9IE51bWJlcih2YWx1ZUVuZCk7CiAgICAgICAgdGhpcy5yYW5nZSA9IHRydWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMudmFsdWUgPSBOdW1iZXIoc3RhdGUpOwogICAgICB0aGlzLnJhbmdlID0gZmFsc2U7CiAgICB9CiAgfTsKICBTbGlkZXIuc2hhZG93Um9vdE9wdGlvbnMgPSB7CiAgICAuLi5pNC5zaGFkb3dSb290T3B0aW9ucywKICAgIGRlbGVnYXRlc0ZvY3VzOiB0cnVlCiAgfTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgdHlwZTogTnVtYmVyIH0pCiAgXSwgU2xpZGVyLnByb3RvdHlwZSwgIm1pbiIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHR5cGU6IE51bWJlciB9KQogIF0sIFNsaWRlci5wcm90b3R5cGUsICJtYXgiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBOdW1iZXIgfSkKICBdLCBTbGlkZXIucHJvdG90eXBlLCAidmFsdWUiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyB0eXBlOiBOdW1iZXIsIGF0dHJpYnV0ZTogInZhbHVlLXN0YXJ0IiB9KQogIF0sIFNsaWRlci5wcm90b3R5cGUsICJ2YWx1ZVN0YXJ0Iiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgdHlwZTogTnVtYmVyLCBhdHRyaWJ1dGU6ICJ2YWx1ZS1lbmQiIH0pCiAgXSwgU2xpZGVyLnByb3RvdHlwZSwgInZhbHVlRW5kIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgYXR0cmlidXRlOiAidmFsdWUtbGFiZWwiIH0pCiAgXSwgU2xpZGVyLnByb3RvdHlwZSwgInZhbHVlTGFiZWwiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyBhdHRyaWJ1dGU6ICJ2YWx1ZS1sYWJlbC1zdGFydCIgfSkKICBdLCBTbGlkZXIucHJvdG90eXBlLCAidmFsdWVMYWJlbFN0YXJ0Iiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgYXR0cmlidXRlOiAidmFsdWUtbGFiZWwtZW5kIiB9KQogIF0sIFNsaWRlci5wcm90b3R5cGUsICJ2YWx1ZUxhYmVsRW5kIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgYXR0cmlidXRlOiAiYXJpYS1sYWJlbC1zdGFydCIgfSkKICBdLCBTbGlkZXIucHJvdG90eXBlLCAiYXJpYUxhYmVsU3RhcnQiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgbjMoeyBhdHRyaWJ1dGU6ICJhcmlhLXZhbHVldGV4dC1zdGFydCIgfSkKICBdLCBTbGlkZXIucHJvdG90eXBlLCAiYXJpYVZhbHVlVGV4dFN0YXJ0Iiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgYXR0cmlidXRlOiAiYXJpYS1sYWJlbC1lbmQiIH0pCiAgXSwgU2xpZGVyLnByb3RvdHlwZSwgImFyaWFMYWJlbEVuZCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IGF0dHJpYnV0ZTogImFyaWEtdmFsdWV0ZXh0LWVuZCIgfSkKICBdLCBTbGlkZXIucHJvdG90eXBlLCAiYXJpYVZhbHVlVGV4dEVuZCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHR5cGU6IE51bWJlciB9KQogIF0sIFNsaWRlci5wcm90b3R5cGUsICJzdGVwIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIG4zKHsgdHlwZTogQm9vbGVhbiB9KQogIF0sIFNsaWRlci5wcm90b3R5cGUsICJ0aWNrcyIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHR5cGU6IEJvb2xlYW4gfSkKICBdLCBTbGlkZXIucHJvdG90eXBlLCAibGFiZWxlZCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBuMyh7IHR5cGU6IEJvb2xlYW4gfSkKICBdLCBTbGlkZXIucHJvdG90eXBlLCAicmFuZ2UiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgZTQoImlucHV0LnN0YXJ0IikKICBdLCBTbGlkZXIucHJvdG90eXBlLCAiaW5wdXRTdGFydCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBlNCgiLmhhbmRsZS5zdGFydCIpCiAgXSwgU2xpZGVyLnByb3RvdHlwZSwgImhhbmRsZVN0YXJ0Iiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIHI1KCJtZC1yaXBwbGUuc3RhcnQiKQogIF0sIFNsaWRlci5wcm90b3R5cGUsICJyaXBwbGVTdGFydCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICBlNCgiaW5wdXQuZW5kIikKICBdLCBTbGlkZXIucHJvdG90eXBlLCAiaW5wdXRFbmQiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgZTQoIi5oYW5kbGUuZW5kIikKICBdLCBTbGlkZXIucHJvdG90eXBlLCAiaGFuZGxlRW5kIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIHI1KCJtZC1yaXBwbGUuZW5kIikKICBdLCBTbGlkZXIucHJvdG90eXBlLCAicmlwcGxlRW5kIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIHI0KCkKICBdLCBTbGlkZXIucHJvdG90eXBlLCAiaGFuZGxlU3RhcnRIb3ZlciIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICByNCgpCiAgXSwgU2xpZGVyLnByb3RvdHlwZSwgImhhbmRsZUVuZEhvdmVyIiwgdm9pZCAwKTsKICBfX2RlY29yYXRlKFsKICAgIHI0KCkKICBdLCBTbGlkZXIucHJvdG90eXBlLCAic3RhcnRPblRvcCIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICByNCgpCiAgXSwgU2xpZGVyLnByb3RvdHlwZSwgImhhbmRsZXNPdmVybGFwcGluZyIsIHZvaWQgMCk7CiAgX19kZWNvcmF0ZShbCiAgICByNCgpCiAgXSwgU2xpZGVyLnByb3RvdHlwZSwgInJlbmRlclZhbHVlU3RhcnQiLCB2b2lkIDApOwogIF9fZGVjb3JhdGUoWwogICAgcjQoKQogIF0sIFNsaWRlci5wcm90b3R5cGUsICJyZW5kZXJWYWx1ZUVuZCIsIHZvaWQgMCk7CiAgZnVuY3Rpb24gaW5Cb3VuZHMoeyB4OiB4MiwgeTogeTMgfSwgZWxlbWVudCkgewogICAgaWYgKCFlbGVtZW50KSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIGNvbnN0IHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0IH0gPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgcmV0dXJuIHgyID49IGxlZnQgJiYgeDIgPD0gcmlnaHQgJiYgeTMgPj0gdG9wICYmIHkzIDw9IGJvdHRvbTsKICB9CiAgZnVuY3Rpb24gaXNPdmVybGFwcGluZyhlbEEsIGVsQikgewogICAgaWYgKCEoZWxBICYmIGVsQikpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgY29uc3QgYTQgPSBlbEEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICBjb25zdCBiMyA9IGVsQi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgIHJldHVybiAhKGE0LnRvcCA+IGIzLmJvdHRvbSB8fCBhNC5yaWdodCA8IGIzLmxlZnQgfHwgYTQuYm90dG9tIDwgYjMudG9wIHx8IGE0LmxlZnQgPiBiMy5yaWdodCk7CiAgfQoKICAvLyBub2RlX21vZHVsZXMvLnBucG0vQG1hdGVyaWFsK3dlYkAyLjMuMC9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3dlYi9zbGlkZXIvaW50ZXJuYWwvc2xpZGVyLXN0eWxlcy5qcwogIHZhciBzdHlsZXMxNCA9IGlgOmhvc3R7LS1fYWN0aXZlLXRyYWNrLWNvbG9yOiB2YXIoLS1tZC1zbGlkZXItYWN0aXZlLXRyYWNrLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItcHJpbWFyeSwgIzY3NTBhNCkpOy0tX2FjdGl2ZS10cmFjay1oZWlnaHQ6IHZhcigtLW1kLXNsaWRlci1hY3RpdmUtdHJhY2staGVpZ2h0LCA0cHgpOy0tX2FjdGl2ZS10cmFjay1zaGFwZTogdmFyKC0tbWQtc2xpZGVyLWFjdGl2ZS10cmFjay1zaGFwZSwgdmFyKC0tbWQtc3lzLXNoYXBlLWNvcm5lci1mdWxsLCA5OTk5cHgpKTstLV9kaXNhYmxlZC1hY3RpdmUtdHJhY2stY29sb3I6IHZhcigtLW1kLXNsaWRlci1kaXNhYmxlZC1hY3RpdmUtdHJhY2stY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1vbi1zdXJmYWNlLCAjMWQxYjIwKSk7LS1fZGlzYWJsZWQtYWN0aXZlLXRyYWNrLW9wYWNpdHk6IHZhcigtLW1kLXNsaWRlci1kaXNhYmxlZC1hY3RpdmUtdHJhY2stb3BhY2l0eSwgMC4zOCk7LS1fZGlzYWJsZWQtaGFuZGxlLWNvbG9yOiB2YXIoLS1tZC1zbGlkZXItZGlzYWJsZWQtaGFuZGxlLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpOy0tX2Rpc2FibGVkLWhhbmRsZS1lbGV2YXRpb246IHZhcigtLW1kLXNsaWRlci1kaXNhYmxlZC1oYW5kbGUtZWxldmF0aW9uLCAwKTstLV9kaXNhYmxlZC1pbmFjdGl2ZS10cmFjay1jb2xvcjogdmFyKC0tbWQtc2xpZGVyLWRpc2FibGVkLWluYWN0aXZlLXRyYWNrLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tc3VyZmFjZSwgIzFkMWIyMCkpOy0tX2Rpc2FibGVkLWluYWN0aXZlLXRyYWNrLW9wYWNpdHk6IHZhcigtLW1kLXNsaWRlci1kaXNhYmxlZC1pbmFjdGl2ZS10cmFjay1vcGFjaXR5LCAwLjEyKTstLV9mb2N1cy1oYW5kbGUtY29sb3I6IHZhcigtLW1kLXNsaWRlci1mb2N1cy1oYW5kbGUtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1wcmltYXJ5LCAjNjc1MGE0KSk7LS1faGFuZGxlLWNvbG9yOiB2YXIoLS1tZC1zbGlkZXItaGFuZGxlLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3ItcHJpbWFyeSwgIzY3NTBhNCkpOy0tX2hhbmRsZS1lbGV2YXRpb246IHZhcigtLW1kLXNsaWRlci1oYW5kbGUtZWxldmF0aW9uLCAxKTstLV9oYW5kbGUtaGVpZ2h0OiB2YXIoLS1tZC1zbGlkZXItaGFuZGxlLWhlaWdodCwgMjBweCk7LS1faGFuZGxlLXNoYWRvdy1jb2xvcjogdmFyKC0tbWQtc2xpZGVyLWhhbmRsZS1zaGFkb3ctY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1zaGFkb3csICMwMDApKTstLV9oYW5kbGUtc2hhcGU6IHZhcigtLW1kLXNsaWRlci1oYW5kbGUtc2hhcGUsIHZhcigtLW1kLXN5cy1zaGFwZS1jb3JuZXItZnVsbCwgOTk5OXB4KSk7LS1faGFuZGxlLXdpZHRoOiB2YXIoLS1tZC1zbGlkZXItaGFuZGxlLXdpZHRoLCAyMHB4KTstLV9ob3Zlci1oYW5kbGUtY29sb3I6IHZhcigtLW1kLXNsaWRlci1ob3Zlci1oYW5kbGUtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1wcmltYXJ5LCAjNjc1MGE0KSk7LS1faG92ZXItc3RhdGUtbGF5ZXItY29sb3I6IHZhcigtLW1kLXNsaWRlci1ob3Zlci1zdGF0ZS1sYXllci1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXByaW1hcnksICM2NzUwYTQpKTstLV9ob3Zlci1zdGF0ZS1sYXllci1vcGFjaXR5OiB2YXIoLS1tZC1zbGlkZXItaG92ZXItc3RhdGUtbGF5ZXItb3BhY2l0eSwgMC4wOCk7LS1faW5hY3RpdmUtdHJhY2stY29sb3I6IHZhcigtLW1kLXNsaWRlci1pbmFjdGl2ZS10cmFjay1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLXN1cmZhY2UtY29udGFpbmVyLWhpZ2hlc3QsICNlNmUwZTkpKTstLV9pbmFjdGl2ZS10cmFjay1oZWlnaHQ6IHZhcigtLW1kLXNsaWRlci1pbmFjdGl2ZS10cmFjay1oZWlnaHQsIDRweCk7LS1faW5hY3RpdmUtdHJhY2stc2hhcGU6IHZhcigtLW1kLXNsaWRlci1pbmFjdGl2ZS10cmFjay1zaGFwZSwgdmFyKC0tbWQtc3lzLXNoYXBlLWNvcm5lci1mdWxsLCA5OTk5cHgpKTstLV9sYWJlbC1jb250YWluZXItY29sb3I6IHZhcigtLW1kLXNsaWRlci1sYWJlbC1jb250YWluZXItY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1wcmltYXJ5LCAjNjc1MGE0KSk7LS1fbGFiZWwtY29udGFpbmVyLWhlaWdodDogdmFyKC0tbWQtc2xpZGVyLWxhYmVsLWNvbnRhaW5lci1oZWlnaHQsIDI4cHgpOy0tX3ByZXNzZWQtaGFuZGxlLWNvbG9yOiB2YXIoLS1tZC1zbGlkZXItcHJlc3NlZC1oYW5kbGUtY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1wcmltYXJ5LCAjNjc1MGE0KSk7LS1fcHJlc3NlZC1zdGF0ZS1sYXllci1jb2xvcjogdmFyKC0tbWQtc2xpZGVyLXByZXNzZWQtc3RhdGUtbGF5ZXItY29sb3IsIHZhcigtLW1kLXN5cy1jb2xvci1wcmltYXJ5LCAjNjc1MGE0KSk7LS1fcHJlc3NlZC1zdGF0ZS1sYXllci1vcGFjaXR5OiB2YXIoLS1tZC1zbGlkZXItcHJlc3NlZC1zdGF0ZS1sYXllci1vcGFjaXR5LCAwLjEyKTstLV9zdGF0ZS1sYXllci1zaXplOiB2YXIoLS1tZC1zbGlkZXItc3RhdGUtbGF5ZXItc2l6ZSwgNDBweCk7LS1fd2l0aC1vdmVybGFwLWhhbmRsZS1vdXRsaW5lLWNvbG9yOiB2YXIoLS1tZC1zbGlkZXItd2l0aC1vdmVybGFwLWhhbmRsZS1vdXRsaW5lLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tcHJpbWFyeSwgI2ZmZikpOy0tX3dpdGgtb3ZlcmxhcC1oYW5kbGUtb3V0bGluZS13aWR0aDogdmFyKC0tbWQtc2xpZGVyLXdpdGgtb3ZlcmxhcC1oYW5kbGUtb3V0bGluZS13aWR0aCwgMXB4KTstLV93aXRoLXRpY2stbWFya3MtYWN0aXZlLWNvbnRhaW5lci1jb2xvcjogdmFyKC0tbWQtc2xpZGVyLXdpdGgtdGljay1tYXJrcy1hY3RpdmUtY29udGFpbmVyLWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tcHJpbWFyeSwgI2ZmZikpOy0tX3dpdGgtdGljay1tYXJrcy1jb250YWluZXItc2l6ZTogdmFyKC0tbWQtc2xpZGVyLXdpdGgtdGljay1tYXJrcy1jb250YWluZXItc2l6ZSwgMnB4KTstLV93aXRoLXRpY2stbWFya3MtZGlzYWJsZWQtY29udGFpbmVyLWNvbG9yOiB2YXIoLS1tZC1zbGlkZXItd2l0aC10aWNrLW1hcmtzLWRpc2FibGVkLWNvbnRhaW5lci1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UsICMxZDFiMjApKTstLV93aXRoLXRpY2stbWFya3MtaW5hY3RpdmUtY29udGFpbmVyLWNvbG9yOiB2YXIoLS1tZC1zbGlkZXItd2l0aC10aWNrLW1hcmtzLWluYWN0aXZlLWNvbnRhaW5lci1jb2xvciwgdmFyKC0tbWQtc3lzLWNvbG9yLW9uLXN1cmZhY2UtdmFyaWFudCwgIzQ5NDU0ZikpOy0tX2xhYmVsLXRleHQtY29sb3I6IHZhcigtLW1kLXNsaWRlci1sYWJlbC10ZXh0LWNvbG9yLCB2YXIoLS1tZC1zeXMtY29sb3Itb24tcHJpbWFyeSwgI2ZmZikpOy0tX2xhYmVsLXRleHQtZm9udDogdmFyKC0tbWQtc2xpZGVyLWxhYmVsLXRleHQtZm9udCwgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1sYWJlbC1tZWRpdW0tZm9udCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLXBsYWluLCBSb2JvdG8pKSk7LS1fbGFiZWwtdGV4dC1saW5lLWhlaWdodDogdmFyKC0tbWQtc2xpZGVyLWxhYmVsLXRleHQtbGluZS1oZWlnaHQsIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtbGFiZWwtbWVkaXVtLWxpbmUtaGVpZ2h0LCAxcmVtKSk7LS1fbGFiZWwtdGV4dC1zaXplOiB2YXIoLS1tZC1zbGlkZXItbGFiZWwtdGV4dC1zaXplLCB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWxhYmVsLW1lZGl1bS1zaXplLCAwLjc1cmVtKSk7LS1fbGFiZWwtdGV4dC13ZWlnaHQ6IHZhcigtLW1kLXNsaWRlci1sYWJlbC10ZXh0LXdlaWdodCwgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1sYWJlbC1tZWRpdW0td2VpZ2h0LCB2YXIoLS1tZC1yZWYtdHlwZWZhY2Utd2VpZ2h0LW1lZGl1bSwgNTAwKSkpOy0tX3N0YXJ0LWZyYWN0aW9uOiAwOy0tX2VuZC1mcmFjdGlvbjogMDstLV90aWNrLWNvdW50OiAwO2Rpc3BsYXk6aW5saW5lLWZsZXg7dmVydGljYWwtYWxpZ246bWlkZGxlO21pbi1pbmxpbmUtc2l6ZToyMDBweDstLW1kLWVsZXZhdGlvbi1sZXZlbDogdmFyKC0tX2hhbmRsZS1lbGV2YXRpb24pOy0tbWQtZWxldmF0aW9uLXNoYWRvdy1jb2xvcjogdmFyKC0tX2hhbmRsZS1zaGFkb3ctY29sb3IpfW1kLWZvY3VzLXJpbmd7aGVpZ2h0OjQ4cHg7aW5zZXQ6dW5zZXQ7d2lkdGg6NDhweH1tZC1lbGV2YXRpb257dHJhbnNpdGlvbi1kdXJhdGlvbjoyNTBtc31AbWVkaWEocHJlZmVycy1yZWR1Y2VkLW1vdGlvbil7LmxhYmVse3RyYW5zaXRpb24tZHVyYXRpb246MH19Omhvc3QoW2Rpc2FibGVkXSl7b3BhY2l0eTp2YXIoLS1fZGlzYWJsZWQtYWN0aXZlLXRyYWNrLW9wYWNpdHkpOy0tbWQtZWxldmF0aW9uLWxldmVsOiB2YXIoLS1fZGlzYWJsZWQtaGFuZGxlLWVsZXZhdGlvbil9LmNvbnRhaW5lcntmbGV4OjE7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZTtibG9jay1zaXplOnZhcigtLV9zdGF0ZS1sYXllci1zaXplKTtwb2ludGVyLWV2ZW50czpub25lO3RvdWNoLWFjdGlvbjpub25lfS50cmFjaywudGlja21hcmtze3Bvc2l0aW9uOmFic29sdXRlO2luc2V0OjA7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0udHJhY2s6OmJlZm9yZSwudGlja21hcmtzOjpiZWZvcmUsLnRyYWNrOjphZnRlciwudGlja21hcmtzOjphZnRlcntwb3NpdGlvbjphYnNvbHV0ZTtjb250ZW50OiIiO2luc2V0LWlubGluZS1zdGFydDpjYWxjKHZhcigtLV9zdGF0ZS1sYXllci1zaXplKS8yIC0gdmFyKC0tX3dpdGgtdGljay1tYXJrcy1jb250YWluZXItc2l6ZSkpO2luc2V0LWlubGluZS1lbmQ6Y2FsYyh2YXIoLS1fc3RhdGUtbGF5ZXItc2l6ZSkvMiAtIHZhcigtLV93aXRoLXRpY2stbWFya3MtY29udGFpbmVyLXNpemUpKTtiYWNrZ3JvdW5kLXNpemU6Y2FsYygoMTAwJSAtIHZhcigtLV93aXRoLXRpY2stbWFya3MtY29udGFpbmVyLXNpemUpKjIpL3ZhcigtLV90aWNrLWNvdW50KSkgMTAwJX0udHJhY2s6OmJlZm9yZSwudGlja21hcmtzOjpiZWZvcmV7YmxvY2stc2l6ZTp2YXIoLS1faW5hY3RpdmUtdHJhY2staGVpZ2h0KTtib3JkZXItcmFkaXVzOnZhcigtLV9pbmFjdGl2ZS10cmFjay1zaGFwZSl9LnRyYWNrOjpiZWZvcmV7YmFja2dyb3VuZDp2YXIoLS1faW5hY3RpdmUtdHJhY2stY29sb3IpfS50aWNrbWFya3M6OmJlZm9yZXtiYWNrZ3JvdW5kLWltYWdlOnJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgdmFyKC0tX3dpdGgtdGljay1tYXJrcy1jb250YWluZXItc2l6ZSkgY2VudGVyLCB2YXIoLS1fd2l0aC10aWNrLW1hcmtzLWluYWN0aXZlLWNvbnRhaW5lci1jb2xvcikgMCwgdmFyKC0tX3dpdGgtdGljay1tYXJrcy1pbmFjdGl2ZS1jb250YWluZXItY29sb3IpIGNhbGModmFyKC0tX3dpdGgtdGljay1tYXJrcy1jb250YWluZXItc2l6ZSkgLyAyKSwgdHJhbnNwYXJlbnQgY2FsYyh2YXIoLS1fd2l0aC10aWNrLW1hcmtzLWNvbnRhaW5lci1zaXplKSAvIDIpKX06aG9zdChbZGlzYWJsZWRdKSAudHJhY2s6OmJlZm9yZXtvcGFjaXR5OmNhbGMoMS92YXIoLS1fZGlzYWJsZWQtYWN0aXZlLXRyYWNrLW9wYWNpdHkpKnZhcigtLV9kaXNhYmxlZC1pbmFjdGl2ZS10cmFjay1vcGFjaXR5KSk7YmFja2dyb3VuZDp2YXIoLS1fZGlzYWJsZWQtaW5hY3RpdmUtdHJhY2stY29sb3IpfS50cmFjazo6YWZ0ZXIsLnRpY2ttYXJrczo6YWZ0ZXJ7YmxvY2stc2l6ZTp2YXIoLS1fYWN0aXZlLXRyYWNrLWhlaWdodCk7Ym9yZGVyLXJhZGl1czp2YXIoLS1fYWN0aXZlLXRyYWNrLXNoYXBlKTtjbGlwLXBhdGg6aW5zZXQoMCBjYWxjKHZhcigtLV93aXRoLXRpY2stbWFya3MtY29udGFpbmVyLXNpemUpICogbWluKCgxIC0gdmFyKC0tX2VuZC1mcmFjdGlvbikpICogMTAwMDAwMDAwMCwgMSkgKyAoMTAwJSAtIHZhcigtLV93aXRoLXRpY2stbWFya3MtY29udGFpbmVyLXNpemUpICogMikgKiAoMSAtIHZhcigtLV9lbmQtZnJhY3Rpb24pKSkgMCBjYWxjKHZhcigtLV93aXRoLXRpY2stbWFya3MtY29udGFpbmVyLXNpemUpICogbWluKHZhcigtLV9zdGFydC1mcmFjdGlvbikgKiAxMDAwMDAwMDAwLCAxKSArICgxMDAlIC0gdmFyKC0tX3dpdGgtdGljay1tYXJrcy1jb250YWluZXItc2l6ZSkgKiAyKSAqIHZhcigtLV9zdGFydC1mcmFjdGlvbikpKX0udHJhY2s6OmFmdGVye2JhY2tncm91bmQ6dmFyKC0tX2FjdGl2ZS10cmFjay1jb2xvcil9LnRpY2ttYXJrczo6YWZ0ZXJ7YmFja2dyb3VuZC1pbWFnZTpyYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IHZhcigtLV93aXRoLXRpY2stbWFya3MtY29udGFpbmVyLXNpemUpIGNlbnRlciwgdmFyKC0tX3dpdGgtdGljay1tYXJrcy1hY3RpdmUtY29udGFpbmVyLWNvbG9yKSAwLCB2YXIoLS1fd2l0aC10aWNrLW1hcmtzLWFjdGl2ZS1jb250YWluZXItY29sb3IpIGNhbGModmFyKC0tX3dpdGgtdGljay1tYXJrcy1jb250YWluZXItc2l6ZSkgLyAyKSwgdHJhbnNwYXJlbnQgY2FsYyh2YXIoLS1fd2l0aC10aWNrLW1hcmtzLWNvbnRhaW5lci1zaXplKSAvIDIpKX0udHJhY2s6ZGlyKHJ0bCk6OmFmdGVye2NsaXAtcGF0aDppbnNldCgwIGNhbGModmFyKC0tX3dpdGgtdGljay1tYXJrcy1jb250YWluZXItc2l6ZSkgKiBtaW4odmFyKC0tX3N0YXJ0LWZyYWN0aW9uKSAqIDEwMDAwMDAwMDAsIDEpICsgKDEwMCUgLSB2YXIoLS1fd2l0aC10aWNrLW1hcmtzLWNvbnRhaW5lci1zaXplKSAqIDIpICogdmFyKC0tX3N0YXJ0LWZyYWN0aW9uKSkgMCBjYWxjKHZhcigtLV93aXRoLXRpY2stbWFya3MtY29udGFpbmVyLXNpemUpICogbWluKCgxIC0gdmFyKC0tX2VuZC1mcmFjdGlvbikpICogMTAwMDAwMDAwMCwgMSkgKyAoMTAwJSAtIHZhcigtLV93aXRoLXRpY2stbWFya3MtY29udGFpbmVyLXNpemUpICogMikgKiAoMSAtIHZhcigtLV9lbmQtZnJhY3Rpb24pKSkpfS50aWNrbWFya3M6ZGlyKHJ0bCk6OmFmdGVye2NsaXAtcGF0aDppbnNldCgwIGNhbGModmFyKC0tX3dpdGgtdGljay1tYXJrcy1jb250YWluZXItc2l6ZSkgKiBtaW4odmFyKC0tX3N0YXJ0LWZyYWN0aW9uKSAqIDEwMDAwMDAwMDAsIDEpICsgKDEwMCUgLSB2YXIoLS1fd2l0aC10aWNrLW1hcmtzLWNvbnRhaW5lci1zaXplKSAqIDIpICogdmFyKC0tX3N0YXJ0LWZyYWN0aW9uKSkgMCBjYWxjKHZhcigtLV93aXRoLXRpY2stbWFya3MtY29udGFpbmVyLXNpemUpICogbWluKCgxIC0gdmFyKC0tX2VuZC1mcmFjdGlvbikpICogMTAwMDAwMDAwMCwgMSkgKyAoMTAwJSAtIHZhcigtLV93aXRoLXRpY2stbWFya3MtY29udGFpbmVyLXNpemUpICogMikgKiAoMSAtIHZhcigtLV9lbmQtZnJhY3Rpb24pKSkpfTpob3N0KFtkaXNhYmxlZF0pIC50cmFjazo6YWZ0ZXJ7YmFja2dyb3VuZDp2YXIoLS1fZGlzYWJsZWQtYWN0aXZlLXRyYWNrLWNvbG9yKX06aG9zdChbZGlzYWJsZWRdKSAudGlja21hcmtzOjpiZWZvcmV7YmFja2dyb3VuZC1pbWFnZTpyYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IHZhcigtLV93aXRoLXRpY2stbWFya3MtY29udGFpbmVyLXNpemUpIGNlbnRlciwgdmFyKC0tX3dpdGgtdGljay1tYXJrcy1kaXNhYmxlZC1jb250YWluZXItY29sb3IpIDAsIHZhcigtLV93aXRoLXRpY2stbWFya3MtZGlzYWJsZWQtY29udGFpbmVyLWNvbG9yKSBjYWxjKHZhcigtLV93aXRoLXRpY2stbWFya3MtY29udGFpbmVyLXNpemUpIC8gMiksIHRyYW5zcGFyZW50IGNhbGModmFyKC0tX3dpdGgtdGljay1tYXJrcy1jb250YWluZXItc2l6ZSkgLyAyKSl9LmhhbmRsZUNvbnRhaW5lclBhZGRlZHtwb3NpdGlvbjpyZWxhdGl2ZTtibG9jay1zaXplOjEwMCU7aW5saW5lLXNpemU6MTAwJTtwYWRkaW5nLWlubGluZTpjYWxjKHZhcigtLV9zdGF0ZS1sYXllci1zaXplKS8yKX0uaGFuZGxlQ29udGFpbmVyQmxvY2t7cG9zaXRpb246cmVsYXRpdmU7YmxvY2stc2l6ZToxMDAlO2lubGluZS1zaXplOjEwMCV9LmhhbmRsZUNvbnRhaW5lcntwb3NpdGlvbjphYnNvbHV0ZTtpbnNldC1ibG9jay1zdGFydDowO2luc2V0LWJsb2NrLWVuZDowO2luc2V0LWlubGluZS1zdGFydDpjYWxjKDEwMCUqdmFyKC0tX3N0YXJ0LWZyYWN0aW9uKSk7aW5saW5lLXNpemU6Y2FsYygxMDAlKih2YXIoLS1fZW5kLWZyYWN0aW9uKSAtIHZhcigtLV9zdGFydC1mcmFjdGlvbikpKX0uaGFuZGxle3Bvc2l0aW9uOmFic29sdXRlO2Jsb2NrLXNpemU6dmFyKC0tX3N0YXRlLWxheWVyLXNpemUpO2lubGluZS1zaXplOnZhcigtLV9zdGF0ZS1sYXllci1zaXplKTtib3JkZXItcmFkaXVzOnZhcigtLV9oYW5kbGUtc2hhcGUpO2Rpc3BsYXk6ZmxleDtwbGFjZS1jb250ZW50OmNlbnRlcjtwbGFjZS1pdGVtczpjZW50ZXJ9LmhhbmRsZU51Yntwb3NpdGlvbjphYnNvbHV0ZTtoZWlnaHQ6dmFyKC0tX2hhbmRsZS1oZWlnaHQpO3dpZHRoOnZhcigtLV9oYW5kbGUtd2lkdGgpO2JvcmRlci1yYWRpdXM6dmFyKC0tX2hhbmRsZS1zaGFwZSk7YmFja2dyb3VuZDp2YXIoLS1faGFuZGxlLWNvbG9yKX06aG9zdChbZGlzYWJsZWRdKSAuaGFuZGxlTnVie2JhY2tncm91bmQ6dmFyKC0tX2Rpc2FibGVkLWhhbmRsZS1jb2xvcil9aW5wdXQuZW5kOmZvY3Vzfi5oYW5kbGVDb250YWluZXJQYWRkZWQgLmhhbmRsZS5lbmQ+LmhhbmRsZU51YixpbnB1dC5zdGFydDpmb2N1c34uaGFuZGxlQ29udGFpbmVyUGFkZGVkIC5oYW5kbGUuc3RhcnQ+LmhhbmRsZU51YntiYWNrZ3JvdW5kOnZhcigtLV9mb2N1cy1oYW5kbGUtY29sb3IpfS5jb250YWluZXI+LmhhbmRsZUNvbnRhaW5lclBhZGRlZCAuaGFuZGxlLmhvdmVyPi5oYW5kbGVOdWJ7YmFja2dyb3VuZDp2YXIoLS1faG92ZXItaGFuZGxlLWNvbG9yKX06aG9zdCg6bm90KFtkaXNhYmxlZF0pKSBpbnB1dC5lbmQ6YWN0aXZlfi5oYW5kbGVDb250YWluZXJQYWRkZWQgLmhhbmRsZS5lbmQ+LmhhbmRsZU51Yiw6aG9zdCg6bm90KFtkaXNhYmxlZF0pKSBpbnB1dC5zdGFydDphY3RpdmV+LmhhbmRsZUNvbnRhaW5lclBhZGRlZCAuaGFuZGxlLnN0YXJ0Pi5oYW5kbGVOdWJ7YmFja2dyb3VuZDp2YXIoLS1fcHJlc3NlZC1oYW5kbGUtY29sb3IpfS5vblRvcC5pc092ZXJsYXBwaW5nIC5sYWJlbCwub25Ub3AuaXNPdmVybGFwcGluZyAubGFiZWw6OmJlZm9yZXtvdXRsaW5lOnZhcigtLV93aXRoLW92ZXJsYXAtaGFuZGxlLW91dGxpbmUtY29sb3IpIHNvbGlkIHZhcigtLV93aXRoLW92ZXJsYXAtaGFuZGxlLW91dGxpbmUtd2lkdGgpfS5vblRvcC5pc092ZXJsYXBwaW5nIC5oYW5kbGVOdWJ7Ym9yZGVyOnZhcigtLV93aXRoLW92ZXJsYXAtaGFuZGxlLW91dGxpbmUtY29sb3IpIHNvbGlkIHZhcigtLV93aXRoLW92ZXJsYXAtaGFuZGxlLW91dGxpbmUtd2lkdGgpfS5oYW5kbGUuc3RhcnR7aW5zZXQtaW5saW5lLXN0YXJ0OmNhbGMoMHB4IC0gdmFyKC0tX3N0YXRlLWxheWVyLXNpemUpLzIpfS5oYW5kbGUuZW5ke2luc2V0LWlubGluZS1lbmQ6Y2FsYygwcHggLSB2YXIoLS1fc3RhdGUtbGF5ZXItc2l6ZSkvMil9LmxhYmVse3Bvc2l0aW9uOmFic29sdXRlO2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmZsZXg7cGFkZGluZzo0cHg7cGxhY2UtY29udGVudDpjZW50ZXI7cGxhY2UtaXRlbXM6Y2VudGVyO2JvcmRlci1yYWRpdXM6dmFyKC0tbWQtc3lzLXNoYXBlLWNvcm5lci1mdWxsLCA5OTk5cHgpO2NvbG9yOnZhcigtLV9sYWJlbC10ZXh0LWNvbG9yKTtmb250LWZhbWlseTp2YXIoLS1fbGFiZWwtdGV4dC1mb250KTtmb250LXNpemU6dmFyKC0tX2xhYmVsLXRleHQtc2l6ZSk7bGluZS1oZWlnaHQ6dmFyKC0tX2xhYmVsLXRleHQtbGluZS1oZWlnaHQpO2ZvbnQtd2VpZ2h0OnZhcigtLV9sYWJlbC10ZXh0LXdlaWdodCk7aW5zZXQtYmxvY2stZW5kOjEwMCU7bWluLWlubGluZS1zaXplOnZhcigtLV9sYWJlbC1jb250YWluZXItaGVpZ2h0KTttaW4tYmxvY2stc2l6ZTp2YXIoLS1fbGFiZWwtY29udGFpbmVyLWhlaWdodCk7YmFja2dyb3VuZDp2YXIoLS1fbGFiZWwtY29udGFpbmVyLWNvbG9yKTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAxMDBtcyBjdWJpYy1iZXppZXIoMC4yLCAwLCAwLCAxKTt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlciBib3R0b207dHJhbnNmb3JtOnNjYWxlKDApfTpob3N0KDpmb2N1cy13aXRoaW4pIC5sYWJlbCwuaGFuZGxlQ29udGFpbmVyLmhvdmVyIC5sYWJlbCw6d2hlcmUoOmhhcyhpbnB1dDphY3RpdmUpKSAubGFiZWx7dHJhbnNmb3JtOnNjYWxlKDEpfS5sYWJlbDo6YmVmb3JlLC5sYWJlbDo6YWZ0ZXJ7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9jaztjb250ZW50OiIiO2JhY2tncm91bmQ6aW5oZXJpdH0ubGFiZWw6OmJlZm9yZXtpbmxpbmUtc2l6ZTpjYWxjKHZhcigtLV9sYWJlbC1jb250YWluZXItaGVpZ2h0KS8yKTtibG9jay1zaXplOmNhbGModmFyKC0tX2xhYmVsLWNvbnRhaW5lci1oZWlnaHQpLzIpO2JvdHRvbTpjYWxjKHZhcigtLV9sYWJlbC1jb250YWluZXItaGVpZ2h0KS8tMTApO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfS5sYWJlbDo6YWZ0ZXJ7aW5zZXQ6MHB4O2JvcmRlci1yYWRpdXM6aW5oZXJpdH0ubGFiZWxDb250ZW50e3otaW5kZXg6MX1pbnB1dFt0eXBlPXJhbmdlXXtvcGFjaXR5OjA7LXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOnJnYmEoMCwwLDAsMCk7cG9zaXRpb246YWJzb2x1dGU7Ym94LXNpemluZzpib3JkZXItYm94O2hlaWdodDoxMDAlO3dpZHRoOjEwMCU7bWFyZ2luOjA7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDApO2N1cnNvcjpwb2ludGVyO3BvaW50ZXItZXZlbnRzOmF1dG87YXBwZWFyYW5jZTpub25lfWlucHV0W3R5cGU9cmFuZ2VdOmZvY3Vze291dGxpbmU6bm9uZX06Oi13ZWJraXQtc2xpZGVyLXJ1bm5hYmxlLXRyYWNrey13ZWJraXQtYXBwZWFyYW5jZTpub25lfTo6LW1vei1yYW5nZS10cmFja3thcHBlYXJhbmNlOm5vbmV9Ojotd2Via2l0LXNsaWRlci10aHVtYnstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTthcHBlYXJhbmNlOm5vbmU7YmxvY2stc2l6ZTp2YXIoLS1faGFuZGxlLWhlaWdodCk7aW5saW5lLXNpemU6dmFyKC0tX2hhbmRsZS13aWR0aCk7b3BhY2l0eTowO3otaW5kZXg6Mn1pbnB1dC5lbmQ6Oi13ZWJraXQtc2xpZGVyLXRodW1iey0tX3RyYWNrLWFuZC1rbm9iLXBhZGRpbmc6IGNhbGMoICh2YXIoLS1fc3RhdGUtbGF5ZXItc2l6ZSkgLSB2YXIoLS1faGFuZGxlLXdpZHRoKSkgLyAyICk7LS1feC10cmFuc2xhdGU6IGNhbGMoIHZhcigtLV90cmFjay1hbmQta25vYi1wYWRkaW5nKSAtIDIgKiB2YXIoLS1fZW5kLWZyYWN0aW9uKSAqIHZhcigtLV90cmFjay1hbmQta25vYi1wYWRkaW5nKSApO3RyYW5zZm9ybTp0cmFuc2xhdGVYKHZhcigtLV94LXRyYW5zbGF0ZSkpfWlucHV0LmVuZDpkaXIocnRsKTo6LXdlYmtpdC1zbGlkZXItdGh1bWJ7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoY2FsYygtMSAqIHZhcigtLV94LXRyYW5zbGF0ZSkpKX1pbnB1dC5zdGFydDo6LXdlYmtpdC1zbGlkZXItdGh1bWJ7LS1fdHJhY2stYW5kLWtub2ItcGFkZGluZzogY2FsYyggKHZhcigtLV9zdGF0ZS1sYXllci1zaXplKSAtIHZhcigtLV9oYW5kbGUtd2lkdGgpKSAvIDIgKTstLV94LXRyYW5zbGF0ZTogY2FsYyggdmFyKC0tX3RyYWNrLWFuZC1rbm9iLXBhZGRpbmcpIC0gMiAqIHZhcigtLV9zdGFydC1mcmFjdGlvbikgKiB2YXIoLS1fdHJhY2stYW5kLWtub2ItcGFkZGluZykgKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCh2YXIoLS1feC10cmFuc2xhdGUpKX1pbnB1dC5zdGFydDpkaXIocnRsKTo6LXdlYmtpdC1zbGlkZXItdGh1bWJ7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoY2FsYygtMSAqIHZhcigtLV94LXRyYW5zbGF0ZSkpKX06Oi1tb3otcmFuZ2UtdGh1bWJ7YXBwZWFyYW5jZTpub25lO2Jsb2NrLXNpemU6dmFyKC0tX3N0YXRlLWxheWVyLXNpemUpO2lubGluZS1zaXplOnZhcigtLV9zdGF0ZS1sYXllci1zaXplKTt0cmFuc2Zvcm06c2NhbGVYKDApO29wYWNpdHk6MDt6LWluZGV4OjJ9LnJhbmdlZCBpbnB1dC5zdGFydHtjbGlwLXBhdGg6aW5zZXQoMCBjYWxjKDEwMCUgLSAodmFyKC0tX3N0YXRlLWxheWVyLXNpemUpIC8gMiArICgxMDAlIC0gdmFyKC0tX3N0YXRlLWxheWVyLXNpemUpKSAqICh2YXIoLS1fc3RhcnQtZnJhY3Rpb24pICsgKHZhcigtLV9lbmQtZnJhY3Rpb24pIC0gdmFyKC0tX3N0YXJ0LWZyYWN0aW9uKSkgLyAyKSkpIDAgMCl9LnJhbmdlZCBpbnB1dC5zdGFydDpkaXIocnRsKXtjbGlwLXBhdGg6aW5zZXQoMCAwIDAgY2FsYygxMDAlIC0gKHZhcigtLV9zdGF0ZS1sYXllci1zaXplKSAvIDIgKyAoMTAwJSAtIHZhcigtLV9zdGF0ZS1sYXllci1zaXplKSkgKiAodmFyKC0tX3N0YXJ0LWZyYWN0aW9uKSArICh2YXIoLS1fZW5kLWZyYWN0aW9uKSAtIHZhcigtLV9zdGFydC1mcmFjdGlvbikpIC8gMikpKSl9LnJhbmdlZCBpbnB1dC5lbmR7Y2xpcC1wYXRoOmluc2V0KDAgMCAwIGNhbGModmFyKC0tX3N0YXRlLWxheWVyLXNpemUpIC8gMiArICgxMDAlIC0gdmFyKC0tX3N0YXRlLWxheWVyLXNpemUpKSAqICh2YXIoLS1fc3RhcnQtZnJhY3Rpb24pICsgKHZhcigtLV9lbmQtZnJhY3Rpb24pIC0gdmFyKC0tX3N0YXJ0LWZyYWN0aW9uKSkgLyAyKSkpfS5yYW5nZWQgaW5wdXQuZW5kOmRpcihydGwpe2NsaXAtcGF0aDppbnNldCgwIGNhbGModmFyKC0tX3N0YXRlLWxheWVyLXNpemUpIC8gMiArICgxMDAlIC0gdmFyKC0tX3N0YXRlLWxheWVyLXNpemUpKSAqICh2YXIoLS1fc3RhcnQtZnJhY3Rpb24pICsgKHZhcigtLV9lbmQtZnJhY3Rpb24pIC0gdmFyKC0tX3N0YXJ0LWZyYWN0aW9uKSkgLyAyKSkgMCAwKX0ub25Ub3B7ei1pbmRleDoxfS5oYW5kbGV7LS1tZC1yaXBwbGUtaG92ZXItY29sb3I6IHZhcigtLV9ob3Zlci1zdGF0ZS1sYXllci1jb2xvcik7LS1tZC1yaXBwbGUtaG92ZXItb3BhY2l0eTogdmFyKC0tX2hvdmVyLXN0YXRlLWxheWVyLW9wYWNpdHkpOy0tbWQtcmlwcGxlLXByZXNzZWQtY29sb3I6IHZhcigtLV9wcmVzc2VkLXN0YXRlLWxheWVyLWNvbG9yKTstLW1kLXJpcHBsZS1wcmVzc2VkLW9wYWNpdHk6IHZhcigtLV9wcmVzc2VkLXN0YXRlLWxheWVyLW9wYWNpdHkpfW1kLXJpcHBsZXtib3JkZXItcmFkaXVzOjUwJTtoZWlnaHQ6dmFyKC0tX3N0YXRlLWxheWVyLXNpemUpO3dpZHRoOnZhcigtLV9zdGF0ZS1sYXllci1zaXplKX0KYDsKCiAgLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BtYXRlcmlhbCt3ZWJAMi4zLjAvbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC93ZWIvc2xpZGVyL3NsaWRlci5qcwogIHZhciBNZFNsaWRlciA9IGNsYXNzIE1kU2xpZGVyMiBleHRlbmRzIFNsaWRlciB7CiAgfTsKICBNZFNsaWRlci5zdHlsZXMgPSBbc3R5bGVzMTQsIHN0eWxlczEzXTsKICBNZFNsaWRlciA9IF9fZGVjb3JhdGUoWwogICAgdCgibWQtc2xpZGVyIikKICBdLCBNZFNsaWRlcik7CgogIC8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbWF0ZXJpYWwrd2ViQDIuMy4wL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvd2ViL3R5cG9ncmFwaHkvbWQtdHlwZXNjYWxlLXN0eWxlcy5qcwogIHZhciBzdHlsZXMxNSA9IGlgQGxheWVyey5tZC10eXBlc2NhbGUtZGlzcGxheS1zbWFsbCwubWQtdHlwZXNjYWxlLWRpc3BsYXktc21hbGwtcHJvbWluZW50e2ZvbnQ6dmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1kaXNwbGF5LXNtYWxsLXdlaWdodCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLXdlaWdodC1yZWd1bGFyLCA0MDApKSB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWRpc3BsYXktc21hbGwtc2l6ZSwgMi4yNXJlbSkvdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1kaXNwbGF5LXNtYWxsLWxpbmUtaGVpZ2h0LCAyLjc1cmVtKSB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWRpc3BsYXktc21hbGwtZm9udCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLWJyYW5kLCBSb2JvdG8pKX0ubWQtdHlwZXNjYWxlLWRpc3BsYXktbWVkaXVtLC5tZC10eXBlc2NhbGUtZGlzcGxheS1tZWRpdW0tcHJvbWluZW50e2ZvbnQ6dmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1kaXNwbGF5LW1lZGl1bS13ZWlnaHQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS13ZWlnaHQtcmVndWxhciwgNDAwKSkgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1kaXNwbGF5LW1lZGl1bS1zaXplLCAyLjgxMjVyZW0pL3ZhcigtLW1kLXN5cy10eXBlc2NhbGUtZGlzcGxheS1tZWRpdW0tbGluZS1oZWlnaHQsIDMuMjVyZW0pIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtZGlzcGxheS1tZWRpdW0tZm9udCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLWJyYW5kLCBSb2JvdG8pKX0ubWQtdHlwZXNjYWxlLWRpc3BsYXktbGFyZ2UsLm1kLXR5cGVzY2FsZS1kaXNwbGF5LWxhcmdlLXByb21pbmVudHtmb250OnZhcigtLW1kLXN5cy10eXBlc2NhbGUtZGlzcGxheS1sYXJnZS13ZWlnaHQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS13ZWlnaHQtcmVndWxhciwgNDAwKSkgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1kaXNwbGF5LWxhcmdlLXNpemUsIDMuNTYyNXJlbSkvdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1kaXNwbGF5LWxhcmdlLWxpbmUtaGVpZ2h0LCA0cmVtKSB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWRpc3BsYXktbGFyZ2UtZm9udCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLWJyYW5kLCBSb2JvdG8pKX0ubWQtdHlwZXNjYWxlLWhlYWRsaW5lLXNtYWxsLC5tZC10eXBlc2NhbGUtaGVhZGxpbmUtc21hbGwtcHJvbWluZW50e2ZvbnQ6dmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1oZWFkbGluZS1zbWFsbC13ZWlnaHQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS13ZWlnaHQtcmVndWxhciwgNDAwKSkgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1oZWFkbGluZS1zbWFsbC1zaXplLCAxLjVyZW0pL3ZhcigtLW1kLXN5cy10eXBlc2NhbGUtaGVhZGxpbmUtc21hbGwtbGluZS1oZWlnaHQsIDJyZW0pIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtaGVhZGxpbmUtc21hbGwtZm9udCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLWJyYW5kLCBSb2JvdG8pKX0ubWQtdHlwZXNjYWxlLWhlYWRsaW5lLW1lZGl1bSwubWQtdHlwZXNjYWxlLWhlYWRsaW5lLW1lZGl1bS1wcm9taW5lbnR7Zm9udDp2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWhlYWRsaW5lLW1lZGl1bS13ZWlnaHQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS13ZWlnaHQtcmVndWxhciwgNDAwKSkgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1oZWFkbGluZS1tZWRpdW0tc2l6ZSwgMS43NXJlbSkvdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1oZWFkbGluZS1tZWRpdW0tbGluZS1oZWlnaHQsIDIuMjVyZW0pIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtaGVhZGxpbmUtbWVkaXVtLWZvbnQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS1icmFuZCwgUm9ib3RvKSl9Lm1kLXR5cGVzY2FsZS1oZWFkbGluZS1sYXJnZSwubWQtdHlwZXNjYWxlLWhlYWRsaW5lLWxhcmdlLXByb21pbmVudHtmb250OnZhcigtLW1kLXN5cy10eXBlc2NhbGUtaGVhZGxpbmUtbGFyZ2Utd2VpZ2h0LCB2YXIoLS1tZC1yZWYtdHlwZWZhY2Utd2VpZ2h0LXJlZ3VsYXIsIDQwMCkpIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtaGVhZGxpbmUtbGFyZ2Utc2l6ZSwgMnJlbSkvdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1oZWFkbGluZS1sYXJnZS1saW5lLWhlaWdodCwgMi41cmVtKSB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWhlYWRsaW5lLWxhcmdlLWZvbnQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS1icmFuZCwgUm9ib3RvKSl9Lm1kLXR5cGVzY2FsZS10aXRsZS1zbWFsbCwubWQtdHlwZXNjYWxlLXRpdGxlLXNtYWxsLXByb21pbmVudHtmb250OnZhcigtLW1kLXN5cy10eXBlc2NhbGUtdGl0bGUtc21hbGwtd2VpZ2h0LCB2YXIoLS1tZC1yZWYtdHlwZWZhY2Utd2VpZ2h0LW1lZGl1bSwgNTAwKSkgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS10aXRsZS1zbWFsbC1zaXplLCAwLjg3NXJlbSkvdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS10aXRsZS1zbWFsbC1saW5lLWhlaWdodCwgMS4yNXJlbSkgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS10aXRsZS1zbWFsbC1mb250LCB2YXIoLS1tZC1yZWYtdHlwZWZhY2UtcGxhaW4sIFJvYm90bykpfS5tZC10eXBlc2NhbGUtdGl0bGUtbWVkaXVtLC5tZC10eXBlc2NhbGUtdGl0bGUtbWVkaXVtLXByb21pbmVudHtmb250OnZhcigtLW1kLXN5cy10eXBlc2NhbGUtdGl0bGUtbWVkaXVtLXdlaWdodCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLXdlaWdodC1tZWRpdW0sIDUwMCkpIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtdGl0bGUtbWVkaXVtLXNpemUsIDFyZW0pL3ZhcigtLW1kLXN5cy10eXBlc2NhbGUtdGl0bGUtbWVkaXVtLWxpbmUtaGVpZ2h0LCAxLjVyZW0pIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtdGl0bGUtbWVkaXVtLWZvbnQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS1wbGFpbiwgUm9ib3RvKSl9Lm1kLXR5cGVzY2FsZS10aXRsZS1sYXJnZSwubWQtdHlwZXNjYWxlLXRpdGxlLWxhcmdlLXByb21pbmVudHtmb250OnZhcigtLW1kLXN5cy10eXBlc2NhbGUtdGl0bGUtbGFyZ2Utd2VpZ2h0LCB2YXIoLS1tZC1yZWYtdHlwZWZhY2Utd2VpZ2h0LXJlZ3VsYXIsIDQwMCkpIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtdGl0bGUtbGFyZ2Utc2l6ZSwgMS4zNzVyZW0pL3ZhcigtLW1kLXN5cy10eXBlc2NhbGUtdGl0bGUtbGFyZ2UtbGluZS1oZWlnaHQsIDEuNzVyZW0pIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtdGl0bGUtbGFyZ2UtZm9udCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLWJyYW5kLCBSb2JvdG8pKX0ubWQtdHlwZXNjYWxlLWJvZHktc21hbGwsLm1kLXR5cGVzY2FsZS1ib2R5LXNtYWxsLXByb21pbmVudHtmb250OnZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1zbWFsbC13ZWlnaHQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS13ZWlnaHQtcmVndWxhciwgNDAwKSkgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1ib2R5LXNtYWxsLXNpemUsIDAuNzVyZW0pL3ZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1zbWFsbC1saW5lLWhlaWdodCwgMXJlbSkgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1ib2R5LXNtYWxsLWZvbnQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS1wbGFpbiwgUm9ib3RvKSl9Lm1kLXR5cGVzY2FsZS1ib2R5LW1lZGl1bSwubWQtdHlwZXNjYWxlLWJvZHktbWVkaXVtLXByb21pbmVudHtmb250OnZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1tZWRpdW0td2VpZ2h0LCB2YXIoLS1tZC1yZWYtdHlwZWZhY2Utd2VpZ2h0LXJlZ3VsYXIsIDQwMCkpIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1tZWRpdW0tc2l6ZSwgMC44NzVyZW0pL3ZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1tZWRpdW0tbGluZS1oZWlnaHQsIDEuMjVyZW0pIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1tZWRpdW0tZm9udCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLXBsYWluLCBSb2JvdG8pKX0ubWQtdHlwZXNjYWxlLWJvZHktbGFyZ2UsLm1kLXR5cGVzY2FsZS1ib2R5LWxhcmdlLXByb21pbmVudHtmb250OnZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1sYXJnZS13ZWlnaHQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS13ZWlnaHQtcmVndWxhciwgNDAwKSkgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1ib2R5LWxhcmdlLXNpemUsIDFyZW0pL3ZhcigtLW1kLXN5cy10eXBlc2NhbGUtYm9keS1sYXJnZS1saW5lLWhlaWdodCwgMS41cmVtKSB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWJvZHktbGFyZ2UtZm9udCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLXBsYWluLCBSb2JvdG8pKX0ubWQtdHlwZXNjYWxlLWxhYmVsLXNtYWxsLC5tZC10eXBlc2NhbGUtbGFiZWwtc21hbGwtcHJvbWluZW50e2ZvbnQ6dmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1sYWJlbC1zbWFsbC13ZWlnaHQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS13ZWlnaHQtbWVkaXVtLCA1MDApKSB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWxhYmVsLXNtYWxsLXNpemUsIDAuNjg3NXJlbSkvdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1sYWJlbC1zbWFsbC1saW5lLWhlaWdodCwgMXJlbSkgdmFyKC0tbWQtc3lzLXR5cGVzY2FsZS1sYWJlbC1zbWFsbC1mb250LCB2YXIoLS1tZC1yZWYtdHlwZWZhY2UtcGxhaW4sIFJvYm90bykpfS5tZC10eXBlc2NhbGUtbGFiZWwtbWVkaXVtLC5tZC10eXBlc2NhbGUtbGFiZWwtbWVkaXVtLXByb21pbmVudHtmb250OnZhcigtLW1kLXN5cy10eXBlc2NhbGUtbGFiZWwtbWVkaXVtLXdlaWdodCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLXdlaWdodC1tZWRpdW0sIDUwMCkpIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtbGFiZWwtbWVkaXVtLXNpemUsIDAuNzVyZW0pL3ZhcigtLW1kLXN5cy10eXBlc2NhbGUtbGFiZWwtbWVkaXVtLWxpbmUtaGVpZ2h0LCAxcmVtKSB2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWxhYmVsLW1lZGl1bS1mb250LCB2YXIoLS1tZC1yZWYtdHlwZWZhY2UtcGxhaW4sIFJvYm90bykpfS5tZC10eXBlc2NhbGUtbGFiZWwtbWVkaXVtLXByb21pbmVudHtmb250LXdlaWdodDp2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWxhYmVsLW1lZGl1bS13ZWlnaHQtcHJvbWluZW50LCB2YXIoLS1tZC1yZWYtdHlwZWZhY2Utd2VpZ2h0LWJvbGQsIDcwMCkpfS5tZC10eXBlc2NhbGUtbGFiZWwtbGFyZ2UsLm1kLXR5cGVzY2FsZS1sYWJlbC1sYXJnZS1wcm9taW5lbnR7Zm9udDp2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWxhYmVsLWxhcmdlLXdlaWdodCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLXdlaWdodC1tZWRpdW0sIDUwMCkpIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtbGFiZWwtbGFyZ2Utc2l6ZSwgMC44NzVyZW0pL3ZhcigtLW1kLXN5cy10eXBlc2NhbGUtbGFiZWwtbGFyZ2UtbGluZS1oZWlnaHQsIDEuMjVyZW0pIHZhcigtLW1kLXN5cy10eXBlc2NhbGUtbGFiZWwtbGFyZ2UtZm9udCwgdmFyKC0tbWQtcmVmLXR5cGVmYWNlLXBsYWluLCBSb2JvdG8pKX0ubWQtdHlwZXNjYWxlLWxhYmVsLWxhcmdlLXByb21pbmVudHtmb250LXdlaWdodDp2YXIoLS1tZC1zeXMtdHlwZXNjYWxlLWxhYmVsLWxhcmdlLXdlaWdodC1wcm9taW5lbnQsIHZhcigtLW1kLXJlZi10eXBlZmFjZS13ZWlnaHQtYm9sZCwgNzAwKSl9fQpgOwoKICAvLyBzY3JpcHQuanMKICBkb2N1bWVudC5hZG9wdGVkU3R5bGVTaGVldHMucHVzaChzdHlsZXMxNS5zdHlsZVNoZWV0KTsKICB2YXIgYmFja2dyb3VuZDsKICB2YXIgZGlzcGxheVVuaXRzID0gW107CiAgdmFyIGN1cnJlbnRVbml0SW5kZXggPSAwOwogIHZhciBpc1BsYXlpbmcgPSBmYWxzZTsKICB2YXIgZGlzcGxheVRpbWVyID0gbnVsbDsKICB2YXIgZnVsbEFydGljbGUgPSAiIjsKICB2YXIgd29yZFRva2VuUmVnZXggPSAvW1x1NGUwMC1cdTlmYTVcdTMxMDUtXHUzMTI5XHUwMkNBXHUwMkM3XHUwMkNCXHUwMkQ5XXxbYS16QS1aMC05XSsvZzsKICB2YXIgdGV4dElucHV0OwogIHZhciBwbGF5QnV0dG9uOwogIHZhciBzdG9wQnV0dG9uOwogIHZhciBzcGVlZFNsaWRlcjsKICB2YXIgc3RhdHVzRGl2OwogIHZhciBjdXJyZW50V29yZERpc3BsYXk7CiAgdmFyIHNwbGl0TW9kZVJhZGlvczsKICB2YXIgZm9udENvbG9yUGlja2VyOwogIHZhciBiZ0NvbG9yUGlja2VyOwogIHZhciBkaWZmaWN1bHR5UmFkaW9zOwogIHZhciBnZW5lcmF0ZUFydGljbGVCdXR0b247CiAgdmFyIGFpU2VjdGlvbjsKICB2YXIgcXVlc3Rpb25Db250YWluZXI7CiAgdmFyIGFuc3dlcklucHV0OwogIHZhciBzdWJtaXRBbnN3ZXJCdXR0b247CiAgdmFyIGZlZWRiYWNrUDsKICB2YXIgZnVsbEFydGljbGVDb250YWluZXI7CiAgdmFyIGZ1bGxBcnRpY2xlUDsKICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUFydGljbGUoKSB7CiAgICBjb25zdCBkaWZmaWN1bHR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT0iZGlmZmljdWx0eSJdOmNoZWNrZWQnKS52YWx1ZTsKICAgIGxldCBhcnRpY2xlTGVuZ3RoOwogICAgc3dpdGNoIChkaWZmaWN1bHR5KSB7CiAgICAgIGNhc2UgImVhc3kiOgogICAgICAgIGFydGljbGVMZW5ndGggPSAxMDA7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgIm1lZGl1bSI6CiAgICAgICAgYXJ0aWNsZUxlbmd0aCA9IDMwMDsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAiaGFyZCI6CiAgICAgICAgYXJ0aWNsZUxlbmd0aCA9IDUwMDsKICAgICAgICBicmVhazsKICAgIH0KICAgIHN0YXR1c0Rpdi50ZXh0Q29udGVudCA9ICJcdTZCNjNcdTU3MjhcdTc1MUZcdTYyMTBcdTY1ODdcdTdBRTAuLi4iOwogICAgZ2VuZXJhdGVBcnRpY2xlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTsKICAgIGFpU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKTsKICAgIHF1ZXN0aW9uQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpOwogICAgZnVsbEFydGljbGVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIik7CiAgICBmZWVkYmFja1AudGV4dENvbnRlbnQgPSAiIjsKICAgIGFuc3dlcklucHV0LnZhbHVlID0gIiI7CiAgICB0cnkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCJodHRwczovLzYxNTYxNTAueHl6L3NwZWVkcmVhZGVyL2FwaS9kZWVwc2VlayIsIHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgfSwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBtZXNzYWdlczogW3sgcm9sZTogInN5c3RlbSIsIGNvbnRlbnQ6IGBcdThBQ0JcdTc1MUZcdTYyMTBcdTRFMDBcdTdCQzdcdTk1NzdcdTVFQTZcdTdEMDRcdTcwQkEgJHthcnRpY2xlTGVuZ3RofSBcdTVCNTdcdTc2ODRcdTRFMkRcdTY1ODdcdTY1ODdcdTdBRTBcdUZGMENcdTRFMjZcdTU3MjhcdTY1ODdcdTdBRTBcdTY3MDBcdTVGOENcdTc1MUZcdTYyMTBcdTRFMDBcdTUwMEJcdTgyMDdcdTUxNjdcdTY1ODdcdTc2RjhcdTk1RENcdTc2ODRcdTVDMDFcdTk1ODlcdTYwMjdcdTU1NEZcdTk4NENcdTMwMDJgIH1dLAogICAgICAgICAgbW9kZWw6ICJkZWVwc2Vlay1jaGF0IgogICAgICAgIH0pCiAgICAgIH0pOwogICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7CiAgICAgICAgbGV0IGVycm9yVGV4dDsKICAgICAgICB0cnkgewogICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuY2xvbmUoKS5qc29uKCk7CiAgICAgICAgICBlcnJvclRleHQgPSBlcnJvckRhdGEuZXJyb3IgfHwgSlNPTi5zdHJpbmdpZnkoZXJyb3JEYXRhKTsKICAgICAgICB9IGNhdGNoIChlOCkgewogICAgICAgICAgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpOwogICAgICAgIH0KICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JUZXh0KTsKICAgICAgfQogICAgICBjb25zdCBjb21wbGV0aW9uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwogICAgICBjb25zdCByZXNwb25zZVRleHQgPSBjb21wbGV0aW9uLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50OwogICAgICBjb25zdCBsYXN0UXVlc3Rpb25NYXJrSW5kZXggPSByZXNwb25zZVRleHQubGFzdEluZGV4T2YoIlx1RkYxRiIpOwogICAgICBhaVNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgiaGlkZGVuIik7CiAgICAgIHF1ZXN0aW9uQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoImhpZGRlbiIpOwogICAgICBpZiAobGFzdFF1ZXN0aW9uTWFya0luZGV4ICE9PSAtMSkgewogICAgICAgIGZ1bGxBcnRpY2xlID0gcmVzcG9uc2VUZXh0LnN1YnN0cmluZygwLCBsYXN0UXVlc3Rpb25NYXJrSW5kZXggKyAxKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmdWxsQXJ0aWNsZSA9IHJlc3BvbnNlVGV4dDsKICAgICAgfQogICAgICB0ZXh0SW5wdXQudmFsdWUgPSAiIjsKICAgICAgdXBkYXRlRGlzcGxheVVuaXRzKGZ1bGxBcnRpY2xlKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGdlbmVyYXRpbmcgYXJ0aWNsZToiLCBlcnJvcik7CiAgICAgIGxldCBkaXNwbGF5RXJyb3IgPSBlcnJvci5tZXNzYWdlOwogICAgICBpZiAoZGlzcGxheUVycm9yLnRyaW0oKS5zdGFydHNXaXRoKCI8IURPQ1RZUEUgaHRtbD4iKSkgewogICAgICAgIGRpc3BsYXlFcnJvciA9ICJcdTgyMDdcdTVGOENcdTdBRUZcdTY3MERcdTUyRDlcdTc2ODRcdTkwMjNcdTdEREFcdTkwM0VcdTY2NDJcdUZGMENcdThBQ0JcdTdBMERcdTVGOENcdTUxOERcdThBNjZcdTMwMDIoRXJyb3IgNTIyKSI7CiAgICAgIH0KICAgICAgc3RhdHVzRGl2LnRleHRDb250ZW50ID0gYFx1NzUxRlx1NjIxMFx1NjU4N1x1N0FFMFx1NTkzMVx1NjU1NzogJHtkaXNwbGF5RXJyb3J9YDsKICAgIH0gZmluYWxseSB7CiAgICAgIGdlbmVyYXRlQXJ0aWNsZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlOwogICAgfQogIH0KICBhc3luYyBmdW5jdGlvbiBjaGVja0Fuc3dlcigpIHsKICAgIGNvbnN0IGFuc3dlciA9IGFuc3dlcklucHV0LnZhbHVlLnRyaW0oKTsKICAgIGlmICghYW5zd2VyKSB7CiAgICAgIGZlZWRiYWNrUC50ZXh0Q29udGVudCA9ICJcdThBQ0JcdThGMzhcdTUxNjVcdTdCNTRcdTY4NDhcdTMwMDIiOwogICAgICByZXR1cm47CiAgICB9CiAgICBmZWVkYmFja1AudGV4dENvbnRlbnQgPSAiXHU2QjYzXHU1NzI4XHU2QUEyXHU2N0U1XHU3QjU0XHU2ODQ4Li4uIjsKICAgIHN1Ym1pdEFuc3dlckJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7CiAgICB0cnkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCJodHRwczovLzYxNTYxNTAueHl6L3NwZWVkcmVhZGVyL2FwaS9kZWVwc2VlayIsIHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgfSwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBtZXNzYWdlczogWwogICAgICAgICAgICB7IHJvbGU6ICJzeXN0ZW0iLCBjb250ZW50OiAiWW91IGFyZSBhIGhlbHBmdWwgYXNzaXN0YW50LiIgfSwKICAgICAgICAgICAgeyByb2xlOiAidXNlciIsIGNvbnRlbnQ6IGBcdTkwMTlcdTY2MkZcdTY1ODdcdTdBRTBcdUZGMUEke2Z1bGxBcnRpY2xlfWAgfSwKICAgICAgICAgICAgeyByb2xlOiAidXNlciIsIGNvbnRlbnQ6IGBcdTkwMTlcdTY2MkZcdTRGN0ZcdTc1MjhcdTgwMDVcdTc2ODRcdTU2REVcdTdCNTRcdUZGMUEke2Fuc3dlcn1gIH0sCiAgICAgICAgICAgIHsgcm9sZTogInVzZXIiLCBjb250ZW50OiBgXHU4QUNCXHU1MjI0XHU2NUI3XHU5MDE5XHU1MDBCXHU1NkRFXHU3QjU0XHU2NjJGXHU1NDI2XHU2QjYzXHU3OEJBXHVGRjBDXHU0RTI2XHU3QzIxXHU3N0VEXHU1NzMwXHU3NTI4XHU0RTJEXHU2NTg3XHU1NkRFXHU3QjU0XHUzMDBDXHU2QjYzXHU3OEJBXHUzMDBEXHU2MjE2XHUzMDBDXHU0RTBEXHU2QjYzXHU3OEJBXHVGRjBDXHU1MzlGXHU1NkUwXHU2NjJGLi4uXHUzMDBEXHUzMDAyYCB9CiAgICAgICAgICBdLAogICAgICAgICAgbW9kZWw6ICJkZWVwc2Vlay1jaGF0IgogICAgICAgIH0pCiAgICAgIH0pOwogICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7CiAgICAgICAgbGV0IGVycm9yVGV4dDsKICAgICAgICB0cnkgewogICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuY2xvbmUoKS5qc29uKCk7CiAgICAgICAgICBlcnJvclRleHQgPSBlcnJvckRhdGEuZXJyb3IgfHwgSlNPTi5zdHJpbmdpZnkoZXJyb3JEYXRhKTsKICAgICAgICB9IGNhdGNoIChlOCkgewogICAgICAgICAgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpOwogICAgICAgIH0KICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JUZXh0KTsKICAgICAgfQogICAgICBjb25zdCBjb21wbGV0aW9uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwogICAgICBmZWVkYmFja1AudGV4dENvbnRlbnQgPSBjb21wbGV0aW9uLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50OwogICAgICBmdWxsQXJ0aWNsZVAudGV4dENvbnRlbnQgPSBmdWxsQXJ0aWNsZTsKICAgICAgZnVsbEFydGljbGVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgiaGlkZGVuIik7CiAgICAgIHRleHRJbnB1dC52YWx1ZSA9IGZ1bGxBcnRpY2xlOwogICAgICB1cGRhdGVEaXNwbGF5VW5pdHMoKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGNoZWNraW5nIGFuc3dlcjoiLCBlcnJvcik7CiAgICAgIGxldCBkaXNwbGF5RXJyb3IgPSBlcnJvci5tZXNzYWdlOwogICAgICBpZiAoZGlzcGxheUVycm9yLnRyaW0oKS5zdGFydHNXaXRoKCI8IURPQ1RZUEUgaHRtbD4iKSkgewogICAgICAgIGRpc3BsYXlFcnJvciA9ICJcdTgyMDdcdTVGOENcdTdBRUZcdTY3MERcdTUyRDlcdTc2ODRcdTkwMjNcdTdEREFcdTkwM0VcdTY2NDJcdUZGMENcdThBQ0JcdTdBMERcdTVGOENcdTUxOERcdThBNjZcdTMwMDIoRXJyb3IgNTIyKSI7CiAgICAgIH0KICAgICAgZmVlZGJhY2tQLnRleHRDb250ZW50ID0gYFx1NkFBMlx1NjdFNVx1N0I1NFx1Njg0OFx1NTkzMVx1NjU1NzogJHtkaXNwbGF5RXJyb3J9YDsKICAgIH0gZmluYWxseSB7CiAgICAgIHN1Ym1pdEFuc3dlckJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlOwogICAgfQogIH0KICBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5VW5pdHMoc291cmNlVGV4dCA9IG51bGwpIHsKICAgIGNvbnN0IGlzQWlUYWIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmFkaW8tMSIpLmNoZWNrZWQ7CiAgICBsZXQgdGV4dFRvUHJvY2VzcyA9ICIiOwogICAgaWYgKHNvdXJjZVRleHQgIT09IG51bGwpIHsKICAgICAgdGV4dFRvUHJvY2VzcyA9IHNvdXJjZVRleHQudHJpbSgpOwogICAgfSBlbHNlIHsKICAgICAgdGV4dFRvUHJvY2VzcyA9IGlzQWlUYWIgPyBmdWxsQXJ0aWNsZS50cmltKCkgOiB0ZXh0SW5wdXQudmFsdWUudHJpbSgpOwogICAgfQogICAgY29uc3QgY3VycmVudFNwbGl0TW9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9InNwbGl0TW9kZSJdOmNoZWNrZWQnKS52YWx1ZTsKICAgIGlmIChjdXJyZW50U3BsaXRNb2RlID09PSAid29yZCIpIHsKICAgICAgZGlzcGxheVVuaXRzID0gdGV4dFRvUHJvY2Vzcy5tYXRjaCh3b3JkVG9rZW5SZWdleCkgfHwgW107CiAgICB9IGVsc2UgewogICAgICBjb25zdCByYXdTZW50ZW5jZXMgPSB0ZXh0VG9Qcm9jZXNzLm1hdGNoKC9bXuOAgu+8ge+8n++8m1xuXStb44CC77yB77yf77ybXT8vZykgfHwgW107CiAgICAgIGRpc3BsYXlVbml0cyA9IFtdOwogICAgICBmb3IgKGNvbnN0IGluaXRpYWxTZW50ZW5jZSBvZiByYXdTZW50ZW5jZXMpIHsKICAgICAgICBjb25zdCB0cmltbWVkSW5pdGlhbFNlbnRlbmNlID0gaW5pdGlhbFNlbnRlbmNlLnRyaW0oKTsKICAgICAgICBpZiAodHJpbW1lZEluaXRpYWxTZW50ZW5jZS5sZW5ndGggPT09IDApIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgICBsZXQgY3VycmVudEluZGV4SW5TZW50ZW5jZSA9IDA7CiAgICAgICAgd2hpbGUgKGN1cnJlbnRJbmRleEluU2VudGVuY2UgPCB0cmltbWVkSW5pdGlhbFNlbnRlbmNlLmxlbmd0aCkgewogICAgICAgICAgbGV0IG5leHRDb21tYUluZGV4ID0gdHJpbW1lZEluaXRpYWxTZW50ZW5jZS5pbmRleE9mKCJcdUZGMEMiLCBjdXJyZW50SW5kZXhJblNlbnRlbmNlKTsKICAgICAgICAgIGlmIChuZXh0Q29tbWFJbmRleCAhPT0gLTEpIHsKICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IHRyaW1tZWRJbml0aWFsU2VudGVuY2Uuc3Vic3RyaW5nKGN1cnJlbnRJbmRleEluU2VudGVuY2UsIG5leHRDb21tYUluZGV4ICsgMSk7CiAgICAgICAgICAgIGlmIChzZWdtZW50LnRyaW0oKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgZGlzcGxheVVuaXRzLnB1c2goc2VnbWVudC50cmltKCkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGN1cnJlbnRJbmRleEluU2VudGVuY2UgPSBuZXh0Q29tbWFJbmRleCArIDE7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gdHJpbW1lZEluaXRpYWxTZW50ZW5jZS5zdWJzdHJpbmcoY3VycmVudEluZGV4SW5TZW50ZW5jZSk7CiAgICAgICAgICAgIGlmIChzZWdtZW50LnRyaW0oKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgZGlzcGxheVVuaXRzLnB1c2goc2VnbWVudC50cmltKCkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBkaXNwbGF5VW5pdHMgPSBkaXNwbGF5VW5pdHMuZmlsdGVyKChzNCkgPT4gczQubGVuZ3RoID4gMCk7CiAgICB9CiAgICBwbGF5QnV0dG9uLmRpc2FibGVkID0gZGlzcGxheVVuaXRzLmxlbmd0aCA9PT0gMDsKICAgIGlmIChkaXNwbGF5VW5pdHMubGVuZ3RoID4gMCkgewogICAgICBpZiAoY3VycmVudFNwbGl0TW9kZSA9PT0gIndvcmQiKSB7CiAgICAgICAgc3RhdHVzRGl2LnRleHRDb250ZW50ID0gYFx1NTE3MVx1NjI3RVx1NTIzMCAke2Rpc3BsYXlVbml0cy5sZW5ndGh9IFx1NTAwQlx1NTNFRlx1OTg2Rlx1NzkzQVx1NUI1Ny9cdThBNUUgKFx1NURGMlx1NUZGRFx1NzU2NVx1NkExOVx1OUVERSlcdTMwMDJgOwogICAgICB9IGVsc2UgewogICAgICAgIHN0YXR1c0Rpdi50ZXh0Q29udGVudCA9IGBcdTUxNzFcdTYyN0VcdTUyMzAgJHtkaXNwbGF5VW5pdHMubGVuZ3RofSBcdTUwMEJcdTk4NkZcdTc5M0FcdTZCQjVcdTg0M0RcdTMwMDJgOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBpZiAoaXNBaVRhYikgewogICAgICAgIHN0YXR1c0Rpdi50ZXh0Q29udGVudCA9ICIiOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChjdXJyZW50U3BsaXRNb2RlID09PSAid29yZCIpIHsKICAgICAgICAgIHN0YXR1c0Rpdi50ZXh0Q29udGVudCA9ICJcdThBQ0JcdThGMzhcdTUxNjVcdTUzRUZcdTY0QURcdTY1M0VcdTc2ODRcdTY1ODdcdTVCNTcgKFx1NUI1Ny9cdThBNUVcdTZBMjFcdTVGMEYpXHUzMDAyIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RhdHVzRGl2LnRleHRDb250ZW50ID0gIlx1OEFDQlx1OEYzOFx1NTE2NVx1NTNFRlx1NjRBRFx1NjUzRVx1NzY4NFx1NjU4N1x1NUI1NyAoXHU1M0U1XHU1QjUwL1x1NkJCNVx1ODQzRFx1NkEyMVx1NUYwRilcdTMwMDIiOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgY3VycmVudFVuaXRJbmRleCA9IDA7CiAgICBpZiAoIWlzUGxheWluZykgewogICAgICBjdXJyZW50V29yZERpc3BsYXkudGV4dENvbnRlbnQgPSAiIjsKICAgIH0KICB9CiAgZnVuY3Rpb24gcGxheU5leHRVbml0KCkgewogICAgaWYgKCFpc1BsYXlpbmcgfHwgY3VycmVudFVuaXRJbmRleCA+PSBkaXNwbGF5VW5pdHMubGVuZ3RoKSB7CiAgICAgIHN0b3BQbGF5aW5nKCk7CiAgICAgIGlmIChjdXJyZW50VW5pdEluZGV4ID49IGRpc3BsYXlVbml0cy5sZW5ndGggJiYgZGlzcGxheVVuaXRzLmxlbmd0aCA+IDApIHsKICAgICAgICBzdGF0dXNEaXYudGV4dENvbnRlbnQgPSAiXHU2NEFEXHU2NTNFXHU1QjhDXHU3NTYyXHUzMDAyIjsKICAgICAgfQogICAgICByZXR1cm47CiAgICB9CiAgICBjb25zdCBjdXJyZW50VG9rZW4gPSBkaXNwbGF5VW5pdHNbY3VycmVudFVuaXRJbmRleF07CiAgICBjdXJyZW50V29yZERpc3BsYXkudGV4dENvbnRlbnQgPSBjdXJyZW50VG9rZW47CiAgICBjb25zdCBiYXNlRm9udFNpemVWVyA9IDc7CiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT0ic3BsaXRNb2RlIl06Y2hlY2tlZCcpLnZhbHVlID09PSAic2VudGVuY2UiKSB7CiAgICAgIGxldCBmb250U2l6ZSA9IGJhc2VGb250U2l6ZVZXOwogICAgICBpZiAoY3VycmVudFRva2VuLmxlbmd0aCA+IDQwKSB7CiAgICAgICAgZm9udFNpemUgPSBiYXNlRm9udFNpemVWVyAqIDAuNjsKICAgICAgfSBlbHNlIGlmIChjdXJyZW50VG9rZW4ubGVuZ3RoID4gMjApIHsKICAgICAgICBmb250U2l6ZSA9IGJhc2VGb250U2l6ZVZXICogMC44OwogICAgICB9CiAgICAgIGN1cnJlbnRXb3JkRGlzcGxheS5zdHlsZS5mb250U2l6ZSA9IGAke2ZvbnRTaXplfXZ3YDsKICAgIH0gZWxzZSB7CiAgICAgIGxldCB3b3JkRm9udFNpemUgPSBiYXNlRm9udFNpemVWVyAqIDEuODsKICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDc2OCkgewogICAgICAgIHdvcmRGb250U2l6ZSA9IGJhc2VGb250U2l6ZVZXICogMi4yOwogICAgICB9CiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSA0ODApIHsKICAgICAgICB3b3JkRm9udFNpemUgPSBiYXNlRm9udFNpemVWVyAqIDIuNTsKICAgICAgfQogICAgICBjdXJyZW50V29yZERpc3BsYXkuc3R5bGUuZm9udFNpemUgPSBgJHt3b3JkRm9udFNpemV9dndgOwogICAgfQogICAgY29uc3QgdG9rZW5zUGVyTWludXRlID0gcGFyc2VJbnQoc3BlZWRTbGlkZXIudmFsdWUpIHx8IDEyMDsKICAgIGNvbnN0IHNhZmVUb2tlbnNQZXJNaW51dGUgPSBNYXRoLm1heCgxLCB0b2tlbnNQZXJNaW51dGUpOwogICAgY29uc3QgZGVsYXkgPSA2MCAvIHNhZmVUb2tlbnNQZXJNaW51dGUgKiAxZTM7CiAgICBjb25zb2xlLmxvZyhgRGlzcGxheWluZzogIiR7Y3VycmVudFRva2VufSIsIFNwZWVkOiAke3Rva2Vuc1Blck1pbnV0ZX0gVFBNLCBEZWxheTogJHtkZWxheS50b0ZpeGVkKDIpfW1zLCBNb2RlOiAke2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9InNwbGl0TW9kZSJdOmNoZWNrZWQnKS52YWx1ZX1gKTsKICAgIGN1cnJlbnRVbml0SW5kZXgrKzsKICAgIGRpc3BsYXlUaW1lciA9IHNldFRpbWVvdXQocGxheU5leHRVbml0LCBkZWxheSk7CiAgfQogIGZ1bmN0aW9uIHN0b3BQbGF5aW5nKCkgewogICAgaXNQbGF5aW5nID0gZmFsc2U7CiAgICBpZiAoZGlzcGxheVRpbWVyKSB7CiAgICAgIGNsZWFyVGltZW91dChkaXNwbGF5VGltZXIpOwogICAgICBkaXNwbGF5VGltZXIgPSBudWxsOwogICAgfQogICAgdGV4dElucHV0LmRpc2FibGVkID0gZmFsc2U7CiAgICBzcGVlZFNsaWRlci5kaXNhYmxlZCA9IGZhbHNlOwogICAgZm9yIChjb25zdCByYWRpbyBvZiBzcGxpdE1vZGVSYWRpb3MpIHsKICAgICAgcmFkaW8uZGlzYWJsZWQgPSBmYWxzZTsKICAgIH0KICAgIGZvbnRDb2xvclBpY2tlci5kaXNhYmxlZCA9IGZhbHNlOwogICAgYmdDb2xvclBpY2tlci5kaXNhYmxlZCA9IGZhbHNlOwogICAgc3RvcEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7CiAgICBwbGF5QnV0dG9uLmRpc2FibGVkID0gZGlzcGxheVVuaXRzLmxlbmd0aCA9PT0gMDsKICAgIGlmIChzdGF0dXNEaXYudGV4dENvbnRlbnQgPT09ICJcdTY0QURcdTY1M0VcdTVCOENcdTc1NjJcdTMwMDIiIHx8IHN0YXR1c0Rpdi50ZXh0Q29udGVudCA9PT0gIlx1NkI2M1x1NTcyOFx1NjRBRFx1NjUzRS4uLiIpIHsKICAgICAgdXBkYXRlRGlzcGxheVVuaXRzKCk7CiAgICB9IGVsc2UgaWYgKGRpc3BsYXlVbml0cy5sZW5ndGggPiAwKSB7CiAgICAgIHN0YXR1c0Rpdi50ZXh0Q29udGVudCA9ICJcdTY0QURcdTY1M0VcdTVERjJcdTUwNUNcdTZCNjJcdTMwMDIiOwogICAgfSBlbHNlIHsKICAgICAgc3RhdHVzRGl2LnRleHRDb250ZW50ID0gIlx1OEFDQlx1OEYzOFx1NTE2NVx1NjU4N1x1NUI1N1x1MzAwMiI7CiAgICB9CiAgICBpZiAoYmFja2dyb3VuZCkgewogICAgICBiYWNrZ3JvdW5kLmNvbG9ycyhbYmdDb2xvclBpY2tlci52YWx1ZSwgYmdDb2xvclBpY2tlci52YWx1ZSwgYmdDb2xvclBpY2tlci52YWx1ZSwgYmdDb2xvclBpY2tlci52YWx1ZV0pOwogICAgfQogIH0KICBmdW5jdGlvbiBpbml0aWFsaXplQXBwKCkgewogICAgdGV4dElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRleHRJbnB1dCIpOwogICAgcGxheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwbGF5QnV0dG9uIik7CiAgICBzdG9wQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0b3BCdXR0b24iKTsKICAgIHNwZWVkU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwZWVkU2xpZGVyIik7CiAgICBzdGF0dXNEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RhdHVzIik7CiAgICBjdXJyZW50V29yZERpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY3VycmVudFdvcmREaXNwbGF5Iik7CiAgICBzcGxpdE1vZGVSYWRpb3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgic3BsaXRNb2RlIik7CiAgICBmb250Q29sb3JQaWNrZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9udENvbG9yUGlja2VyIik7CiAgICBiZ0NvbG9yUGlja2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJnQ29sb3JQaWNrZXIiKTsKICAgIGRpZmZpY3VsdHlSYWRpb3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgiZGlmZmljdWx0eSIpOwogICAgZ2VuZXJhdGVBcnRpY2xlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdlbmVyYXRlQXJ0aWNsZUJ1dHRvbiIpOwogICAgYWlTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFpLXNlY3Rpb24iKTsKICAgIHF1ZXN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uLWNvbnRhaW5lciIpOwogICAgYW5zd2VySW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYW5zd2VySW5wdXQiKTsKICAgIHN1Ym1pdEFuc3dlckJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdWJtaXRBbnN3ZXJCdXR0b24iKTsKICAgIGZlZWRiYWNrUCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmZWVkYmFjayIpOwogICAgZnVsbEFydGljbGVDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZnVsbC1hcnRpY2xlLWNvbnRhaW5lciIpOwogICAgZnVsbEFydGljbGVQID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZ1bGxBcnRpY2xlIik7CiAgICB0ZXh0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCAoKSA9PiB7CiAgICAgIHVwZGF0ZURpc3BsYXlVbml0cygpOwogICAgICBpZiAodGV4dElucHV0LnZhbHVlLnRyaW0oKS5sZW5ndGggPiAwKSB7CiAgICAgICAgcGxheUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHBsYXlCdXR0b24uZGlzYWJsZWQgPSB0cnVlOwogICAgICB9CiAgICB9KTsKICAgIGFuc3dlcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgKCkgPT4gewogICAgICBpZiAoYW5zd2VySW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCA+IDApIHsKICAgICAgICBzdWJtaXRBbnN3ZXJCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdWJtaXRBbnN3ZXJCdXR0b24uZGlzYWJsZWQgPSB0cnVlOwogICAgICB9CiAgICB9KTsKICAgIGZvciAoY29uc3QgcmFkaW8gb2Ygc3BsaXRNb2RlUmFkaW9zKSB7CiAgICAgIHJhZGlvLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsICgpID0+IHsKICAgICAgICB1cGRhdGVEaXNwbGF5VW5pdHMoKTsKICAgICAgICBpZiAoaXNQbGF5aW5nKSB7CiAgICAgICAgICBzdG9wUGxheWluZygpOwogICAgICAgICAgY3VycmVudFdvcmREaXNwbGF5LnRleHRDb250ZW50ID0gIiI7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICAgIGZvbnRDb2xvclBpY2tlci5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsIChldmVudCkgPT4gewogICAgICBjdXJyZW50V29yZERpc3BsYXkuc3R5bGUuY29sb3IgPSBldmVudC50YXJnZXQudmFsdWU7CiAgICB9KTsKICAgIGJnQ29sb3JQaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCAoZXZlbnQpID0+IHsKICAgICAgY3VycmVudFdvcmREaXNwbGF5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgICAgaWYgKGJhY2tncm91bmQpIHsKICAgICAgICBiYWNrZ3JvdW5kLmNvbG9ycyhbZXZlbnQudGFyZ2V0LnZhbHVlLCBldmVudC50YXJnZXQudmFsdWUsIGV2ZW50LnRhcmdldC52YWx1ZSwgZXZlbnQudGFyZ2V0LnZhbHVlXSk7CiAgICAgIH0KICAgIH0pOwogICAgcGxheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgaWYgKGRpc3BsYXlVbml0cy5sZW5ndGggPT09IDApIHsKICAgICAgICB1cGRhdGVEaXNwbGF5VW5pdHMoKTsKICAgICAgICBpZiAoZGlzcGxheVVuaXRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgc3RhdHVzRGl2LnRleHRDb250ZW50ID0gIlx1OEFDQlx1NTE0OFx1OEYzOFx1NTE2NVx1NjU4N1x1NUI1N1x1NEUyNlx1OTA3OFx1NjRDN1x1NkEyMVx1NUYwRlx1MzAwMiI7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChpc1BsYXlpbmcpIHJldHVybjsKICAgICAgaXNQbGF5aW5nID0gdHJ1ZTsKICAgICAgcGxheUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7CiAgICAgIHN0b3BCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgdGV4dElucHV0LmRpc2FibGVkID0gdHJ1ZTsKICAgICAgc3BlZWRTbGlkZXIuZGlzYWJsZWQgPSB0cnVlOwogICAgICBmb3IgKGNvbnN0IHJhZGlvIG9mIHNwbGl0TW9kZVJhZGlvcykgewogICAgICAgIHJhZGlvLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgfQogICAgICBmb250Q29sb3JQaWNrZXIuZGlzYWJsZWQgPSB0cnVlOwogICAgICBiZ0NvbG9yUGlja2VyLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgc3RhdHVzRGl2LnRleHRDb250ZW50ID0gIlx1NkI2M1x1NTcyOFx1NjRBRFx1NjUzRS4uLiI7CiAgICAgIHBsYXlOZXh0VW5pdCgpOwogICAgfSk7CiAgICBzdG9wQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICBzdG9wUGxheWluZygpOwogICAgfSk7CiAgICBnZW5lcmF0ZUFydGljbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBnZW5lcmF0ZUFydGljbGUpOwogICAgc3VibWl0QW5zd2VyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgY2hlY2tBbnN3ZXIpOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImJlZm9yZXVubG9hZCIsICgpID0+IHsKICAgICAgaWYgKGlzUGxheWluZykgewogICAgICAgIHN0b3BQbGF5aW5nKCk7CiAgICAgIH0KICAgIH0pOwogICAgY3VycmVudFdvcmREaXNwbGF5LnN0eWxlLmNvbG9yID0gZm9udENvbG9yUGlja2VyLnZhbHVlOwogICAgY3VycmVudFdvcmREaXNwbGF5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJnQ29sb3JQaWNrZXIudmFsdWU7CiAgICB1cGRhdGVEaXNwbGF5VW5pdHMoKTsKICAgIHRyeSB7CiAgICAgIGJhY2tncm91bmQgPSBuZXcgQ29sb3I0QmcuQWVzdGhldGljRmx1aWRCZyh7CiAgICAgICAgZG9tOiAiYm94IiwKICAgICAgICBjb2xvcnM6IFsiI0MzRUNGNyIsICIjRDJGN0Y3IiwgIiNGOUY5RUYiLCAiI0ZGRTNFRSIsICIjRjVENUY3IiwgIiNDM0VDRjciXSwKICAgICAgICBsb29wOiB0cnVlCiAgICAgIH0pOwogICAgfSBjYXRjaCAoZTgpIHsKICAgICAgY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIGluaXRpYWxpemUgYmFja2dyb3VuZCBhbmltYXRpb246IiwgZTgpOwogICAgICBjb25zdCBib3hFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJveCIpOwogICAgICBpZiAoYm94RWxlbWVudCkgewogICAgICAgIGJveEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgfQogICAgfQogICAgY29uc3QgcmFkaW8xID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJhZGlvLTEiKTsKICAgIGNvbnN0IHJhZGlvMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyYWRpby0yIik7CiAgICBjb25zdCBhaUdlbmVyYXRlVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFpLWdlbmVyYXRlIik7CiAgICBjb25zdCBtYW51YWxJbnB1dFRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYW51YWwtaW5wdXQiKTsKICAgIGZ1bmN0aW9uIGhhbmRsZVRhYlN3aXRjaCgpIHsKICAgICAgY29uc3QgaXNBaVRhYiA9IHJhZGlvMS5jaGVja2VkOwogICAgICBhaUdlbmVyYXRlVGFiLmNsYXNzTGlzdC50b2dnbGUoImhpZGRlbiIsICFpc0FpVGFiKTsKICAgICAgbWFudWFsSW5wdXRUYWIuY2xhc3NMaXN0LnRvZ2dsZSgiaGlkZGVuIiwgaXNBaVRhYik7CiAgICAgIGFpU2VjdGlvbi5jbGFzc0xpc3QudG9nZ2xlKCJoaWRkZW4iLCAhaXNBaVRhYik7CiAgICAgIHVwZGF0ZURpc3BsYXlVbml0cygpOwogICAgfQogICAgcmFkaW8xLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGhhbmRsZVRhYlN3aXRjaCk7CiAgICByYWRpbzIuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgaGFuZGxlVGFiU3dpdGNoKTsKICAgIGhhbmRsZVRhYlN3aXRjaCgpOwogICAgZm9yIChjb25zdCByYWRpbyBvZiBkaWZmaWN1bHR5UmFkaW9zKSB7CiAgICAgIHJhZGlvLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsICgpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygiRGlmZmljdWx0eSBjaGFuZ2VkIHRvOiIsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ImRpZmZpY3VsdHkiXTpjaGVja2VkJykudmFsdWUpOwogICAgICB9KTsKICAgIH0KICB9CiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGluaXRpYWxpemVBcHApOwp9KSgpOwovKiEgQnVuZGxlZCBsaWNlbnNlIGluZm9ybWF0aW9uOgoKQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvY3VzdG9tLWVsZW1lbnQuanM6CkBsaXQvcmVhY3RpdmUtZWxlbWVudC9yZWFjdGl2ZS1lbGVtZW50LmpzOgpAbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qczoKQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvc3RhdGUuanM6CkBsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL2V2ZW50LW9wdGlvbnMuanM6CkBsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL2Jhc2UuanM6CkBsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LmpzOgpAbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGVjb3JhdG9ycy9xdWVyeS1hbGwuanM6CkBsaXQvcmVhY3RpdmUtZWxlbWVudC9kZWNvcmF0b3JzL3F1ZXJ5LWFzeW5jLmpzOgpAbGl0L3JlYWN0aXZlLWVsZW1lbnQvZGVjb3JhdG9ycy9xdWVyeS1hc3NpZ25lZC1ub2Rlcy5qczoKbGl0LWh0bWwvbGl0LWh0bWwuanM6CmxpdC1lbGVtZW50L2xpdC1lbGVtZW50LmpzOgpsaXQtaHRtbC9kaXJlY3RpdmUuanM6CiAgKCoqCiAgICogQGxpY2Vuc2UKICAgKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDCiAgICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZQogICAqKQoKQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2Nzcy10YWcuanM6CiAgKCoqCiAgICogQGxpY2Vuc2UKICAgKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDCiAgICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZQogICAqKQoKQGxpdC9yZWFjdGl2ZS1lbGVtZW50L2RlY29yYXRvcnMvcXVlcnktYXNzaWduZWQtZWxlbWVudHMuanM6CmxpdC1odG1sL2RpcmVjdGl2ZXMvd2hlbi5qczoKICAoKioKICAgKiBAbGljZW5zZQogICAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTEMKICAgKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlCiAgICopCgpsaXQtaHRtbC9pcy1zZXJ2ZXIuanM6CiAgKCoqCiAgICogQGxpY2Vuc2UKICAgKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDCiAgICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZQogICAqKQoKQG1hdGVyaWFsL3dlYi9lbGV2YXRpb24vaW50ZXJuYWwvZWxldmF0aW9uLmpzOgpAbWF0ZXJpYWwvd2ViL2VsZXZhdGlvbi9lbGV2YXRpb24uanM6CkBtYXRlcmlhbC93ZWIvcmlwcGxlL2ludGVybmFsL3JpcHBsZS5qczoKQG1hdGVyaWFsL3dlYi9yaXBwbGUvcmlwcGxlLmpzOgpAbWF0ZXJpYWwvd2ViL3JhZGlvL2ludGVybmFsL3NpbmdsZS1zZWxlY3Rpb24tY29udHJvbGxlci5qczoKQG1hdGVyaWFsL3dlYi9yYWRpby9yYWRpby5qczoKQG1hdGVyaWFsL3dlYi9pbnRlcm5hbC9jb250cm9sbGVyL3N0cmluZy1jb252ZXJ0ZXIuanM6CiAgKCoqCiAgICogQGxpY2Vuc2UKICAgKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDCiAgICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAKICAgKikKCkBtYXRlcmlhbC93ZWIvZWxldmF0aW9uL2ludGVybmFsL2VsZXZhdGlvbi1zdHlsZXMuanM6CkBtYXRlcmlhbC93ZWIvZm9jdXMvaW50ZXJuYWwvZm9jdXMtcmluZy1zdHlsZXMuanM6CkBtYXRlcmlhbC93ZWIvcmlwcGxlL2ludGVybmFsL3JpcHBsZS1zdHlsZXMuanM6CkBtYXRlcmlhbC93ZWIvYnV0dG9uL2ludGVybmFsL2VsZXZhdGVkLXN0eWxlcy5qczoKQG1hdGVyaWFsL3dlYi9idXR0b24vaW50ZXJuYWwvc2hhcmVkLWVsZXZhdGlvbi1zdHlsZXMuanM6CkBtYXRlcmlhbC93ZWIvYnV0dG9uL2ludGVybmFsL3NoYXJlZC1zdHlsZXMuanM6CkBtYXRlcmlhbC93ZWIvcmFkaW8vaW50ZXJuYWwvcmFkaW8tc3R5bGVzLmpzOgpAbWF0ZXJpYWwvd2ViL2NoZWNrYm94L2ludGVybmFsL2NoZWNrYm94LXN0eWxlcy5qczoKQG1hdGVyaWFsL3dlYi9maWVsZC9pbnRlcm5hbC9vdXRsaW5lZC1zdHlsZXMuanM6CkBtYXRlcmlhbC93ZWIvZmllbGQvaW50ZXJuYWwvc2hhcmVkLXN0eWxlcy5qczoKQG1hdGVyaWFsL3dlYi90ZXh0ZmllbGQvaW50ZXJuYWwvb3V0bGluZWQtc3R5bGVzLmpzOgpAbWF0ZXJpYWwvd2ViL3RleHRmaWVsZC9pbnRlcm5hbC9zaGFyZWQtc3R5bGVzLmpzOgpAbWF0ZXJpYWwvd2ViL3NsaWRlci9pbnRlcm5hbC9mb3JjZWQtY29sb3JzLXN0eWxlcy5qczoKQG1hdGVyaWFsL3dlYi9zbGlkZXIvaW50ZXJuYWwvc2xpZGVyLXN0eWxlcy5qczoKQG1hdGVyaWFsL3dlYi90eXBvZ3JhcGh5L21kLXR5cGVzY2FsZS1zdHlsZXMuanM6CiAgKCoqCiAgICogQGxpY2Vuc2UKICAgKiBDb3B5cmlnaHQgMjAyNCBHb29nbGUgTExDCiAgICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAKICAgKikKCkBtYXRlcmlhbC93ZWIvaW50ZXJuYWwvY29udHJvbGxlci9hdHRhY2hhYmxlLWNvbnRyb2xsZXIuanM6CkBtYXRlcmlhbC93ZWIvaW50ZXJuYWwvYXJpYS9hcmlhLmpzOgpAbWF0ZXJpYWwvd2ViL2ludGVybmFsL2FyaWEvZGVsZWdhdGUuanM6CkBtYXRlcmlhbC93ZWIvbGFicy9iZWhhdmlvcnMvZWxlbWVudC1pbnRlcm5hbHMuanM6CkBtYXRlcmlhbC93ZWIvaW50ZXJuYWwvY29udHJvbGxlci9mb3JtLXN1Ym1pdHRlci5qczoKQG1hdGVyaWFsL3dlYi9sYWJzL2JlaGF2aW9ycy9jb25zdHJhaW50LXZhbGlkYXRpb24uanM6CkBtYXRlcmlhbC93ZWIvbGFicy9iZWhhdmlvcnMvZm9jdXNhYmxlLmpzOgpAbWF0ZXJpYWwvd2ViL2xhYnMvYmVoYXZpb3JzL2Zvcm0tYXNzb2NpYXRlZC5qczoKQG1hdGVyaWFsL3dlYi9sYWJzL2JlaGF2aW9ycy92YWxpZGF0b3JzL3ZhbGlkYXRvci5qczoKQG1hdGVyaWFsL3dlYi9sYWJzL2JlaGF2aW9ycy92YWxpZGF0b3JzL3JhZGlvLXZhbGlkYXRvci5qczoKQG1hdGVyaWFsL3dlYi9sYWJzL2JlaGF2aW9ycy92YWxpZGF0b3JzL2NoZWNrYm94LXZhbGlkYXRvci5qczoKQG1hdGVyaWFsL3dlYi9sYWJzL2JlaGF2aW9ycy9vbi1yZXBvcnQtdmFsaWRpdHkuanM6CkBtYXRlcmlhbC93ZWIvbGFicy9iZWhhdmlvcnMvdmFsaWRhdG9ycy90ZXh0LWZpZWxkLXZhbGlkYXRvci5qczoKQG1hdGVyaWFsL3dlYi9zbGlkZXIvaW50ZXJuYWwvc2xpZGVyLmpzOgpAbWF0ZXJpYWwvd2ViL3NsaWRlci9zbGlkZXIuanM6CiAgKCoqCiAgICogQGxpY2Vuc2UKICAgKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDCiAgICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAKICAgKikKCkBtYXRlcmlhbC93ZWIvZm9jdXMvaW50ZXJuYWwvZm9jdXMtcmluZy5qczoKQG1hdGVyaWFsL3dlYi9mb2N1cy9tZC1mb2N1cy1yaW5nLmpzOgpAbWF0ZXJpYWwvd2ViL2ludGVybmFsL21vdGlvbi9hbmltYXRpb24uanM6CkBtYXRlcmlhbC93ZWIvaW50ZXJuYWwvZXZlbnRzL2Zvcm0tbGFiZWwtYWN0aXZhdGlvbi5qczoKQG1hdGVyaWFsL3dlYi9idXR0b24vaW50ZXJuYWwvZWxldmF0ZWQtYnV0dG9uLmpzOgpAbWF0ZXJpYWwvd2ViL2J1dHRvbi9lbGV2YXRlZC1idXR0b24uanM6CkBtYXRlcmlhbC93ZWIvaW50ZXJuYWwvZXZlbnRzL3JlZGlzcGF0Y2gtZXZlbnQuanM6CkBtYXRlcmlhbC93ZWIvZmllbGQvaW50ZXJuYWwvZmllbGQuanM6CkBtYXRlcmlhbC93ZWIvZmllbGQvaW50ZXJuYWwvb3V0bGluZWQtZmllbGQuanM6CkBtYXRlcmlhbC93ZWIvZmllbGQvb3V0bGluZWQtZmllbGQuanM6CkBtYXRlcmlhbC93ZWIvdGV4dGZpZWxkL2ludGVybmFsL3RleHQtZmllbGQuanM6CkBtYXRlcmlhbC93ZWIvdGV4dGZpZWxkL2ludGVybmFsL291dGxpbmVkLXRleHQtZmllbGQuanM6CkBtYXRlcmlhbC93ZWIvdGV4dGZpZWxkL291dGxpbmVkLXRleHQtZmllbGQuanM6CiAgKCoqCiAgICogQGxpY2Vuc2UKICAgKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDCiAgICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAKICAgKikKCmxpdC1odG1sL2RpcmVjdGl2ZXMvY2xhc3MtbWFwLmpzOgpsaXQtaHRtbC9kaXJlY3RpdmVzL3N0eWxlLW1hcC5qczoKICAoKioKICAgKiBAbGljZW5zZQogICAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTEMKICAgKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlCiAgICopCgpAbWF0ZXJpYWwvd2ViL2J1dHRvbi9pbnRlcm5hbC9idXR0b24uanM6CkBtYXRlcmlhbC93ZWIvY2hlY2tib3gvaW50ZXJuYWwvY2hlY2tib3guanM6CiAgKCoqCiAgICogQGxpY2Vuc2UKICAgKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDCiAgICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAKICAgKikKCkBtYXRlcmlhbC93ZWIvcmFkaW8vaW50ZXJuYWwvcmFkaW8uanM6CkBtYXRlcmlhbC93ZWIvY2hlY2tib3gvY2hlY2tib3guanM6CiAgKCoqCiAgICogQGxpY2Vuc2UKICAgKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDCiAgICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAKICAgKikKCmxpdC1odG1sL3N0YXRpYy5qczoKbGl0LWh0bWwvZGlyZWN0aXZlLWhlbHBlcnMuanM6CmxpdC1odG1sL2RpcmVjdGl2ZXMvbGl2ZS5qczoKICAoKioKICAgKiBAbGljZW5zZQogICAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMKICAgKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlCiAgICopCiovCg==",
    "mimeType": "application/javascript; charset=utf-8"
  },
  "/speedreader/favicon.svg": {
    "content": "PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTMgNXYxNGMwIDIuMjAxIDEuNzk0IDMgMyAzaDE1di0ySDYuMDEyQzUuNTUgMTkuOTg4IDUgMTkuODA2IDUgMTlzLjU1LS45ODggMS4wMTItMUgyMVY0YzAtMS4xMDMtLjg5Ny0yLTItMkg2Yy0xLjIwNiAwLTMgLjc5OS0zIDN6Ii8+PC9zdmc+",
    "mimeType": "image/svg+xml"
  },
  "/speedreader/index.html": {
    "content": "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9InpoLVRXIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+5paH5a2X6YCf6K6A5ZmoPC90aXRsZT4KICAgIDxsaW5rIHJlbD0iaWNvbiIgaHJlZj0iZmF2aWNvbi5zdmciIHR5cGU9ImltYWdlL3N2Zyt4bWwiPgogICAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Sb2JvdG86d2dodEA0MDA7NTAwOzcwMCZkaXNwbGF5PXN3YXAiIHJlbD0ic3R5bGVzaGVldCI+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Im91dHB1dC5jc3MiPgogICAgPHN0eWxlPgogICAgICAgIG1kLWVsZXZhdGVkLWJ1dHRvbiB7CiAgICAgICAgICAgIC0tbWQtZWxldmF0ZWQtYnV0dG9uLWNvbnRhaW5lci1jb2xvcjogI2U5ZmFmZjsKICAgICAgICAgICAgLS1tZC1lbGV2YXRlZC1idXR0b24tbGFiZWwtdGV4dC1jb2xvcjogIzAwMDAwMDsKICAgICAgICAgICAgLS1tZC1lbGV2YXRlZC1idXR0b24tcHJlc3NlZC1zdGF0ZS1sYXllci1jb2xvcjogIzc4YWVmZjsgLyog57Sr6ImyICovCiAgICAgICAgICAgIC0tbWQtZWxldmF0ZWQtYnV0dG9uLWhvdmVyLWxhYmVsLXRleHQtY29sb3I6IHJnYig5NSwgOTUsIDk1KTsKICAgICAgICAgICAgLS1tZC1lbGV2YXRlZC1idXR0b24taG92ZXItc3RhdGUtbGF5ZXItY29sb3I6ICNjOGRiZmY7IC8qIOa3seiXjSAqLwogICAgICAgICAgICAtLW1kLWVsZXZhdGVkLWJ1dHRvbi1ob3Zlci1zdGF0ZS1sYXllci1vcGFjaXR5OiAxOwogICAgICAgICAgICB3aWR0aDogMTUwcHg7CiAgICAgICAgfQogICAgICAgIG1kLXNsaWRlciB7CiAgICAgICAgICAgIC8qIOagueaTmuWclueJh+iqv+aVtOmhj+iJsiAqLwogICAgICAgICAgICAtLW1kLXNsaWRlci1oYW5kbGUtY29sb3I6ICMxOTc2ZDI7IC8qIOaOp+WItum7njog57Sr6ImyICovCiAgICAgICAgICAgIC0tbWQtc2xpZGVyLWxhYmVsLWNvbnRhaW5lci1jb2xvcjogIzE5NzZkMjsgLyog5qiZ57GkOiDntKvoibIgKi8KICAgICAgICAgICAgLS1tZC1zbGlkZXItYWN0aXZlLXRyYWNrLWNvbG9yOiAjMTk3NmQyOyAvKiDlt7LllZ/nlKjou4zpgZM6IOa3seiXjSAqLwogICAgICAgICAgICAtLW1kLXNsaWRlci1pbmFjdGl2ZS10cmFjay1jb2xvcjogI0JCREVGQjsgLyog5pyq5ZWf55So6LuM6YGTOiDmt7rol40gKi8KICAgICAgICAgICAgLS1tZC1zbGlkZXItaG92ZXItaGFuZGxlLWNvbG9yOiAjQkJERUZCOyAvKiDmh7jlgZzmmYLmjqfliLbpu546IOa3uuiXjSAqLwogICAgICAgICAgICAtLW1kLXNsaWRlci1mb2N1cy1oYW5kbGUtY29sb3I6ICNCQkRFRkI7IC8qIOiBmueEpuaZguaOp+WItum7njog5re66JeNICovCiAgICAgICAgICAgIC0tbWQtc2xpZGVyLXByZXNzZWQtaGFuZGxlLWNvbG9yOiAjQkJERUZCOyAvKiDmjInkuIvmmYLmjqfliLbpu546IOa3uuiXjSAqLwogICAgICAgIH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CgogICAgPGgxPuaWh+Wtl+mAn+iugOWZqDwvaDE+CgogICAgPGRpdiBjbGFzcz0ibWFpbi1sYXlvdXQiPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciIgaWQ9InNldHRpbmdzLWNvbnRhaW5lciI+Cgk8ZGl2IGNsYXNzPSJ0YWJzIG1haW4tdGFicyI+CgkJPGlucHV0IHR5cGU9InJhZGlvIiBpZD0icmFkaW8tMSIgbmFtZT0idGFicyIgY2hlY2tlZD0iIj4KCQk8bGFiZWwgY2xhc3M9InRhYiIgZm9yPSJyYWRpby0xIj5BSSDnlJ/miJA8L2xhYmVsPgoJCTxpbnB1dCB0eXBlPSJyYWRpbyIgaWQ9InJhZGlvLTIiIG5hbWU9InRhYnMiPgoJCTxsYWJlbCBjbGFzcz0idGFiIiBmb3I9InJhZGlvLTIiPuaJi+WLlei8uOWFpTwvbGFiZWw+CgkJPHNwYW4gY2xhc3M9ImdsaWRlciI+PC9zcGFuPgoJPC9kaXY+CgogICAgICAgIDwhLS0gQUkgR2VuZXJhdGUgVGFiIENvbnRlbnQgLS0+CiAgICAgICAgPGRpdiBpZD0iYWktZ2VuZXJhdGUiIGNsYXNzPSJ0YWItY29udGVudCAiPgogICAgICAgICAgICA8ZGl2IGlkPSJhaS1jb250cm9scyI+CiAgICAgICAgICAgICAgICA8aDI+QUkg55Sf5oiQ5paH56ugPC9oMj4KICAgICAgICAgICAgICAgIDxtZC1lbGV2YXRlZC1idXR0b24gaWQ9ImdlbmVyYXRlQXJ0aWNsZUJ1dHRvbiI+55Sf5oiQ5paH56ugPC9tZC1lbGV2YXRlZC1idXR0b24+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250cm9sLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+6Zuj5piT5bqmOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFicyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJyYWRpbyIgaWQ9ImRpZmYtZWFzeSIgbmFtZT0iZGlmZmljdWx0eSIgdmFsdWU9ImVhc3kiIGNoZWNrZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0idGFiIiBmb3I9ImRpZmYtZWFzeSI+57Ch5ZauPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBpZD0iZGlmZi1tZWRpdW0iIG5hbWU9ImRpZmZpY3VsdHkiIHZhbHVlPSJtZWRpdW0iPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9InRhYiIgZm9yPSJkaWZmLW1lZGl1bSI+5Lit562JPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBpZD0iZGlmZi1oYXJkIiBuYW1lPSJkaWZmaWN1bHR5IiB2YWx1ZT0iaGFyZCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0idGFiIiBmb3I9ImRpZmYtaGFyZCI+5Zuw6ZujPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImdsaWRlciI+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICA8IS0tIE1hbnVhbCBJbnB1dCBUYWIgQ29udGVudCAtLT4KICAgICAgICA8ZGl2IGlkPSJtYW51YWwtaW5wdXQiIGNsYXNzPSJ0YWItY29udGVudCBoaWRkZW4iPgogICAgICAgICAgICA8aDI+5omL5YuV6Ly45YWl5paH56ugPC9oMj4KICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJ0ZXh0SW5wdXQiIHBsYWNlaG9sZGVyPSLlnKjpgJnoo6HovLjlhaXmgqjmg7PpgJ/oroDnmoTmloflrZcuLi4iPjwvdGV4dGFyZWE+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDwhLS0gQ29tbW9uIENvbnRyb2xzIC0tPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRyb2wtZ3JvdXAiIHN0eWxlPSJtYXJnaW4tdG9wOiAxcmVtOyI+CiAgICAgICAgICAgIDxsYWJlbD7liIflibLmqKHlvI86PC9sYWJlbD4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFicyI+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIGlkPSJzcGxpdC13b3JkIiBuYW1lPSJzcGxpdE1vZGUiIHZhbHVlPSJ3b3JkIiBjaGVja2VkPSIiPgogICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJ0YWIiIGZvcj0ic3BsaXQtd29yZCI+5LiA5YCL5a2XL+ipnjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIGlkPSJzcGxpdC1zZW50ZW5jZSIgbmFtZT0ic3BsaXRNb2RlIiB2YWx1ZT0ic2VudGVuY2UiPgogICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJ0YWIiIGZvcj0ic3BsaXQtc2VudGVuY2UiPuS4gOWPpeipsTwvbGFiZWw+CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZ2xpZGVyIj48L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRyb2wtZ3JvdXAiIHN0eWxlPSJtYXJnaW4tdG9wOiAxcmVtOyI+CiAgICAgICAgICAgIDxsYWJlbCBmb3I9InNwZWVkU2xpZGVyIj7mkq3mlL7pgJ/luqYgKOWWruS9jS/liIbpkJgpOjwvbGFiZWw+CiAgICAgICAgICAgIDxtZC1zbGlkZXIKICAgICAgICAgICAgICAgIGlkPSJzcGVlZFNsaWRlciIKICAgICAgICAgICAgICAgIGxhYmVsZWQKICAgICAgICAgICAgICAgIHN0ZXA9IjEwMCIKICAgICAgICAgICAgICAgIG1pbj0iMTAwIgogICAgICAgICAgICAgICAgbWF4PSIxMDAwIgogICAgICAgICAgICAgICAgdmFsdWU9IjUwMCIKICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9IuaSreaUvumAn+W6pua7keWhiiIKICAgICAgICAgICAgICAgIHN0eWxlPSJ3aWR0aDogMjQ4cHg7IG1hcmdpbi1sZWZ0OiAtOHB4OyI+PC9tZC1zbGlkZXI+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBpZD0ic3RhdHVzIj48L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gQ29udGVudCBEaXNwbGF5IEFyZWEgLS0+CiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiIGlkPSJkaXNwbGF5LWNvbnRhaW5lciI+CiAgICAgICAgPGgyPuato+WcqOmhr+ekuueahOWFp+WuuTo8L2gyPgogICAgICAgIDxkaXYgaWQ9ImN1cnJlbnRXb3JkRGlzcGxheSI+PC9kaXY+CiAgICAgICAgPCEtLSBQbGF5L1N0b3AgYnV0dG9ucyBtb3ZlZCBoZXJlIC0tPgogICAgICAgIDxkaXYgY2xhc3M9ImJ1dHRvbi1jb250YWluZXIiPgogICAgICAgICAgICA8bWQtZWxldmF0ZWQtYnV0dG9uIGlkPSJwbGF5QnV0dG9uIiBkaXNhYmxlZD7plovlp4vmkq3mlL48L21kLWVsZXZhdGVkLWJ1dHRvbj4KICAgICAgICAgICAgPG1kLWVsZXZhdGVkLWJ1dHRvbiBpZD0ic3RvcEJ1dHRvbiIgZGlzYWJsZWQ+5YGc5q2iPC9tZC1lbGV2YXRlZC1idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPCEtLSBDb2xvciBQaWNrZXJzIG1vdmVkIGhlcmUgLS0+CiAgICAgICAgPGRpdiBjbGFzcz0iY29udHJvbHMtZ3JpZCIgc3R5bGU9Im1hcmdpbi10b3A6IDEuNXJlbTsiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250cm9sLWdyb3VwIj4KICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImZvbnRDb2xvclBpY2tlciI+5a2X6auU6aGP6ImyOjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY29sb3IiIGlkPSJmb250Q29sb3JQaWNrZXIiIHZhbHVlPSIjNDc0NzQ3Ij4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbnRyb2wtZ3JvdXAiPgogICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iYmdDb2xvclBpY2tlciI+6IOM5pmv6aGP6ImyOjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY29sb3IiIGlkPSJiZ0NvbG9yUGlja2VyIiB2YWx1ZT0iI0Y1RjVEQyI+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CjwvZGl2PgoKICAgIDwhLS0gQUkgUXVlc3Rpb24gU2VjdGlvbiBtb3ZlZCB0byB0aGUgYm90dG9tIC0tPgogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIiBpZD0iYWktc2VjdGlvbiI+CiAgICAgICAgPGRpdiBpZD0icXVlc3Rpb24tY29udGFpbmVyIj4KICAgICAgICAgICAgPGgyPuaPkOS6pOetlOahiO+8mjwvaDI+CiAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD0iYW5zd2VySW5wdXQiIHBsYWNlaG9sZGVyPSLoq4vlnKjmraTovLjlhaXmgqjnmoTnrZTmoYguLi4iPjwvdGV4dGFyZWE+CiAgICAgICAgICAgIDxtZC1lbGV2YXRlZC1idXR0b24gaWQ9InN1Ym1pdEFuc3dlckJ1dHRvbiIgZGlzYWJsZWQ+5o+Q5Lqk562U5qGIPC9tZC1lbGV2YXRlZC1idXR0b24+CiAgICAgICAgICAgIDxwIGlkPSJmZWVkYmFjayI+PC9wPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgaWQ9ImZ1bGwtYXJ0aWNsZS1jb250YWluZXIiIGNsYXNzPSJoaWRkZW4iPgogICAgICAgICAgICA8aDI+5paH56ug5YWo5paH77yaPC9oMj4KICAgICAgICAgICAgPHAgaWQ9ImZ1bGxBcnRpY2xlIj48L3A+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGlkPSJib3giPjwvZGl2PgoKICAgIDxzY3JpcHQgc3JjPSJBZXN0aGV0aWNGbHVpZEJnLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHR5cGU9Im1vZHVsZSIgc3JjPSJidW5kbGUuanMiPjwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K",
    "mimeType": "text/html; charset=utf-8"
  },
  "/speedreader/output.css": {
    "content": "OnJvb3QgewogICAgLS1iZy1jb2xvcjogI2YwZjJmNTsKICAgIC0tY29udGFpbmVyLWJnOiAjZmZmZmZmOwogICAgLS10ZXh0LWNvbG9yOiAjMWQxZDFmOwogICAgLS1zZWNvbmRhcnktdGV4dC1jb2xvcjogIzZlNmU3MzsKICAgIC0tYWNjZW50LWNvbG9yOiAjMDA3YWZmOwogICAgLS1hY2NlbnQtY29sb3ItaG92ZXI6ICMwMDcxZTM7CiAgICAtLWJvcmRlci1jb2xvcjogI2QyZDJkNzsKICAgIC0taW5wdXQtYmc6ICNmNWY1Zjc7CiAgICAtLXNoYWRvdy1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjEpOwp9CgouaGlkZGVuIHsKICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsKfQoKYm9keSB7CiAgICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAiU2Vnb2UgVUkiLCBSb2JvdG8sICJIZWx2ZXRpY2EgTmV1ZSIsIEFyaWFsLCBzYW5zLXNlcmlmOwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgcGFkZGluZzogMnJlbTsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnLWNvbG9yKTsKICAgIGNvbG9yOiB2YXIoLS10ZXh0LWNvbG9yKTsKICAgIG1pbi1oZWlnaHQ6IDEwMHZoOwogICAgbWFyZ2luOiAwOwogICAgbGluZS1oZWlnaHQ6IDEuNTsKfQoKLm1haW4tbGF5b3V0IHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIHdpZHRoOiAxMDAlOwogICAgbWF4LXdpZHRoOiAxNjAwcHg7CiAgICBnYXA6IDIwcHg7Cn0KCiNzZXR0aW5ncy1jb250YWluZXIgewogICAgd2lkdGg6IDQ1JTsKfQoKI2Rpc3BsYXktY29udGFpbmVyIHsKICAgIHdpZHRoOiA0NSU7Cn0KCiNhaS1zZWN0aW9uIHsKICAgIHdpZHRoOiA5MCU7CiAgICBtYXgtd2lkdGg6IDgwMHB4OwogICAgbWFyZ2luOiAwIGF1dG87Cn0KCiNxdWVzdGlvbi1jb250YWluZXIgewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwp9CgojcXVlc3Rpb24tY29udGFpbmVyIGgyIHsKICAgIHdpZHRoOiAxMDAlOwogICAgdGV4dC1hbGlnbjogbGVmdDsKfQoKI2ZlZWRiYWNrIHsKICAgIG1hcmdpbi10b3A6IDFyZW07Cn0KCmgxLCBoMiB7CiAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7CiAgICBmb250LXdlaWdodDogNjAwOwp9CgpoMSB7CiAgICBmb250LXNpemU6IDIuNXJlbTsKICAgIG1hcmdpbi1ib3R0b206IDEuNXJlbTsKfQoKaDIgewogICAgZm9udC1zaXplOiAxLjVyZW07CiAgICBtYXJnaW4tdG9wOiAwOwogICAgbWFyZ2luLWJvdHRvbTogMXJlbTsKfQoKLmNvbnRhaW5lciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb250YWluZXItYmcpOwogICAgcGFkZGluZzogMnJlbTsKICAgIGJvcmRlci1yYWRpdXM6IDE4cHg7CiAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHZhcigtLXNoYWRvdy1jb2xvcik7CiAgICBtYXJnaW4tYm90dG9tOiAycmVtOwogICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKfQoKdGV4dGFyZWEgewogICAgd2lkdGg6IDEwMCU7CiAgICBwYWRkaW5nOiAxMnB4OwogICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW5wdXQtYmcpOwogICAgY29sb3I6IHZhcigtLXRleHQtY29sb3IpOwogICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMnMsIGJveC1zaGFkb3cgMC4yczsKfQoKdGV4dGFyZWEgewogICAgaGVpZ2h0OiAxNTBweDsKICAgIG1hcmdpbi1ib3R0b206IDFyZW07Cn0KCnRleHRhcmVhOmZvY3VzLAouY29udHJvbC1ncm91cCBzZWxlY3Q6Zm9jdXMgewogICAgb3V0bGluZTogbm9uZTsKICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yKTsKICAgIGJveC1zaGFkb3c6IDAgMCAwIDRweCByZ2JhKDAsIDEyMiwgMjU1LCAwLjMpOwp9CgoKLmJ1dHRvbi1jb250YWluZXIgewogICAgZGlzcGxheTogZmxleDsKICAgIGdhcDogMTJweDsKICAgIGZsZXgtd3JhcDogd3JhcDsKICAgIG1hcmdpbi10b3A6IDFyZW07CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoKLmNvbnRyb2xzLWdyaWQgewogICAgZGlzcGxheTogZ3JpZDsKICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOwogICAgZ2FwOiAxcmVtOwogICAgbWFyZ2luLXRvcDogMS41cmVtOwogICAgbWFyZ2luLWJvdHRvbTogMS41cmVtOwp9CgpAbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHsKICAgIC5jb250cm9scy1ncmlkIHsKICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7CiAgICAgICAgZ2FwOiAxLjVyZW07CiAgICB9Cn0KCi5jb250cm9sLWdyb3VwIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgZ2FwOiA4cHg7CiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDsgLyogQWxpZ24gaXRlbXMgdG8gdGhlIGxlZnQgKi8KfQoKLmNvbnRyb2wtZ3JvdXAgbGFiZWwgewogICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcik7Cn0KCi5jb250cm9sLWdyb3VwIGlucHV0W3R5cGU9ImNvbG9yIl0gewogICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOwogICAgLW1vei1hcHBlYXJhbmNlOiBub25lOwogICAgYXBwZWFyYW5jZTogbm9uZTsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiA1MnB4OwogICAgcGFkZGluZzogNHB4OwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICBib3JkZXI6IG5vbmU7IC8qIOenu+mZpOeAj+imveWZqOmgkOioreeahOmCiuahhiAqLwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQouY29udHJvbC1ncm91cCBpbnB1dFt0eXBlPSJjb2xvciJdOjotd2Via2l0LWNvbG9yLXN3YXRjaCB7CiAgICBib3JkZXItcmFkaXVzOiA5OXB4OwogICAgYm9yZGVyOiAxcHggc29saWQ7Cn0KLmNvbnRyb2wtZ3JvdXAgaW5wdXRbdHlwZT0iY29sb3IiXTo6LW1vei1jb2xvci1zd2F0Y2ggewogICAgYm9yZGVyLXJhZGl1czogOTlweDsKICAgIGJvcmRlcjogMXB4IHNvbGlkOwp9Cgojc3RhdHVzIHsKICAgIG1hcmdpbi10b3A6IDFyZW07CiAgICBmb250LXN0eWxlOiBpdGFsaWM7CiAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpOwogICAgd2lkdGg6IDEwMCU7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCiNjdXJyZW50V29yZERpc3BsYXkgewogICAgZmxleC1ncm93OiAxOwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGZvbnQtc2l6ZTogN3Z3OwogICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgIG1pbi1oZWlnaHQ6IDI1MHB4OwogICAgcGFkZGluZzogMnJlbTsKICAgIGJvcmRlcjogbm9uZTsKICAgIGJvcmRlci1yYWRpdXM6IDE4cHg7CiAgICB3aWR0aDogMTAwJTsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkOwogICAgd29yZC1icmVhazogYnJlYWstYWxsOwogICAgYmFja2dyb3VuZC1jb2xvcjogI0Y1RjVEQzsgLyog5oGi5b6p6IOM5pmv6aGP6ImyICovCiAgICBjb2xvcjogIzIyMjIyMjsKICAgIGxpbmUtaGVpZ2h0OiAxLjQ7CiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MsIGNvbG9yIDAuM3M7Cn0KCiNib3ggewogICAgcG9zaXRpb246IGZpeGVkOyAvKiDorpPog4zmma/opobok4vmlbTlgIvoppbnqpcgKi8KICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogMTAwdnc7CiAgICBoZWlnaHQ6IDEwMHZoOwogICAgei1pbmRleDogLTI7IC8qIOeiuuS/neiDjOaZr+WcqOaJgOacieWFp+WuueS4i+aWuSAqLwp9CgpAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHsKICAgIGgxIHsgZm9udC1zaXplOiAycmVtOyB9CiAgICAjY3VycmVudFdvcmREaXNwbGF5IHsgZm9udC1zaXplOiA5dnc7IG1pbi1oZWlnaHQ6IDIwMHB4OyB9Cn0KCkBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkgewogICAgYm9keSB7IHBhZGRpbmc6IDFyZW07IH0KICAgIGgxIHsgZm9udC1zaXplOiAxLjhyZW07IH0KICAgIC5jb250YWluZXIgeyBwYWRkaW5nOiAxLjVyZW07IH0KICAgICNjdXJyZW50V29yZERpc3BsYXkgeyBmb250LXNpemU6IDEydnc7IG1pbi1oZWlnaHQ6IDE4MHB4OyB9CiAgICAuYnV0dG9uLWNvbnRhaW5lciB7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IH0KICAgIGJ1dHRvbiB7IHdpZHRoOiAxMDAlOyB9Cn0KCiNhaS1jb250cm9scyB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogICAgZ2FwOiAxcmVtOwp9CgojYWktY29udHJvbHMgaDIgewogICAgd2lkdGg6IDEwMCU7CiAgICB0ZXh0LWFsaWduOiBsZWZ0Owp9CgoKLyogRnJvbSBVaXZlcnNlLmlvIGJ5IFByYWRlZXBzYXJhbmJpc2hub2kgKi8gCi50YWJzIHsKICBkaXNwbGF5OiBmbGV4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogIGJveC1zaGFkb3c6IDAgMCAxcHggMCByZ2JhKDI0LCA5NCwgMjI0LCAwLjE1KSwgMCA2cHggMTJweCAwIHJnYmEoMjQsIDk0LCAyMjQsIDAuMTUpOwogIHBhZGRpbmc6IDAuNzVyZW07CiAgYm9yZGVyLXJhZGl1czogOTlweDsKICB3aWR0aDogLW1vei1maXQtY29udGVudDsKICB3aWR0aDogZml0LWNvbnRlbnQ7Cn0KCi5tYWluLXRhYnMgewogIG1hcmdpbjogMCBhdXRvOwp9CgoudGFicyAqIHsKICB6LWluZGV4OiAyOwp9CgouY29udGFpbmVyIGlucHV0W3R5cGU9InJhZGlvIl0gewogIGRpc3BsYXk6IG5vbmU7Cn0KCi50YWIgewogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBoZWlnaHQ6IDMwcHg7CiAgd2lkdGg6IDEwMHB4OwogIGZvbnQtc2l6ZTogLjhyZW07CiAgY29sb3I6IGJsYWNrOwogIGZvbnQtd2VpZ2h0OiA1MDA7CiAgYm9yZGVyLXJhZGl1czogOTlweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgdHJhbnNpdGlvbjogY29sb3IgMC4xNXMgZWFzZS1pbjsKfQoKLm5vdGlmaWNhdGlvbiB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIHdpZHRoOiAuOHJlbTsKICBoZWlnaHQ6IC44cmVtOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDEwcHg7CiAgbGVmdDogMzAlOwogIGZvbnQtc2l6ZTogMTBweDsKICBtYXJnaW4tbGVmdDogMC43NXJlbTsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgbWFyZ2luOiAwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogI2U2ZWVmOTsKICB0cmFuc2l0aW9uOiAwLjE1cyBlYXNlLWluOwp9CgouY29udGFpbmVyIGlucHV0W3R5cGU9InJhZGlvIl06Y2hlY2tlZCArIGxhYmVsIHsKICBjb2xvcjogIzE4NWVlMDsKfQoKLmNvbnRhaW5lciBpbnB1dFt0eXBlPSJyYWRpbyJdOmNoZWNrZWQgKyBsYWJlbCA+IC5ub3RpZmljYXRpb24gewogIGJhY2tncm91bmQtY29sb3I6ICMxODVlZTA7CiAgY29sb3I6ICNmZmY7CiAgbWFyZ2luOiAwcHg7Cn0KCi5jb250YWluZXIgaW5wdXRbaWQ9InJhZGlvLTEiXTpjaGVja2VkIH4gLmdsaWRlciB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwp9CgouY29udGFpbmVyIGlucHV0W2lkPSJyYWRpby0yIl06Y2hlY2tlZCB+IC5nbGlkZXIgewogIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMDAlKTsKfQoKLmNvbnRhaW5lciBpbnB1dFtpZD0icmFkaW8tMyJdOmNoZWNrZWQgfiAuZ2xpZGVyIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMjAwJSk7Cn0KCi5kaWZmaWN1bHR5LXRhYnMgewogICAgd2lkdGg6IDEwMCU7CiAgICBtYXJnaW46IDA7Cn0KCi5kaWZmaWN1bHR5LXRhYnMgLnRhYiB7CiAgICB3aWR0aDogMzMuMzMlOwp9CgouZGlmZmljdWx0eS10YWJzIC5nbGlkZXIgewogICAgd2lkdGg6IDMzLjMzJTsKfQoKLmNvbnRhaW5lciBpbnB1dFtpZD0iZGlmZi1lYXN5Il06Y2hlY2tlZCB+IC5nbGlkZXIgewogIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKfQoKLmNvbnRhaW5lciBpbnB1dFtpZD0iZGlmZi1tZWRpdW0iXTpjaGVja2VkIH4gLmdsaWRlciB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOwp9CgouY29udGFpbmVyIGlucHV0W2lkPSJkaWZmLWhhcmQiXTpjaGVja2VkIH4gLmdsaWRlciB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDIwMCUpOwp9CgouZ2xpZGVyIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgZGlzcGxheTogZmxleDsKICBoZWlnaHQ6IDMwcHg7CiAgd2lkdGg6IDEwMHB4OwogIGJhY2tncm91bmQtY29sb3I6ICNlNmVlZjk7CiAgei1pbmRleDogMTsKICBib3JkZXItcmFkaXVzOiA5OXB4OwogIHRyYW5zaXRpb246IDAuMjVzIGVhc2Utb3V0Owp9CgpAbWVkaWEgKG1heC13aWR0aDogNzAwcHgpIHsKIAogIC50YWJzIHsKICAgIHRyYW5zZm9ybTogc2NhbGUoMC42KTsKICB9Cn0KCi8qIFN0eWxlcyBmb3IgdGhlIG5ldyBzcGxpdCBtb2RlIHRhYnMgKi8KLnNwbGl0LW1vZGUtdGFicyB7CiAgICBtYXJnaW46IDA7CiAgICB3aWR0aDogMTAwJTsKfQoKLnNwbGl0LW1vZGUtdGFicyAudGFiIHsKICAgIHdpZHRoOiA1MCU7Cn0KCi5zcGxpdC1tb2RlLXRhYnMgLmdsaWRlciB7CiAgICB3aWR0aDogNTAlOwp9CgoudGFicyAuZ2xpZGVyIHsKICAgIHdpZHRoOiAxMDBweDsgLyogTWF0Y2ggdGhlIHRhYiB3aWR0aCAqLwp9CgouY29udGFpbmVyIGlucHV0W2lkPSJzcGxpdC13b3JkIl06Y2hlY2tlZCB+IC5nbGlkZXIgewogIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKfQoKLmNvbnRhaW5lciBpbnB1dFtpZD0ic3BsaXQtc2VudGVuY2UiXTpjaGVja2VkIH4gLmdsaWRlciB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOwp9Cg==",
    "mimeType": "text/css; charset=utf-8"
  }
};

addEventListener('fetch', event => {
  event.respondWith(handleRequest(event.request));
});

async function handleRequest(request) {
  const url = new URL(request.url);

  // --- API  ---
  //  /speedreader/api/deepseek 
  const API_PATH = '/speedreader/api/deepseek';
  if (url.pathname === API_PATH) {
    //  POST 
    if (request.method !== 'POST') {
      return new Response('Method Not Allowed', { status: 405 });
    }
    // 
    return handleApiRequest(request);
  }

  // ---  ---
  const { pathname } = url;
  let key = pathname;

  // 
  if (key === '/speedreader/' || key === '/speedreader') {
    key = '/speedreader/index.html';
  } else if (key.startsWith('/speedreader')) {
    //  /speedreader/file.ext 
    key = `/speedreader${pathname.substring('/speedreader'.length)}`;
  } else {
    //  /speedreader/  index.html  SPA 
    key = '/speedreader/index.html';
  }

  const asset = staticAssets[key];

  if (asset) {
    //  Base64 
    const buffer = Uint8Array.from(atob(asset.content), c => c.charCodeAt(0));
    return new Response(buffer, {
      headers: { 'Content-Type': asset.mimeType }
    });
  }

  //  index.html
  const indexAsset = staticAssets['/speedreader/index.html'];
  if (indexAsset) {
    const buffer = Uint8Array.from(atob(indexAsset.content), c => c.charCodeAt(0));
    return new Response(buffer, {
      headers: { 'Content-Type': indexAsset.mimeType }
    });
  }

  return new Response('Asset not found', { status: 404 });
}

/**
 *  OpenRouter API 
 * @param {Request} request
 */
async function handleApiRequest(request) {
  //  Worker  API Key
  // ****:  Worker  Pages  DEEPSEEK_API_KEY 
  const openRouterApiKey = env.DEEPSEEK_API_KEY;

  if (!openRouterApiKey) {
    return new Response(JSON.stringify({ error: 'DEEPSEEK_API_KEY not configured in Worker secrets. Please bind the secret from your Pages project.' }), {
      status: 500,
      headers: { 'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*' },
    });
  }

  try {
    let requestBody = await request.json();
    requestBody.model = 'deepseek/deepseek-chat-v3-0324:free';

    const fetchOptions = {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${openRouterApiKey}`,
        'HTTP-Referer': request.headers.get('Referer') || '', //  Referer
        'X-Title': 'Speed Reader',
      },
      body: JSON.stringify(requestBody),
    };

    const openRouterUrl = 'https://openrouter.ai/api/v1/chat/completions';
    const apiResponse = await fetch(openRouterUrl, fetchOptions);

    //  CORS header
    const responseHeaders = new Headers(apiResponse.headers);
    responseHeaders.set('Access-Control-Allow-Origin', '*');

    return new Response(apiResponse.body, {
      status: apiResponse.status,
      headers: responseHeaders,
    });

  } catch (error) {
    return new Response(JSON.stringify({ error: 'Internal Server Error in Worker.', message: error.message }), {
      status: 500,
      headers: { 'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*' },
    });
  }
}
